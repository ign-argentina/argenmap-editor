var A1=Object.defineProperty;var C1=(l,t,i)=>t in l?A1(l,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[t]=i;var x0=(l,t,i)=>C1(l,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(r){if(r.ep)return;r.ep=!0;const u=i(r);fetch(r.href,u)}})();function M1(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var uh={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function O1(){if(w0)return ul;w0=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,r,u){var h=null;if(u!==void 0&&(h=""+u),r.key!==void 0&&(h=""+r.key),"key"in r){u={};for(var d in r)d!=="key"&&(u[d]=r[d])}else u=r;return r=u.ref,{$$typeof:l,type:a,key:h,ref:r!==void 0?r:null,props:u}}return ul.Fragment=t,ul.jsx=i,ul.jsxs=i,ul}var A0;function L1(){return A0||(A0=1,uh.exports=O1()),uh.exports}var Y=L1(),ch={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function D1(){if(C0)return ht;C0=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),p=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=p&&S[p]||S["@@iterator"],typeof S=="function"?S:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function O(S,H,F){this.props=S,this.context=H,this.refs=D,this.updater=F||R}O.prototype.isReactComponent={},O.prototype.setState=function(S,H){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,H,"setState")},O.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function I(){}I.prototype=O.prototype;function B(S,H,F){this.props=S,this.context=H,this.refs=D,this.updater=F||R}var q=B.prototype=new I;q.constructor=B,x(q,O.prototype),q.isPureReactComponent=!0;var V=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function tt(S,H,F,K,$,ct){return F=ct.ref,{$$typeof:l,type:S,key:H,ref:F!==void 0?F:null,props:ct}}function Z(S,H){return tt(S.type,H,void 0,void 0,void 0,S.props)}function W(S){return typeof S=="object"&&S!==null&&S.$$typeof===l}function nt(S){var H={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(F){return H[F]})}var Mt=/\/+/g;function Et(S,H){return typeof S=="object"&&S!==null&&S.key!=null?nt(""+S.key):H.toString(36)}function gt(){}function Zt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(gt,gt):(S.status="pending",S.then(function(H){S.status==="pending"&&(S.status="fulfilled",S.value=H)},function(H){S.status==="pending"&&(S.status="rejected",S.reason=H)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function Tt(S,H,F,K,$){var ct=typeof S;(ct==="undefined"||ct==="boolean")&&(S=null);var it=!1;if(S===null)it=!0;else switch(ct){case"bigint":case"string":case"number":it=!0;break;case"object":switch(S.$$typeof){case l:case t:it=!0;break;case _:return it=S._init,Tt(it(S._payload),H,F,K,$)}}if(it)return $=$(S),it=K===""?"."+Et(S,0):K,V($)?(F="",it!=null&&(F=it.replace(Mt,"$&/")+"/"),Tt($,H,F,"",function(ue){return ue})):$!=null&&(W($)&&($=Z($,F+($.key==null||S&&S.key===$.key?"":(""+$.key).replace(Mt,"$&/")+"/")+it)),H.push($)),1;it=0;var Ut=K===""?".":K+":";if(V(S))for(var xt=0;xt<S.length;xt++)K=S[xt],ct=Ut+Et(K,xt),it+=Tt(K,H,F,ct,$);else if(xt=E(S),typeof xt=="function")for(S=xt.call(S),xt=0;!(K=S.next()).done;)K=K.value,ct=Ut+Et(K,xt++),it+=Tt(K,H,F,ct,$);else if(ct==="object"){if(typeof S.then=="function")return Tt(Zt(S),H,F,K,$);throw H=String(S),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return it}function N(S,H,F){if(S==null)return S;var K=[],$=0;return Tt(S,K,"","",function(ct){return H.call(F,ct,$++)}),K}function P(S){if(S._status===-1){var H=S._result;H=H(),H.then(function(F){(S._status===0||S._status===-1)&&(S._status=1,S._result=F)},function(F){(S._status===0||S._status===-1)&&(S._status=2,S._result=F)}),S._status===-1&&(S._status=0,S._result=H)}if(S._status===1)return S._result.default;throw S._result}var k=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function rt(){}return ht.Children={map:N,forEach:function(S,H,F){N(S,function(){H.apply(this,arguments)},F)},count:function(S){var H=0;return N(S,function(){H++}),H},toArray:function(S){return N(S,function(H){return H})||[]},only:function(S){if(!W(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ht.Component=O,ht.Fragment=i,ht.Profiler=r,ht.PureComponent=B,ht.StrictMode=a,ht.Suspense=g,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ht.__COMPILER_RUNTIME={__proto__:null,c:function(S){return z.H.useMemoCache(S)}},ht.cache=function(S){return function(){return S.apply(null,arguments)}},ht.cloneElement=function(S,H,F){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var K=x({},S.props),$=S.key,ct=void 0;if(H!=null)for(it in H.ref!==void 0&&(ct=void 0),H.key!==void 0&&($=""+H.key),H)!J.call(H,it)||it==="key"||it==="__self"||it==="__source"||it==="ref"&&H.ref===void 0||(K[it]=H[it]);var it=arguments.length-2;if(it===1)K.children=F;else if(1<it){for(var Ut=Array(it),xt=0;xt<it;xt++)Ut[xt]=arguments[xt+2];K.children=Ut}return tt(S.type,$,void 0,void 0,ct,K)},ht.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},ht.createElement=function(S,H,F){var K,$={},ct=null;if(H!=null)for(K in H.key!==void 0&&(ct=""+H.key),H)J.call(H,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&($[K]=H[K]);var it=arguments.length-2;if(it===1)$.children=F;else if(1<it){for(var Ut=Array(it),xt=0;xt<it;xt++)Ut[xt]=arguments[xt+2];$.children=Ut}if(S&&S.defaultProps)for(K in it=S.defaultProps,it)$[K]===void 0&&($[K]=it[K]);return tt(S,ct,void 0,void 0,null,$)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(S){return{$$typeof:d,render:S}},ht.isValidElement=W,ht.lazy=function(S){return{$$typeof:_,_payload:{_status:-1,_result:S},_init:P}},ht.memo=function(S,H){return{$$typeof:m,type:S,compare:H===void 0?null:H}},ht.startTransition=function(S){var H=z.T,F={};z.T=F;try{var K=S(),$=z.S;$!==null&&$(F,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(rt,k)}catch(ct){k(ct)}finally{z.T=H}},ht.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ht.use=function(S){return z.H.use(S)},ht.useActionState=function(S,H,F){return z.H.useActionState(S,H,F)},ht.useCallback=function(S,H){return z.H.useCallback(S,H)},ht.useContext=function(S){return z.H.useContext(S)},ht.useDebugValue=function(){},ht.useDeferredValue=function(S,H){return z.H.useDeferredValue(S,H)},ht.useEffect=function(S,H,F){var K=z.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(S,H)},ht.useId=function(){return z.H.useId()},ht.useImperativeHandle=function(S,H,F){return z.H.useImperativeHandle(S,H,F)},ht.useInsertionEffect=function(S,H){return z.H.useInsertionEffect(S,H)},ht.useLayoutEffect=function(S,H){return z.H.useLayoutEffect(S,H)},ht.useMemo=function(S,H){return z.H.useMemo(S,H)},ht.useOptimistic=function(S,H){return z.H.useOptimistic(S,H)},ht.useReducer=function(S,H,F){return z.H.useReducer(S,H,F)},ht.useRef=function(S){return z.H.useRef(S)},ht.useState=function(S){return z.H.useState(S)},ht.useSyncExternalStore=function(S,H,F){return z.H.useSyncExternalStore(S,H,F)},ht.useTransition=function(){return z.H.useTransition()},ht.version="19.1.0",ht}var M0;function sf(){return M0||(M0=1,ch.exports=D1()),ch.exports}var _t=sf();const O0=M1(_t);var hh={exports:{}},cl={},fh={exports:{}},dh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function N1(){return L0||(L0=1,function(l){function t(N,P){var k=N.length;N.push(P);t:for(;0<k;){var rt=k-1>>>1,S=N[rt];if(0<r(S,P))N[rt]=P,N[k]=S,k=rt;else break t}}function i(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var P=N[0],k=N.pop();if(k!==P){N[0]=k;t:for(var rt=0,S=N.length,H=S>>>1;rt<H;){var F=2*(rt+1)-1,K=N[F],$=F+1,ct=N[$];if(0>r(K,k))$<S&&0>r(ct,K)?(N[rt]=ct,N[$]=k,rt=$):(N[rt]=K,N[F]=k,rt=F);else if($<S&&0>r(ct,k))N[rt]=ct,N[$]=k,rt=$;else break t}}return P}function r(N,P){var k=N.sortIndex-P.sortIndex;return k!==0?k:N.id-P.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;l.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();l.unstable_now=function(){return h.now()-d}}var g=[],m=[],_=1,p=null,E=3,R=!1,x=!1,D=!1,O=!1,I=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function V(N){for(var P=i(m);P!==null;){if(P.callback===null)a(m);else if(P.startTime<=N)a(m),P.sortIndex=P.expirationTime,t(g,P);else break;P=i(m)}}function z(N){if(D=!1,V(N),!x)if(i(g)!==null)x=!0,J||(J=!0,Et());else{var P=i(m);P!==null&&Tt(z,P.startTime-N)}}var J=!1,tt=-1,Z=5,W=-1;function nt(){return O?!0:!(l.unstable_now()-W<Z)}function Mt(){if(O=!1,J){var N=l.unstable_now();W=N;var P=!0;try{t:{x=!1,D&&(D=!1,B(tt),tt=-1),R=!0;var k=E;try{e:{for(V(N),p=i(g);p!==null&&!(p.expirationTime>N&&nt());){var rt=p.callback;if(typeof rt=="function"){p.callback=null,E=p.priorityLevel;var S=rt(p.expirationTime<=N);if(N=l.unstable_now(),typeof S=="function"){p.callback=S,V(N),P=!0;break e}p===i(g)&&a(g),V(N)}else a(g);p=i(g)}if(p!==null)P=!0;else{var H=i(m);H!==null&&Tt(z,H.startTime-N),P=!1}}break t}finally{p=null,E=k,R=!1}P=void 0}}finally{P?Et():J=!1}}}var Et;if(typeof q=="function")Et=function(){q(Mt)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,Zt=gt.port2;gt.port1.onmessage=Mt,Et=function(){Zt.postMessage(null)}}else Et=function(){I(Mt,0)};function Tt(N,P){tt=I(function(){N(l.unstable_now())},P)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(N){N.callback=null},l.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<N?Math.floor(1e3/N):5},l.unstable_getCurrentPriorityLevel=function(){return E},l.unstable_next=function(N){switch(E){case 1:case 2:case 3:var P=3;break;default:P=E}var k=E;E=P;try{return N()}finally{E=k}},l.unstable_requestPaint=function(){O=!0},l.unstable_runWithPriority=function(N,P){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var k=E;E=N;try{return P()}finally{E=k}},l.unstable_scheduleCallback=function(N,P,k){var rt=l.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?rt+k:rt):k=rt,N){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=k+S,N={id:_++,callback:P,priorityLevel:N,startTime:k,expirationTime:S,sortIndex:-1},k>rt?(N.sortIndex=k,t(m,N),i(g)===null&&N===i(m)&&(D?(B(tt),tt=-1):D=!0,Tt(z,k-rt))):(N.sortIndex=S,t(g,N),x||R||(x=!0,J||(J=!0,Et()))),N},l.unstable_shouldYield=nt,l.unstable_wrapCallback=function(N){var P=E;return function(){var k=E;E=P;try{return N.apply(this,arguments)}finally{E=k}}}}(dh)),dh}var D0;function z1(){return D0||(D0=1,fh.exports=N1()),fh.exports}var gh={exports:{}},ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function U1(){if(N0)return ye;N0=1;var l=sf();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(g,m,_){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:g,containerInfo:m,implementation:_}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ye.createPortal=function(g,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(g,m,null,_)},ye.flushSync=function(g){var m=h.T,_=a.p;try{if(h.T=null,a.p=2,g)return g()}finally{h.T=m,a.p=_,a.d.f()}},ye.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},ye.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},ye.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var _=m.as,p=d(_,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:p,integrity:E,fetchPriority:R}):_==="script"&&a.d.X(g,{crossOrigin:p,integrity:E,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ye.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=d(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},ye.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,p=d(_,m.crossOrigin);a.d.L(g,_,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ye.preloadModule=function(g,m){if(typeof g=="string")if(m){var _=d(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},ye.requestFormReset=function(g){a.d.r(g)},ye.unstable_batchedUpdates=function(g,m){return g(m)},ye.useFormState=function(g,m,_){return h.H.useFormState(g,m,_)},ye.useFormStatus=function(){return h.H.useHostTransitionStatus()},ye.version="19.1.0",ye}var z0;function j1(){if(z0)return gh.exports;z0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),gh.exports=U1(),gh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function G1(){if(U0)return cl;U0=1;var l=z1(),t=sf(),i=j1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return d(c),e;if(f===o)return d(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=c,o=f;else{for(var y=!1,v=c.child;v;){if(v===s){y=!0,s=c,o=f;break}if(v===o){y=!0,o=c,s=f;break}v=v.sibling}if(!y){for(v=f.child;v;){if(v===s){y=!0,s=f,o=c;break}if(v===o){y=!0,o=f,s=c;break}v=v.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,p=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),Mt=Symbol.iterator;function Et(e){return e===null||typeof e!="object"?null:(e=Mt&&e[Mt]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===gt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case z:return"Suspense";case J:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case q:return(e.displayName||"Context")+".Provider";case B:return(e._context.displayName||"Context")+".Consumer";case V:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tt:return n=e.displayName||null,n!==null?n:Zt(e.type)||"Memo";case Z:n=e._payload,e=e._init;try{return Zt(e(n))}catch{}}return null}var Tt=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},rt=[],S=-1;function H(e){return{current:e}}function F(e){0>S||(e.current=rt[S],rt[S]=null,S--)}function K(e,n){S++,rt[S]=e.current,e.current=n}var $=H(null),ct=H(null),it=H(null),Ut=H(null);function xt(e,n){switch(K(it,n),K(ct,e),K($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jm(n),e=t0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F($),K($,e)}function ue(){F($),F(ct),F(it)}function Re(e){e.memoizedState!==null&&K(Ut,e);var n=$.current,s=t0(n,e.type);n!==s&&(K(ct,e),K($,s))}function Ei(e){ct.current===e&&(F($),F(ct)),Ut.current===e&&(F(Ut),sl._currentValue=k)}var ua=Object.prototype.hasOwnProperty,Wi=l.unstable_scheduleCallback,ca=l.unstable_cancelCallback,hn=l.unstable_shouldYield,fn=l.unstable_requestPaint,ve=l.unstable_now,$i=l.unstable_getCurrentPriorityLevel,ha=l.unstable_ImmediatePriority,Ji=l.unstable_UserBlockingPriority,bn=l.unstable_NormalPriority,Wo=l.unstable_LowPriority,Ee=l.unstable_IdlePriority,up=l.log,cp=l.unstable_setDisableYieldValue,fa=null,ze=null;function Bn(e){if(typeof up=="function"&&cp(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(fa,e)}catch{}}var Ue=Math.clz32?Math.clz32:dp,hp=Math.log,fp=Math.LN2;function dp(e){return e>>>=0,e===0?32:31-(hp(e)/fp|0)|0}var Xl=256,Yl=4194304;function bi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hl(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var v=o&134217727;return v!==0?(o=v&~f,o!==0?c=bi(o):(y&=v,y!==0?c=bi(y):s||(s=v&~e,s!==0&&(c=bi(s))))):(v=o&~f,v!==0?c=bi(v):y!==0?c=bi(y):s||(s=o&~e,s!==0&&(c=bi(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function da(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function gp(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(){var e=Xl;return Xl<<=1,(Xl&4194048)===0&&(Xl=256),e}function Gf(){var e=Yl;return Yl<<=1,(Yl&62914560)===0&&(Yl=4194304),e}function $o(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ga(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mp(e,n,s,o,c,f){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,C=e.hiddenUpdates;for(s=y&~s;0<s;){var U=31-Ue(s),X=1<<U;v[U]=0,b[U]=-1;var M=C[U];if(M!==null)for(C[U]=null,U=0;U<M.length;U++){var L=M[U];L!==null&&(L.lane&=-536870913)}s&=~X}o!==0&&If(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function If(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ue(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function Xf(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Ue(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function Jo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yf(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:v0(e.type))}function _p(e,n){var s=P.p;try{return P.p=e,n()}finally{P.p=s}}var Vn=Math.random().toString(36).slice(2),me="__reactFiber$"+Vn,xe="__reactProps$"+Vn,ts="__reactContainer$"+Vn,eu="__reactEvents$"+Vn,yp="__reactListeners$"+Vn,pp="__reactHandles$"+Vn,Hf="__reactResources$"+Vn,ma="__reactMarker$"+Vn;function nu(e){delete e[me],delete e[xe],delete e[eu],delete e[yp],delete e[pp]}function es(e){var n=e[me];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ts]||s[me]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=s0(e);e!==null;){if(s=e[me])return s;e=s0(e)}return n}e=s,s=e.parentNode}return null}function ns(e){if(e=e[me]||e[ts]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function _a(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function is(e){var n=e[Hf];return n||(n=e[Hf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function se(e){e[ma]=!0}var Bf=new Set,Vf={};function Si(e,n){ss(e,n),ss(e+"Capture",n)}function ss(e,n){for(Vf[e]=n,e=0;e<n.length;e++)Bf.add(n[e])}var vp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zf={},qf={};function Ep(e){return ua.call(qf,e)?!0:ua.call(Zf,e)?!1:vp.test(e)?qf[e]=!0:(Zf[e]=!0,!1)}function Bl(e,n,s){if(Ep(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Vl(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Sn(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}var iu,Kf;function as(e){if(iu===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);iu=n&&n[1]||"",Kf=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+iu+e+Kf}var su=!1;function au(e,n){if(!e||su)return"";su=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(L){var M=L}Reflect.construct(e,[],X)}else{try{X.call()}catch(L){M=L}e.call(X.prototype)}}else{try{throw Error()}catch(L){M=L}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(L){if(L&&M&&typeof L.stack=="string")return[L.stack,M.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],v=f[1];if(y&&v){var b=y.split(`
`),C=v.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<C.length&&!C[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===C.length)for(o=b.length-1,c=C.length-1;1<=o&&0<=c&&b[o]!==C[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==C[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==C[c]){var U=`
`+b[o].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=o&&0<=c);break}}}finally{su=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?as(s):""}function bp(e){switch(e.tag){case 26:case 27:case 5:return as(e.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return au(e.type,!1);case 11:return au(e.type.render,!1);case 1:return au(e.type,!0);case 31:return as("Activity");default:return""}}function Pf(e){try{var n="";do n+=bp(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ff(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sp(e){var n=Ff(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zl(e){e._valueTracker||(e._valueTracker=Sp(e))}function kf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Ff(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tp=/[\n"\\]/g;function Ke(e){return e.replace(Tp,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function lu(e,n,s,o,c,f,y,v){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?ru(e,y,qe(n)):s!=null?ru(e,y,qe(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+qe(v):e.removeAttribute("name")}function Qf(e,n,s,o,c,f,y,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+qe(s):"",n=n!=null?""+qe(n):s,v||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=v?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function ru(e,n,s){n==="number"&&ql(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ls(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+qe(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Wf(e,n,s){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qe(s):""}function $f(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Tt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=qe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function rs(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Rp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jf(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Rp.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function td(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&Jf(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&Jf(e,f,n[f])}function ou(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kl(e){return wp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var uu=null;function cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,us=null;function ed(e){var n=ns(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(lu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ke(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[xe]||null;if(!c)throw Error(a(90));lu(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&kf(o)}break t;case"textarea":Wf(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ls(e,!!s.multiple,n,!1)}}}var hu=!1;function nd(e,n,s){if(hu)return e(n,s);hu=!0;try{var o=e(n);return o}finally{if(hu=!1,(os!==null||us!==null)&&(Lr(),os&&(n=os,e=us,us=os=null,ed(n),e)))for(n=0;n<e.length;n++)ed(e[n])}}function ya(e,n){var s=e.stateNode;if(s===null)return null;var o=s[xe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=!1;if(Tn)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){fu=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{fu=!1}var Zn=null,du=null,Pl=null;function id(){if(Pl)return Pl;var e,n=du,s=n.length,o,c="value"in Zn?Zn.value:Zn.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var y=s-e;for(o=1;o<=y&&n[s-o]===c[f-o];o++);return Pl=c.slice(e,1<o?1-o:void 0)}function Fl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function kl(){return!0}function sd(){return!1}function we(e){function n(s,o,c,f,y){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?kl:sd,this.isPropagationStopped=sd,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),n}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=we(Ti),va=_({},Ti,{view:0,detail:0}),Ap=we(va),gu,mu,Ea,Wl=_({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ea&&(Ea&&e.type==="mousemove"?(gu=e.screenX-Ea.screenX,mu=e.screenY-Ea.screenY):mu=gu=0,Ea=e),gu)},movementY:function(e){return"movementY"in e?e.movementY:mu}}),ad=we(Wl),Cp=_({},Wl,{dataTransfer:0}),Mp=we(Cp),Op=_({},va,{relatedTarget:0}),_u=we(Op),Lp=_({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),Dp=we(Lp),Np=_({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zp=we(Np),Up=_({},Ti,{data:0}),ld=we(Up),jp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ip[e])?!!n[e]:!1}function yu(){return Xp}var Yp=_({},va,{key:function(e){if(e.key){var n=jp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(e){return e.type==="keypress"?Fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hp=we(Yp),Bp=_({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=we(Bp),Vp=_({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),Zp=we(Vp),qp=_({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kp=we(qp),Pp=_({},Wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fp=we(Pp),kp=_({},Ti,{newState:0,oldState:0}),Qp=we(kp),Wp=[9,13,27,32],pu=Tn&&"CompositionEvent"in window,ba=null;Tn&&"documentMode"in document&&(ba=document.documentMode);var $p=Tn&&"TextEvent"in window&&!ba,od=Tn&&(!pu||ba&&8<ba&&11>=ba),ud=" ",cd=!1;function hd(e,n){switch(e){case"keyup":return Wp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function Jp(e,n){switch(e){case"compositionend":return fd(n);case"keypress":return n.which!==32?null:(cd=!0,ud);case"textInput":return e=n.data,e===ud&&cd?null:e;default:return null}}function tv(e,n){if(cs)return e==="compositionend"||!pu&&hd(e,n)?(e=id(),Pl=du=Zn=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return od&&n.locale!=="ko"?null:n.data;default:return null}}var ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ev[e.type]:n==="textarea"}function gd(e,n,s,o){os?us?us.push(o):us=[o]:os=o,n=Gr(n,"onChange"),0<n.length&&(s=new Ql("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Sa=null,Ta=null;function nv(e){Fm(e,0)}function $l(e){var n=_a(e);if(kf(n))return e}function md(e,n){if(e==="change")return n}var _d=!1;if(Tn){var vu;if(Tn){var Eu="oninput"in document;if(!Eu){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),Eu=typeof yd.oninput=="function"}vu=Eu}else vu=!1;_d=vu&&(!document.documentMode||9<document.documentMode)}function pd(){Sa&&(Sa.detachEvent("onpropertychange",vd),Ta=Sa=null)}function vd(e){if(e.propertyName==="value"&&$l(Ta)){var n=[];gd(n,Ta,e,cu(e)),nd(nv,n)}}function iv(e,n,s){e==="focusin"?(pd(),Sa=n,Ta=s,Sa.attachEvent("onpropertychange",vd)):e==="focusout"&&pd()}function sv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $l(Ta)}function av(e,n){if(e==="click")return $l(n)}function lv(e,n){if(e==="input"||e==="change")return $l(n)}function rv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var je=typeof Object.is=="function"?Object.is:rv;function Ra(e,n){if(je(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!ua.call(n,c)||!je(e[c],n[c]))return!1}return!0}function Ed(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bd(e,n){var s=Ed(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ed(s)}}function Sd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Td(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ql(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ql(e.document)}return n}function bu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ov=Tn&&"documentMode"in document&&11>=document.documentMode,hs=null,Su=null,xa=null,Tu=!1;function Rd(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tu||hs==null||hs!==ql(o)||(o=hs,"selectionStart"in o&&bu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xa&&Ra(xa,o)||(xa=o,o=Gr(Su,"onSelect"),0<o.length&&(n=new Ql("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=hs)))}function Ri(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fs={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},Ru={},xd={};Tn&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function xi(e){if(Ru[e])return Ru[e];if(!fs[e])return e;var n=fs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in xd)return Ru[e]=n[s];return e}var wd=xi("animationend"),Ad=xi("animationiteration"),Cd=xi("animationstart"),uv=xi("transitionrun"),cv=xi("transitionstart"),hv=xi("transitioncancel"),Md=xi("transitionend"),Od=new Map,xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xu.push("scrollEnd");function an(e,n){Od.set(e,n),Si(n,[e])}var Ld=new WeakMap;function Pe(e,n){if(typeof e=="object"&&e!==null){var s=Ld.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Pf(n)},Ld.set(e,n),n)}return{value:e,source:n,stack:Pf(n)}}var Fe=[],ds=0,wu=0;function Jl(){for(var e=ds,n=wu=ds=0;n<e;){var s=Fe[n];Fe[n++]=null;var o=Fe[n];Fe[n++]=null;var c=Fe[n];Fe[n++]=null;var f=Fe[n];if(Fe[n++]=null,o!==null&&c!==null){var y=o.pending;y===null?c.next=c:(c.next=y.next,y.next=c),o.pending=c}f!==0&&Dd(s,c,f)}}function tr(e,n,s,o){Fe[ds++]=e,Fe[ds++]=n,Fe[ds++]=s,Fe[ds++]=o,wu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Au(e,n,s,o){return tr(e,n,s,o),er(e)}function gs(e,n){return tr(e,null,null,n),er(e)}function Dd(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Ue(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function er(e){if(50<Qa)throw Qa=0,Nc=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ms={};function fv(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,n,s,o){return new fv(e,n,s,o)}function Cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,n){var s=e.alternate;return s===null?(s=Ge(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Nd(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function nr(e,n,s,o,c,f){var y=0;if(o=e,typeof e=="function")Cu(e)&&(y=1);else if(typeof e=="string")y=g1(e,s,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case W:return e=Ge(31,s,n,c),e.elementType=W,e.lanes=f,e;case x:return wi(s.children,c,f,n);case D:y=8,c|=24;break;case O:return e=Ge(12,s,n,c|2),e.elementType=O,e.lanes=f,e;case z:return e=Ge(13,s,n,c),e.elementType=z,e.lanes=f,e;case J:return e=Ge(19,s,n,c),e.elementType=J,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case q:y=10;break t;case B:y=9;break t;case V:y=11;break t;case tt:y=14;break t;case Z:y=16,o=null;break t}y=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Ge(y,s,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function wi(e,n,s,o){return e=Ge(7,e,o,n),e.lanes=s,e}function Mu(e,n,s){return e=Ge(6,e,null,n),e.lanes=s,e}function Ou(e,n,s){return n=Ge(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var _s=[],ys=0,ir=null,sr=0,ke=[],Qe=0,Ai=null,xn=1,wn="";function Ci(e,n){_s[ys++]=sr,_s[ys++]=ir,ir=e,sr=n}function zd(e,n,s){ke[Qe++]=xn,ke[Qe++]=wn,ke[Qe++]=Ai,Ai=e;var o=xn;e=wn;var c=32-Ue(o)-1;o&=~(1<<c),s+=1;var f=32-Ue(n)+c;if(30<f){var y=c-c%5;f=(o&(1<<y)-1).toString(32),o>>=y,c-=y,xn=1<<32-Ue(n)+c|s<<c|o,wn=f+e}else xn=1<<f|s<<c|o,wn=e}function Lu(e){e.return!==null&&(Ci(e,1),zd(e,1,0))}function Du(e){for(;e===ir;)ir=_s[--ys],_s[ys]=null,sr=_s[--ys],_s[ys]=null;for(;e===Ai;)Ai=ke[--Qe],ke[Qe]=null,wn=ke[--Qe],ke[Qe]=null,xn=ke[--Qe],ke[Qe]=null}var be=null,Kt=null,Ot=!1,Mi=null,dn=!1,Nu=Error(a(519));function Oi(e){var n=Error(a(418,""));throw Ca(Pe(n,e)),Nu}function Ud(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[me]=e,n[xe]=o,s){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(s=0;s<$a.length;s++)vt($a[s],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":vt("invalid",n),Qf(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Zl(n);break;case"select":vt("invalid",n);break;case"textarea":vt("invalid",n),$f(n,o.value,o.defaultValue,o.children),Zl(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||$m(n.textContent,s)?(o.popover!=null&&(vt("beforetoggle",n),vt("toggle",n)),o.onScroll!=null&&vt("scroll",n),o.onScrollEnd!=null&&vt("scrollend",n),o.onClick!=null&&(n.onclick=Ir),n=!0):n=!1,n||Oi(e)}function jd(e){for(be=e.return;be;)switch(be.tag){case 5:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:be=be.return}}function wa(e){if(e!==be)return!1;if(!Ot)return jd(e),Ot=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||kc(e.type,e.memoizedProps)),s=!s),s&&Kt&&Oi(e),jd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){Kt=rn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}Kt=null}}else n===27?(n=Kt,li(e.type)?(e=Jc,Jc=null,Kt=e):Kt=n):Kt=be?rn(e.stateNode.nextSibling):null;return!0}function Aa(){Kt=be=null,Ot=!1}function Gd(){var e=Mi;return e!==null&&(Me===null?Me=e:Me.push.apply(Me,e),Mi=null),e}function Ca(e){Mi===null?Mi=[e]:Mi.push(e)}var zu=H(null),Li=null,An=null;function qn(e,n,s){K(zu,n._currentValue),n._currentValue=s}function Cn(e){e._currentValue=zu.current,F(zu)}function Uu(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function ju(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var v=f;f=c;for(var b=0;b<n.length;b++)if(v.context===n[b]){f.lanes|=s,v=f.alternate,v!==null&&(v.lanes|=s),Uu(f.return,s,e),o||(y=null);break t}f=v.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Uu(y,s,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Ma(e,n,s,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var v=c.type;je(c.pendingProps.value,y.value)||(e!==null?e.push(v):e=[v])}}else if(c===Ut.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}c=c.return}e!==null&&ju(n,e,s,o),n.flags|=262144}function ar(e){for(e=e.firstContext;e!==null;){if(!je(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Di(e){Li=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _e(e){return Id(Li,e)}function lr(e,n){return Li===null&&Di(e),Id(e,n)}function Id(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},An===null){if(e===null)throw Error(a(308));An=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else An=An.next=n;return s}var dv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},gv=l.unstable_scheduleCallback,mv=l.unstable_NormalPriority,ee={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new dv,data:new Map,refCount:0}}function Oa(e){e.refCount--,e.refCount===0&&gv(mv,function(){e.controller.abort()})}var La=null,Iu=0,ps=0,vs=null;function _v(e,n){if(La===null){var s=La=[];Iu=0,ps=Yc(),vs={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Iu++,n.then(Xd,Xd),n}function Xd(){if(--Iu===0&&La!==null){vs!==null&&(vs.status="fulfilled");var e=La;La=null,ps=0,vs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function yv(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Yd=N.S;N.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&_v(e,n),Yd!==null&&Yd(e,n)};var Ni=H(null);function Xu(){var e=Ni.current;return e!==null?e:Yt.pooledCache}function rr(e,n){n===null?K(Ni,Ni.current):K(Ni,n.pool)}function Hd(){var e=Xu();return e===null?null:{parent:ee._currentValue,pool:e}}var Da=Error(a(460)),Bd=Error(a(474)),or=Error(a(542)),Yu={then:function(){}};function Vd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ur(){}function Zd(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ur,ur),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kd(e),e;default:if(typeof n.status=="string")n.then(ur,ur);else{if(e=Yt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kd(e),e}throw Na=n,Da}}var Na=null;function qd(){if(Na===null)throw Error(a(459));var e=Na;return Na=null,e}function Kd(e){if(e===Da||e===or)throw Error(a(483))}var Kn=!1;function Hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Dt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=er(e),Dd(e,null,s),n}return tr(e,o,n,s),er(e)}function za(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Xf(e,s)}}function Vu(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Zu=!1;function Ua(){if(Zu){var e=vs;if(e!==null)throw e}}function ja(e,n,s,o){Zu=!1;var c=e.updateQueue;Kn=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var b=v,C=b.next;b.next=null,y===null?f=C:y.next=C,y=b;var U=e.alternate;U!==null&&(U=U.updateQueue,v=U.lastBaseUpdate,v!==y&&(v===null?U.firstBaseUpdate=C:v.next=C,U.lastBaseUpdate=b))}if(f!==null){var X=c.baseState;y=0,U=C=b=null,v=f;do{var M=v.lane&-536870913,L=M!==v.lane;if(L?(Rt&M)===M:(o&M)===M){M!==0&&M===ps&&(Zu=!0),U!==null&&(U=U.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var ot=e,at=v;M=n;var It=s;switch(at.tag){case 1:if(ot=at.payload,typeof ot=="function"){X=ot.call(It,X,M);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=at.payload,M=typeof ot=="function"?ot.call(It,X,M):ot,M==null)break t;X=_({},X,M);break t;case 2:Kn=!0}}M=v.callback,M!==null&&(e.flags|=64,L&&(e.flags|=8192),L=c.callbacks,L===null?c.callbacks=[M]:L.push(M))}else L={lane:M,tag:v.tag,payload:v.payload,callback:v.callback,next:null},U===null?(C=U=L,b=X):U=U.next=L,y|=M;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;L=v,v=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);U===null&&(b=X),c.baseState=b,c.firstBaseUpdate=C,c.lastBaseUpdate=U,f===null&&(c.shared.lanes=0),ni|=y,e.lanes=y,e.memoizedState=X}}function Pd(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Fd(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Pd(s[e],n)}var Es=H(null),cr=H(0);function kd(e,n){e=Un,K(cr,e),K(Es,n),Un=e|n.baseLanes}function qu(){K(cr,Un),K(Es,Es.current)}function Ku(){Un=cr.current,F(Es),F(cr)}var kn=0,mt=null,jt=null,Jt=null,hr=!1,bs=!1,zi=!1,fr=0,Ga=0,Ss=null,pv=0;function Qt(){throw Error(a(321))}function Pu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!je(e[s],n[s]))return!1;return!0}function Fu(e,n,s,o,c,f){return kn=f,mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,N.H=e===null||e.memoizedState===null?Dg:Ng,zi=!1,f=s(o,c),zi=!1,bs&&(f=Wd(n,s,o,c)),Qd(e),f}function Qd(e){N.H=pr;var n=jt!==null&&jt.next!==null;if(kn=0,Jt=jt=mt=null,hr=!1,Ga=0,Ss=null,n)throw Error(a(300));e===null||ae||(e=e.dependencies,e!==null&&ar(e)&&(ae=!0))}function Wd(e,n,s,o){mt=e;var c=0;do{if(bs&&(Ss=null),Ga=0,bs=!1,25<=c)throw Error(a(301));if(c+=1,Jt=jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}N.H=xv,f=n(s,o)}while(bs);return f}function vv(){var e=N.H,n=e.useState()[0];return n=typeof n.then=="function"?Ia(n):n,e=e.useState()[0],(jt!==null?jt.memoizedState:null)!==e&&(mt.flags|=1024),n}function ku(){var e=fr!==0;return fr=0,e}function Qu(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Wu(e){if(hr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}hr=!1}kn=0,Jt=jt=mt=null,bs=!1,Ga=fr=0,Ss=null}function Ae(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?mt.memoizedState=Jt=e:Jt=Jt.next=e,Jt}function te(){if(jt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var n=Jt===null?mt.memoizedState:Jt.next;if(n!==null)Jt=n,jt=e;else{if(e===null)throw mt.alternate===null?Error(a(467)):Error(a(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Jt===null?mt.memoizedState=Jt=e:Jt=Jt.next=e}return Jt}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ia(e){var n=Ga;return Ga+=1,Ss===null&&(Ss=[]),e=Zd(Ss,e,n),n=mt,(Jt===null?n.memoizedState:Jt.next)===null&&(n=n.alternate,N.H=n===null||n.memoizedState===null?Dg:Ng),e}function dr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ia(e);if(e.$$typeof===q)return _e(e)}throw Error(a(438,String(e)))}function Ju(e){var n=null,s=mt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=mt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=$u(),mt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=nt;return n.index++,s}function Mn(e,n){return typeof n=="function"?n(e):n}function gr(e){var n=te();return tc(n,jt,e)}function tc(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var v=y=null,b=null,C=n,U=!1;do{var X=C.lane&-536870913;if(X!==C.lane?(Rt&X)===X:(kn&X)===X){var M=C.revertLane;if(M===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),X===ps&&(U=!0);else if((kn&M)===M){C=C.next,M===ps&&(U=!0);continue}else X={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(v=b=X,y=f):b=b.next=X,mt.lanes|=M,ni|=M;X=C.action,zi&&s(f,X),f=C.hasEagerState?C.eagerState:s(f,X)}else M={lane:X,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(v=b=M,y=f):b=b.next=M,mt.lanes|=X,ni|=X;C=C.next}while(C!==null&&C!==n);if(b===null?y=f:b.next=v,!je(f,e.memoizedState)&&(ae=!0,U&&(s=vs,s!==null)))throw s;e.memoizedState=f,e.baseState=y,e.baseQueue=b,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ec(e){var n=te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=e(f,y.action),y=y.next;while(y!==c);je(f,n.memoizedState)||(ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function $d(e,n,s){var o=mt,c=te(),f=Ot;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!je((jt||c).memoizedState,s);y&&(c.memoizedState=s,ae=!0),c=c.queue;var v=eg.bind(null,o,c,e);if(Xa(2048,8,v,[e]),c.getSnapshot!==n||y||Jt!==null&&Jt.memoizedState.tag&1){if(o.flags|=2048,Ts(9,mr(),tg.bind(null,o,c,s,n),null),Yt===null)throw Error(a(349));f||(kn&124)!==0||Jd(o,n,s)}return s}function Jd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=mt.updateQueue,n===null?(n=$u(),mt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function tg(e,n,s,o){n.value=s,n.getSnapshot=o,ng(n)&&ig(e)}function eg(e,n,s){return s(function(){ng(n)&&ig(e)})}function ng(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!je(e,s)}catch{return!0}}function ig(e){var n=gs(e,2);n!==null&&Be(n,e,2)}function nc(e){var n=Ae();if(typeof e=="function"){var s=e;if(e=s(),zi){Bn(!0);try{s()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},n}function sg(e,n,s,o){return e.baseState=s,tc(e,jt,typeof o=="function"?o:Mn)}function Ev(e,n,s,o,c){if(yr(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};N.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ag(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ag(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=N.T,y={};N.T=y;try{var v=s(c,o),b=N.S;b!==null&&b(y,v),lg(e,n,v)}catch(C){ic(e,n,C)}finally{N.T=f}}else try{f=s(c,o),lg(e,n,f)}catch(C){ic(e,n,C)}}function lg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){rg(e,n,o)},function(o){return ic(e,n,o)}):rg(e,n,s)}function rg(e,n,s){n.status="fulfilled",n.value=s,og(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ag(e,s)))}function ic(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,og(n),n=n.next;while(n!==o)}e.action=null}function og(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ug(e,n){return n}function cg(e,n){if(Ot){var s=Yt.formState;if(s!==null){t:{var o=mt;if(Ot){if(Kt){e:{for(var c=Kt,f=dn;c.nodeType!==8;){if(!f){c=null;break e}if(c=rn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Kt=rn(c.nextSibling),o=c.data==="F!";break t}}Oi(o)}o=!1}o&&(n=s[0])}}return s=Ae(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:n},s.queue=o,s=Mg.bind(null,mt,o),o.dispatch=s,o=nc(!1),f=oc.bind(null,mt,!1,o.queue),o=Ae(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=Ev.bind(null,mt,c,f,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function hg(e){var n=te();return fg(n,jt,e)}function fg(e,n,s){if(n=tc(e,n,ug)[0],e=gr(Mn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ia(n)}catch(y){throw y===Da?or:y}else o=n;n=te();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(mt.flags|=2048,Ts(9,mr(),bv.bind(null,c,s),null)),[o,f,e]}function bv(e,n){e.action=n}function dg(e){var n=te(),s=jt;if(s!==null)return fg(n,s,e);te(),n=n.memoizedState,s=te();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ts(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=mt.updateQueue,n===null&&(n=$u(),mt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function mr(){return{destroy:void 0,resource:void 0}}function gg(){return te().memoizedState}function _r(e,n,s,o){var c=Ae();o=o===void 0?null:o,mt.flags|=e,c.memoizedState=Ts(1|n,mr(),s,o)}function Xa(e,n,s,o){var c=te();o=o===void 0?null:o;var f=c.memoizedState.inst;jt!==null&&o!==null&&Pu(o,jt.memoizedState.deps)?c.memoizedState=Ts(n,f,s,o):(mt.flags|=e,c.memoizedState=Ts(1|n,f,s,o))}function mg(e,n){_r(8390656,8,e,n)}function _g(e,n){Xa(2048,8,e,n)}function yg(e,n){return Xa(4,2,e,n)}function pg(e,n){return Xa(4,4,e,n)}function vg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Eg(e,n,s){s=s!=null?s.concat([e]):null,Xa(4,4,vg.bind(null,n,e),s)}function sc(){}function bg(e,n){var s=te();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Pu(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Sg(e,n){var s=te();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Pu(n,o[1]))return o[0];if(o=e(),zi){Bn(!0);try{e()}finally{Bn(!1)}}return s.memoizedState=[o,n],o}function ac(e,n,s){return s===void 0||(kn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=xm(),mt.lanes|=e,ni|=e,s)}function Tg(e,n,s,o){return je(s,n)?s:Es.current!==null?(e=ac(e,s,o),je(e,n)||(ae=!0),e):(kn&42)===0?(ae=!0,e.memoizedState=s):(e=xm(),mt.lanes|=e,ni|=e,n)}function Rg(e,n,s,o,c){var f=P.p;P.p=f!==0&&8>f?f:8;var y=N.T,v={};N.T=v,oc(e,!1,n,s);try{var b=c(),C=N.S;if(C!==null&&C(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var U=yv(b,o);Ya(e,n,U,He(e))}else Ya(e,n,o,He(e))}catch(X){Ya(e,n,{then:function(){},status:"rejected",reason:X},He())}finally{P.p=f,N.T=y}}function Sv(){}function lc(e,n,s,o){if(e.tag!==5)throw Error(a(476));var c=xg(e).queue;Rg(e,c,n,k,s===null?Sv:function(){return wg(e),s(o)})}function xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:k},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wg(e){var n=xg(e).next.queue;Ya(e,n,{},He())}function rc(){return _e(sl)}function Ag(){return te().memoizedState}function Cg(){return te().memoizedState}function Tv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=He();e=Pn(s);var o=Fn(n,e,s);o!==null&&(Be(o,n,s),za(o,n,s)),n={cache:Gu()},e.payload=n;return}n=n.return}}function Rv(e,n,s){var o=He();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},yr(e)?Og(n,s):(s=Au(e,n,s,o),s!==null&&(Be(s,e,o),Lg(s,n,o)))}function Mg(e,n,s){var o=He();Ya(e,n,s,o)}function Ya(e,n,s,o){var c={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(yr(e))Og(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,v=f(y,s);if(c.hasEagerState=!0,c.eagerState=v,je(v,y))return tr(e,n,c,0),Yt===null&&Jl(),!1}catch{}finally{}if(s=Au(e,n,c,o),s!==null)return Be(s,e,o),Lg(s,n,o),!0}return!1}function oc(e,n,s,o){if(o={lane:2,revertLane:Yc(),action:o,hasEagerState:!1,eagerState:null,next:null},yr(e)){if(n)throw Error(a(479))}else n=Au(e,s,o,2),n!==null&&Be(n,e,2)}function yr(e){var n=e.alternate;return e===mt||n!==null&&n===mt}function Og(e,n){bs=hr=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Lg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Xf(e,s)}}var pr={readContext:_e,use:dr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},Dg={readContext:_e,use:dr,useCallback:function(e,n){return Ae().memoizedState=[e,n===void 0?null:n],e},useContext:_e,useEffect:mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,_r(4194308,4,vg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return _r(4194308,4,e,n)},useInsertionEffect:function(e,n){_r(4,2,e,n)},useMemo:function(e,n){var s=Ae();n=n===void 0?null:n;var o=e();if(zi){Bn(!0);try{e()}finally{Bn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=Ae();if(s!==void 0){var c=s(n);if(zi){Bn(!0);try{s(n)}finally{Bn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=Rv.bind(null,mt,e),[o.memoizedState,e]},useRef:function(e){var n=Ae();return e={current:e},n.memoizedState=e},useState:function(e){e=nc(e);var n=e.queue,s=Mg.bind(null,mt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:sc,useDeferredValue:function(e,n){var s=Ae();return ac(s,e,n)},useTransition:function(){var e=nc(!1);return e=Rg.bind(null,mt,e.queue,!0,!1),Ae().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=mt,c=Ae();if(Ot){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Yt===null)throw Error(a(349));(Rt&124)!==0||Jd(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,mg(eg.bind(null,o,f,e),[e]),o.flags|=2048,Ts(9,mr(),tg.bind(null,o,f,s,n),null),s},useId:function(){var e=Ae(),n=Yt.identifierPrefix;if(Ot){var s=wn,o=xn;s=(o&~(1<<32-Ue(o)-1)).toString(32)+s,n=""+n+"R"+s,s=fr++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=pv++,n=""+n+"r"+s.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:rc,useFormState:cg,useActionState:cg,useOptimistic:function(e){var n=Ae();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=oc.bind(null,mt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Ju,useCacheRefresh:function(){return Ae().memoizedState=Tv.bind(null,mt)}},Ng={readContext:_e,use:dr,useCallback:bg,useContext:_e,useEffect:_g,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:pg,useMemo:Sg,useReducer:gr,useRef:gg,useState:function(){return gr(Mn)},useDebugValue:sc,useDeferredValue:function(e,n){var s=te();return Tg(s,jt.memoizedState,e,n)},useTransition:function(){var e=gr(Mn)[0],n=te().memoizedState;return[typeof e=="boolean"?e:Ia(e),n]},useSyncExternalStore:$d,useId:Ag,useHostTransitionStatus:rc,useFormState:hg,useActionState:hg,useOptimistic:function(e,n){var s=te();return sg(s,jt,e,n)},useMemoCache:Ju,useCacheRefresh:Cg},xv={readContext:_e,use:dr,useCallback:bg,useContext:_e,useEffect:_g,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:pg,useMemo:Sg,useReducer:ec,useRef:gg,useState:function(){return ec(Mn)},useDebugValue:sc,useDeferredValue:function(e,n){var s=te();return jt===null?ac(s,e,n):Tg(s,jt.memoizedState,e,n)},useTransition:function(){var e=ec(Mn)[0],n=te().memoizedState;return[typeof e=="boolean"?e:Ia(e),n]},useSyncExternalStore:$d,useId:Ag,useHostTransitionStatus:rc,useFormState:dg,useActionState:dg,useOptimistic:function(e,n){var s=te();return jt!==null?sg(s,jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:Cg},Rs=null,Ha=0;function vr(e){var n=Ha;return Ha+=1,Rs===null&&(Rs=[]),Zd(Rs,e,n)}function Ba(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Er(e,n){throw n.$$typeof===p?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function zg(e){var n=e._init;return n(e._payload)}function Ug(e){function n(w,T){if(e){var A=w.deletions;A===null?(w.deletions=[T],w.flags|=16):A.push(T)}}function s(w,T){if(!e)return null;for(;T!==null;)n(w,T),T=T.sibling;return null}function o(w){for(var T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function c(w,T){return w=Rn(w,T),w.index=0,w.sibling=null,w}function f(w,T,A){return w.index=A,e?(A=w.alternate,A!==null?(A=A.index,A<T?(w.flags|=67108866,T):A):(w.flags|=67108866,T)):(w.flags|=1048576,T)}function y(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function v(w,T,A,G){return T===null||T.tag!==6?(T=Mu(A,w.mode,G),T.return=w,T):(T=c(T,A),T.return=w,T)}function b(w,T,A,G){var Q=A.type;return Q===x?U(w,T,A.props.children,G,A.key):T!==null&&(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Z&&zg(Q)===T.type)?(T=c(T,A.props),Ba(T,A),T.return=w,T):(T=nr(A.type,A.key,A.props,null,w.mode,G),Ba(T,A),T.return=w,T)}function C(w,T,A,G){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Ou(A,w.mode,G),T.return=w,T):(T=c(T,A.children||[]),T.return=w,T)}function U(w,T,A,G,Q){return T===null||T.tag!==7?(T=wi(A,w.mode,G,Q),T.return=w,T):(T=c(T,A),T.return=w,T)}function X(w,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Mu(""+T,w.mode,A),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case E:return A=nr(T.type,T.key,T.props,null,w.mode,A),Ba(A,T),A.return=w,A;case R:return T=Ou(T,w.mode,A),T.return=w,T;case Z:var G=T._init;return T=G(T._payload),X(w,T,A)}if(Tt(T)||Et(T))return T=wi(T,w.mode,A,null),T.return=w,T;if(typeof T.then=="function")return X(w,vr(T),A);if(T.$$typeof===q)return X(w,lr(w,T),A);Er(w,T)}return null}function M(w,T,A,G){var Q=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return Q!==null?null:v(w,T,""+A,G);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case E:return A.key===Q?b(w,T,A,G):null;case R:return A.key===Q?C(w,T,A,G):null;case Z:return Q=A._init,A=Q(A._payload),M(w,T,A,G)}if(Tt(A)||Et(A))return Q!==null?null:U(w,T,A,G,null);if(typeof A.then=="function")return M(w,T,vr(A),G);if(A.$$typeof===q)return M(w,T,lr(w,A),G);Er(w,A)}return null}function L(w,T,A,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return w=w.get(A)||null,v(T,w,""+G,Q);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return w=w.get(G.key===null?A:G.key)||null,b(T,w,G,Q);case R:return w=w.get(G.key===null?A:G.key)||null,C(T,w,G,Q);case Z:var yt=G._init;return G=yt(G._payload),L(w,T,A,G,Q)}if(Tt(G)||Et(G))return w=w.get(A)||null,U(T,w,G,Q,null);if(typeof G.then=="function")return L(w,T,A,vr(G),Q);if(G.$$typeof===q)return L(w,T,A,lr(T,G),Q);Er(T,G)}return null}function ot(w,T,A,G){for(var Q=null,yt=null,et=T,lt=T=0,re=null;et!==null&&lt<A.length;lt++){et.index>lt?(re=et,et=null):re=et.sibling;var wt=M(w,et,A[lt],G);if(wt===null){et===null&&(et=re);break}e&&et&&wt.alternate===null&&n(w,et),T=f(wt,T,lt),yt===null?Q=wt:yt.sibling=wt,yt=wt,et=re}if(lt===A.length)return s(w,et),Ot&&Ci(w,lt),Q;if(et===null){for(;lt<A.length;lt++)et=X(w,A[lt],G),et!==null&&(T=f(et,T,lt),yt===null?Q=et:yt.sibling=et,yt=et);return Ot&&Ci(w,lt),Q}for(et=o(et);lt<A.length;lt++)re=L(et,w,lt,A[lt],G),re!==null&&(e&&re.alternate!==null&&et.delete(re.key===null?lt:re.key),T=f(re,T,lt),yt===null?Q=re:yt.sibling=re,yt=re);return e&&et.forEach(function(hi){return n(w,hi)}),Ot&&Ci(w,lt),Q}function at(w,T,A,G){if(A==null)throw Error(a(151));for(var Q=null,yt=null,et=T,lt=T=0,re=null,wt=A.next();et!==null&&!wt.done;lt++,wt=A.next()){et.index>lt?(re=et,et=null):re=et.sibling;var hi=M(w,et,wt.value,G);if(hi===null){et===null&&(et=re);break}e&&et&&hi.alternate===null&&n(w,et),T=f(hi,T,lt),yt===null?Q=hi:yt.sibling=hi,yt=hi,et=re}if(wt.done)return s(w,et),Ot&&Ci(w,lt),Q;if(et===null){for(;!wt.done;lt++,wt=A.next())wt=X(w,wt.value,G),wt!==null&&(T=f(wt,T,lt),yt===null?Q=wt:yt.sibling=wt,yt=wt);return Ot&&Ci(w,lt),Q}for(et=o(et);!wt.done;lt++,wt=A.next())wt=L(et,w,lt,wt.value,G),wt!==null&&(e&&wt.alternate!==null&&et.delete(wt.key===null?lt:wt.key),T=f(wt,T,lt),yt===null?Q=wt:yt.sibling=wt,yt=wt);return e&&et.forEach(function(w1){return n(w,w1)}),Ot&&Ci(w,lt),Q}function It(w,T,A,G){if(typeof A=="object"&&A!==null&&A.type===x&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case E:t:{for(var Q=A.key;T!==null;){if(T.key===Q){if(Q=A.type,Q===x){if(T.tag===7){s(w,T.sibling),G=c(T,A.props.children),G.return=w,w=G;break t}}else if(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Z&&zg(Q)===T.type){s(w,T.sibling),G=c(T,A.props),Ba(G,A),G.return=w,w=G;break t}s(w,T);break}else n(w,T);T=T.sibling}A.type===x?(G=wi(A.props.children,w.mode,G,A.key),G.return=w,w=G):(G=nr(A.type,A.key,A.props,null,w.mode,G),Ba(G,A),G.return=w,w=G)}return y(w);case R:t:{for(Q=A.key;T!==null;){if(T.key===Q)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){s(w,T.sibling),G=c(T,A.children||[]),G.return=w,w=G;break t}else{s(w,T);break}else n(w,T);T=T.sibling}G=Ou(A,w.mode,G),G.return=w,w=G}return y(w);case Z:return Q=A._init,A=Q(A._payload),It(w,T,A,G)}if(Tt(A))return ot(w,T,A,G);if(Et(A)){if(Q=Et(A),typeof Q!="function")throw Error(a(150));return A=Q.call(A),at(w,T,A,G)}if(typeof A.then=="function")return It(w,T,vr(A),G);if(A.$$typeof===q)return It(w,T,lr(w,A),G);Er(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(s(w,T.sibling),G=c(T,A),G.return=w,w=G):(s(w,T),G=Mu(A,w.mode,G),G.return=w,w=G),y(w)):s(w,T)}return function(w,T,A,G){try{Ha=0;var Q=It(w,T,A,G);return Rs=null,Q}catch(et){if(et===Da||et===or)throw et;var yt=Ge(29,et,null,w.mode);return yt.lanes=G,yt.return=w,yt}finally{}}}var xs=Ug(!0),jg=Ug(!1),We=H(null),gn=null;function Qn(e){var n=e.alternate;K(ne,ne.current&1),K(We,e),gn===null&&(n===null||Es.current!==null||n.memoizedState!==null)&&(gn=e)}function Gg(e){if(e.tag===22){if(K(ne,ne.current),K(We,e),gn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(gn=e)}}else Wn()}function Wn(){K(ne,ne.current),K(We,We.current)}function On(e){F(We),gn===e&&(gn=null),F(ne)}var ne=H(0);function br(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||$c(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function uc(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:_({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var cc={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=He(),c=Pn(o);c.payload=n,s!=null&&(c.callback=s),n=Fn(e,c,o),n!==null&&(Be(n,e,o),za(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=He(),c=Pn(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Fn(e,c,o),n!==null&&(Be(n,e,o),za(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=He(),o=Pn(s);o.tag=2,n!=null&&(o.callback=n),n=Fn(e,o,s),n!==null&&(Be(n,e,s),za(n,e,s))}};function Ig(e,n,s,o,c,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ra(s,o)||!Ra(c,f):!0}function Xg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&cc.enqueueReplaceState(n,n.state,null)}function Ui(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=_({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}var Sr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Yg(e){Sr(e)}function Hg(e){console.error(e)}function Bg(e){Sr(e)}function Tr(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Vg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function hc(e,n,s){return s=Pn(s),s.tag=3,s.payload={element:null},s.callback=function(){Tr(e,n)},s}function Zg(e){return e=Pn(e),e.tag=3,e}function qg(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Vg(n,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Vg(n,s,o),typeof c!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function wv(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ma(n,s,c,!0),s=We.current,s!==null){switch(s.tag){case 13:return gn===null?Uc():s.alternate===null&&Pt===0&&(Pt=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===Yu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Gc(e,o,c)),!1;case 22:return s.flags|=65536,o===Yu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Gc(e,o,c)),!1}throw Error(a(435,s.tag))}return Gc(e,o,c),Uc(),!1}if(Ot)return n=We.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Nu&&(e=Error(a(422),{cause:o}),Ca(Pe(e,s)))):(o!==Nu&&(n=Error(a(423),{cause:o}),Ca(Pe(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Pe(o,s),c=hc(e.stateNode,o,c),Vu(e,c),Pt!==4&&(Pt=2)),!1;var f=Error(a(520),{cause:o});if(f=Pe(f,s),ka===null?ka=[f]:ka.push(f),Pt!==4&&(Pt=2),n===null)return!0;o=Pe(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=hc(s.stateNode,o,e),Vu(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ii===null||!ii.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Zg(c),qg(c,e,s,o),Vu(s,c),!1}s=s.return}while(s!==null);return!1}var Kg=Error(a(461)),ae=!1;function ce(e,n,s,o){n.child=e===null?jg(n,null,s,o):xs(n,e.child,s,o)}function Pg(e,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var y={};for(var v in o)v!=="ref"&&(y[v]=o[v])}else y=o;return Di(n),o=Fu(e,n,s,y,f,c),v=ku(),e!==null&&!ae?(Qu(e,n,c),Ln(e,n,c)):(Ot&&v&&Lu(n),n.flags|=1,ce(e,n,o,c),n.child)}function Fg(e,n,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!Cu(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,kg(e,n,f,o,c)):(e=nr(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!vc(e,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ra,s(y,o)&&e.ref===n.ref)return Ln(e,n,c)}return n.flags|=1,e=Rn(f,o),e.ref=n.ref,e.return=n,n.child=e}function kg(e,n,s,o,c){if(e!==null){var f=e.memoizedProps;if(Ra(f,o)&&e.ref===n.ref)if(ae=!1,n.pendingProps=o=f,vc(e,c))(e.flags&131072)!==0&&(ae=!0);else return n.lanes=e.lanes,Ln(e,n,c)}return fc(e,n,s,o,c)}function Qg(e,n,s){var o=n.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|s:s,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Wg(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&rr(n,f!==null?f.cachePool:null),f!==null?kd(n,f):qu(),Gg(n);else return n.lanes=n.childLanes=536870912,Wg(e,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(rr(n,f.cachePool),kd(n,f),Wn(),n.memoizedState=null):(e!==null&&rr(n,null),qu(),Wn());return ce(e,n,c,s),n.child}function Wg(e,n,s,o){var c=Xu();return c=c===null?null:{parent:ee._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},e!==null&&rr(n,null),qu(),Gg(n),e!==null&&Ma(e,n,o,!0),null}function Rr(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function fc(e,n,s,o,c){return Di(n),s=Fu(e,n,s,o,void 0,c),o=ku(),e!==null&&!ae?(Qu(e,n,c),Ln(e,n,c)):(Ot&&o&&Lu(n),n.flags|=1,ce(e,n,s,c),n.child)}function $g(e,n,s,o,c,f){return Di(n),n.updateQueue=null,s=Wd(n,o,s,c),Qd(e),o=ku(),e!==null&&!ae?(Qu(e,n,f),Ln(e,n,f)):(Ot&&o&&Lu(n),n.flags|=1,ce(e,n,s,f),n.child)}function Jg(e,n,s,o,c){if(Di(n),n.stateNode===null){var f=ms,y=s.contextType;typeof y=="object"&&y!==null&&(f=_e(y)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=cc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Hu(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?_e(y):ms,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(uc(n,s,y,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&cc.enqueueReplaceState(f,f.state,null),ja(n,o,f,c),Ua(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var v=n.memoizedProps,b=Ui(s,v);f.props=b;var C=f.context,U=s.contextType;y=ms,typeof U=="object"&&U!==null&&(y=_e(U));var X=s.getDerivedStateFromProps;U=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,U||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||C!==y)&&Xg(n,f,o,y),Kn=!1;var M=n.memoizedState;f.state=M,ja(n,o,f,c),Ua(),C=n.memoizedState,v||M!==C||Kn?(typeof X=="function"&&(uc(n,s,X,o),C=n.memoizedState),(b=Kn||Ig(n,s,b,o,M,C,y))?(U||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=C),f.props=o,f.state=C,f.context=y,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Bu(e,n),y=n.memoizedProps,U=Ui(s,y),f.props=U,X=n.pendingProps,M=f.context,C=s.contextType,b=ms,typeof C=="object"&&C!==null&&(b=_e(C)),v=s.getDerivedStateFromProps,(C=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||M!==b)&&Xg(n,f,o,b),Kn=!1,M=n.memoizedState,f.state=M,ja(n,o,f,c),Ua();var L=n.memoizedState;y!==X||M!==L||Kn||e!==null&&e.dependencies!==null&&ar(e.dependencies)?(typeof v=="function"&&(uc(n,s,v,o),L=n.memoizedState),(U=Kn||Ig(n,s,U,o,M,L,b)||e!==null&&e.dependencies!==null&&ar(e.dependencies))?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,L,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,L,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=b,o=U):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Rr(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=xs(n,e.child,null,c),n.child=xs(n,null,s,c)):ce(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Ln(e,n,c),e}function tm(e,n,s,o){return Aa(),n.flags|=256,ce(e,n,s,o),n.child}var dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(e){return{baseLanes:e,cachePool:Hd()}}function mc(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=$e),e}function em(e,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(ne.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ot){if(c?Qn(n):Wn(),Ot){var v=Kt,b;if(b=v){t:{for(b=v,v=dn;b.nodeType!==8;){if(!v){v=null;break t}if(b=rn(b.nextSibling),b===null){v=null;break t}}v=b}v!==null?(n.memoizedState={dehydrated:v,treeContext:Ai!==null?{id:xn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},b=Ge(18,null,null,0),b.stateNode=v,b.return=n,n.child=b,be=n,Kt=null,b=!0):b=!1}b||Oi(n)}if(v=n.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return $c(v)?n.lanes=32:n.lanes=536870912,null;On(n)}return v=o.children,o=o.fallback,c?(Wn(),c=n.mode,v=xr({mode:"hidden",children:v},c),o=wi(o,c,s,null),v.return=n,o.return=n,v.sibling=o,n.child=v,c=n.child,c.memoizedState=gc(s),c.childLanes=mc(e,y,s),n.memoizedState=dc,o):(Qn(n),_c(n,v))}if(b=e.memoizedState,b!==null&&(v=b.dehydrated,v!==null)){if(f)n.flags&256?(Qn(n),n.flags&=-257,n=yc(e,n,s)):n.memoizedState!==null?(Wn(),n.child=e.child,n.flags|=128,n=null):(Wn(),c=o.fallback,v=n.mode,o=xr({mode:"visible",children:o.children},v),c=wi(c,v,s,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,xs(n,e.child,null,s),o=n.child,o.memoizedState=gc(s),o.childLanes=mc(e,y,s),n.memoizedState=dc,n=c);else if(Qn(n),$c(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var C=y.dgst;y=C,o=Error(a(419)),o.stack="",o.digest=y,Ca({value:o,source:null,stack:null}),n=yc(e,n,s)}else if(ae||Ma(e,n,s,!1),y=(s&e.childLanes)!==0,ae||y){if(y=Yt,y!==null&&(o=s&-s,o=(o&42)!==0?1:Jo(o),o=(o&(y.suspendedLanes|s))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,gs(e,o),Be(y,e,o),Kg;v.data==="$?"||Uc(),n=yc(e,n,s)}else v.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,Kt=rn(v.nextSibling),be=n,Ot=!0,Mi=null,dn=!1,e!==null&&(ke[Qe++]=xn,ke[Qe++]=wn,ke[Qe++]=Ai,xn=e.id,wn=e.overflow,Ai=n),n=_c(n,o.children),n.flags|=4096);return n}return c?(Wn(),c=o.fallback,v=n.mode,b=e.child,C=b.sibling,o=Rn(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,C!==null?c=Rn(C,c):(c=wi(c,v,s,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,v=e.child.memoizedState,v===null?v=gc(s):(b=v.cachePool,b!==null?(C=ee._currentValue,b=b.parent!==C?{parent:C,pool:C}:b):b=Hd(),v={baseLanes:v.baseLanes|s,cachePool:b}),c.memoizedState=v,c.childLanes=mc(e,y,s),n.memoizedState=dc,o):(Qn(n),s=e.child,e=s.sibling,s=Rn(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=s,n.memoizedState=null,s)}function _c(e,n){return n=xr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function xr(e,n){return e=Ge(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function yc(e,n,s){return xs(n,e.child,null,s),e=_c(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function nm(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Uu(e.return,n,s)}function pc(e,n,s,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=c)}function im(e,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(ce(e,n,o.children,s),o=ne.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nm(e,s,n);else if(e.tag===19)nm(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(K(ne,o),c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&br(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),pc(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&br(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}pc(n,!0,s,null,f);break;case"together":pc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ln(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ni|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ma(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Rn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Rn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function vc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ar(e)))}function Av(e,n,s){switch(n.tag){case 3:xt(n,n.stateNode.containerInfo),qn(n,ee,e.memoizedState.cache),Aa();break;case 27:case 5:Re(n);break;case 4:xt(n,n.stateNode.containerInfo);break;case 10:qn(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Qn(n),n.flags|=128,null):(s&n.child.childLanes)!==0?em(e,n,s):(Qn(n),e=Ln(e,n,s),e!==null?e.sibling:null);Qn(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ma(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return im(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),K(ne,ne.current),o)break;return null;case 22:case 23:return n.lanes=0,Qg(e,n,s);case 24:qn(n,ee,e.memoizedState.cache)}return Ln(e,n,s)}function sm(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)ae=!0;else{if(!vc(e,s)&&(n.flags&128)===0)return ae=!1,Av(e,n,s);ae=(e.flags&131072)!==0}else ae=!1,Ot&&(n.flags&1048576)!==0&&zd(n,sr,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Cu(o)?(e=Ui(o,e),n.tag=1,n=Jg(null,n,o,e,s)):(n.tag=0,n=fc(null,n,o,e,s));else{if(o!=null){if(c=o.$$typeof,c===V){n.tag=11,n=Pg(null,n,o,e,s);break t}else if(c===tt){n.tag=14,n=Fg(null,n,o,e,s);break t}}throw n=Zt(o)||o,Error(a(306,n,""))}}return n;case 0:return fc(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=Ui(o,n.pendingProps),Jg(e,n,o,c,s);case 3:t:{if(xt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Bu(e,n),ja(n,o,null,s);var y=n.memoizedState;if(o=y.cache,qn(n,ee,o),o!==f.cache&&ju(n,[ee],s,!0),Ua(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=tm(e,n,o,s);break t}else if(o!==c){c=Pe(Error(a(424)),n),Ca(c),n=tm(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Kt=rn(e.firstChild),be=n,Ot=!0,Mi=null,dn=!0,s=jg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Aa(),o===c){n=Ln(e,n,s);break t}ce(e,n,o,s)}n=n.child}return n;case 26:return Rr(e,n),e===null?(s=o0(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ot||(s=n.type,e=n.pendingProps,o=Xr(it.current).createElement(s),o[me]=n,o[xe]=e,fe(o,s,e),se(o),n.stateNode=o):n.memoizedState=o0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Re(n),e===null&&Ot&&(o=n.stateNode=a0(n.type,n.pendingProps,it.current),be=n,dn=!0,c=Kt,li(n.type)?(Jc=c,Kt=rn(o.firstChild)):Kt=c),ce(e,n,n.pendingProps.children,s),Rr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ot&&((c=o=Kt)&&(o=e1(o,n.type,n.pendingProps,dn),o!==null?(n.stateNode=o,be=n,Kt=rn(o.firstChild),dn=!1,c=!0):c=!1),c||Oi(n)),Re(n),c=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,kc(c,f)?o=null:y!==null&&kc(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Fu(e,n,vv,null,null,s),sl._currentValue=c),Rr(e,n),ce(e,n,o,s),n.child;case 6:return e===null&&Ot&&((e=s=Kt)&&(s=n1(s,n.pendingProps,dn),s!==null?(n.stateNode=s,be=n,Kt=null,e=!0):e=!1),e||Oi(n)),null;case 13:return em(e,n,s);case 4:return xt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=xs(n,null,o,s):ce(e,n,o,s),n.child;case 11:return Pg(e,n,n.type,n.pendingProps,s);case 7:return ce(e,n,n.pendingProps,s),n.child;case 8:return ce(e,n,n.pendingProps.children,s),n.child;case 12:return ce(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,qn(n,n.type,o.value),ce(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Di(n),c=_e(c),o=o(c),n.flags|=1,ce(e,n,o,s),n.child;case 14:return Fg(e,n,n.type,n.pendingProps,s);case 15:return kg(e,n,n.type,n.pendingProps,s);case 19:return im(e,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},e===null?(s=xr(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Rn(e.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Qg(e,n,s);case 24:return Di(n),o=_e(ee),e===null?(c=Xu(),c===null&&(c=Yt,f=Gu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},Hu(n),qn(n,ee,c)):((e.lanes&s)!==0&&(Bu(e,n),ja(n,null,null,s),Ua()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),qn(n,ee,o)):(o=f.cache,qn(n,ee,o),o!==c.cache&&ju(n,[ee],s,!0))),ce(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Dn(e){e.flags|=4}function am(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!d0(n)){if(n=We.current,n!==null&&((Rt&4194048)===Rt?gn!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||n!==gn))throw Na=Yu,Bd;e.flags|=8192}}function wr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Gf():536870912,e.lanes|=n,Ms|=n)}function Va(e,n){if(!Ot)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function qt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function Cv(e,n,s){var o=n.pendingProps;switch(Du(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(n),null;case 1:return qt(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Cn(ee),ue(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(wa(n)?Dn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gd())),qt(n),null;case 26:return s=n.memoizedState,e===null?(Dn(n),s!==null?(qt(n),am(n,s)):(qt(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Dn(n),qt(n),am(n,s)):(qt(n),n.flags&=-16777217):(e.memoizedProps!==o&&Dn(n),qt(n),n.flags&=-16777217),null;case 27:Ei(n),s=it.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Dn(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return qt(n),null}e=$.current,wa(n)?Ud(n):(e=a0(c,o,s),n.stateNode=e,Dn(n))}return qt(n),null;case 5:if(Ei(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Dn(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return qt(n),null}if(e=$.current,wa(n))Ud(n);else{switch(c=Xr(it.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(s,{is:o.is}):c.createElement(s)}}e[me]=n,e[xe]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(fe(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Dn(n)}}return qt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Dn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=it.current,wa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=be,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[me]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||$m(e.nodeValue,s)),e||Oi(n)}else e=Xr(e).createTextNode(o),e[me]=n,n.stateNode=e}return qt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=wa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[me]=n}else Aa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),c=!1}else c=Gd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(On(n),n):(On(n),null)}if(On(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),wr(n,n.updateQueue),qt(n),null;case 4:return ue(),e===null&&Zc(n.stateNode.containerInfo),qt(n),null;case 10:return Cn(n.type),qt(n),null;case 19:if(F(ne),c=n.memoizedState,c===null)return qt(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)Va(c,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=br(e),f!==null){for(n.flags|=128,Va(c,!1),e=f.updateQueue,n.updateQueue=e,wr(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Nd(s,e),s=s.sibling;return K(ne,ne.current&1|2),n.child}e=e.sibling}c.tail!==null&&ve()>Mr&&(n.flags|=128,o=!0,Va(c,!1),n.lanes=4194304)}else{if(!o)if(e=br(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,wr(n,e),Va(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ot)return qt(n),null}else 2*ve()-c.renderingStartTime>Mr&&s!==536870912&&(n.flags|=128,o=!0,Va(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ve(),n.sibling=null,e=ne.current,K(ne,o?e&1|2:e&1),n):(qt(n),null);case 22:case 23:return On(n),Ku(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(qt(n),n.subtreeFlags&6&&(n.flags|=8192)):qt(n),s=n.updateQueue,s!==null&&wr(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&F(Ni),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Cn(ee),qt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Mv(e,n){switch(Du(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Cn(ee),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ei(n),null;case 13:if(On(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Aa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(ne),null;case 4:return ue(),null;case 10:return Cn(n.type),null;case 22:case 23:return On(n),Ku(),e!==null&&F(Ni),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Cn(ee),null;case 25:return null;default:return null}}function lm(e,n){switch(Du(n),n.tag){case 3:Cn(ee),ue();break;case 26:case 27:case 5:Ei(n);break;case 4:ue();break;case 13:On(n);break;case 19:F(ne);break;case 10:Cn(n.type);break;case 22:case 23:On(n),Ku(),e!==null&&F(Ni);break;case 24:Cn(ee)}}function Za(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,y=s.inst;o=f(),y.destroy=o}s=s.next}while(s!==c)}}catch(v){Xt(n,n.return,v)}}function $n(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var y=o.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,c=n;var b=s,C=v;try{C()}catch(U){Xt(c,b,U)}}}o=o.next}while(o!==f)}}catch(U){Xt(n,n.return,U)}}function rm(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Fd(n,s)}catch(o){Xt(e,e.return,o)}}}function om(e,n,s){s.props=Ui(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function qa(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){Xt(e,n,c)}}function mn(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Xt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Xt(e,n,c)}else s.current=null}function um(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Xt(e,e.return,c)}}function Ec(e,n,s){try{var o=e.stateNode;Qv(o,e.type,s,n),o[xe]=n}catch(c){Xt(e,e.return,c)}}function cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&li(e.type)||e.tag===4}function bc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&li(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ir));else if(o!==4&&(o===27&&li(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Sc(e,n,s),e=e.sibling;e!==null;)Sc(e,n,s),e=e.sibling}function Ar(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&li(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ar(e,n,s),e=e.sibling;e!==null;)Ar(e,n,s),e=e.sibling}function hm(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);fe(n,o,s),n[me]=e,n[xe]=s}catch(f){Xt(e,e.return,f)}}var Nn=!1,Wt=!1,Tc=!1,fm=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ov(e,n){if(e=e.containerInfo,Pc=qr,e=Td(e),bu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,v=-1,b=-1,C=0,U=0,X=e,M=null;e:for(;;){for(var L;X!==s||c!==0&&X.nodeType!==3||(v=y+c),X!==f||o!==0&&X.nodeType!==3||(b=y+o),X.nodeType===3&&(y+=X.nodeValue.length),(L=X.firstChild)!==null;)M=X,X=L;for(;;){if(X===e)break e;if(M===s&&++C===c&&(v=y),M===f&&++U===o&&(b=y),(L=X.nextSibling)!==null)break;X=M,M=X.parentNode}X=L}s=v===-1||b===-1?null:{start:v,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(Fc={focusedElem:e,selectionRange:s},qr=!1,le=n;le!==null;)if(n=le,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,le=e;else for(;le!==null;){switch(n=le,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Ui(s.type,c,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(at){Xt(s,s.return,at)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Wc(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,le=e;break}le=n.return}}function dm(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Jn(e,s),o&4&&Za(5,s);break;case 1:if(Jn(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(y){Xt(s,s.return,y)}else{var c=Ui(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(s,s.return,y)}}o&64&&rm(s),o&512&&qa(s,s.return);break;case 3:if(Jn(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Fd(e,n)}catch(y){Xt(s,s.return,y)}}break;case 27:n===null&&o&4&&hm(s);case 26:case 5:Jn(e,s),n===null&&o&4&&um(s),o&512&&qa(s,s.return);break;case 12:Jn(e,s);break;case 13:Jn(e,s),o&4&&_m(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Xv.bind(null,s),i1(e,s))));break;case 22:if(o=s.memoizedState!==null||Nn,!o){n=n!==null&&n.memoizedState!==null||Wt,c=Nn;var f=Wt;Nn=o,(Wt=n)&&!f?ti(e,s,(s.subtreeFlags&8772)!==0):Jn(e,s),Nn=c,Wt=f}break;case 30:break;default:Jn(e,s)}}function gm(e){var n=e.alternate;n!==null&&(e.alternate=null,gm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&nu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Vt=null,Ce=!1;function zn(e,n,s){for(s=s.child;s!==null;)mm(e,n,s),s=s.sibling}function mm(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(fa,s)}catch{}switch(s.tag){case 26:Wt||mn(s,n),zn(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Wt||mn(s,n);var o=Vt,c=Ce;li(s.type)&&(Vt=s.stateNode,Ce=!1),zn(e,n,s),tl(s.stateNode),Vt=o,Ce=c;break;case 5:Wt||mn(s,n);case 6:if(o=Vt,c=Ce,Vt=null,zn(e,n,s),Vt=o,Ce=c,Vt!==null)if(Ce)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{Vt.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:Vt!==null&&(Ce?(e=Vt,i0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ol(e)):i0(Vt,s.stateNode));break;case 4:o=Vt,c=Ce,Vt=s.stateNode.containerInfo,Ce=!0,zn(e,n,s),Vt=o,Ce=c;break;case 0:case 11:case 14:case 15:Wt||$n(2,s,n),Wt||$n(4,s,n),zn(e,n,s);break;case 1:Wt||(mn(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&om(s,n,o)),zn(e,n,s);break;case 21:zn(e,n,s);break;case 22:Wt=(o=Wt)||s.memoizedState!==null,zn(e,n,s),Wt=o;break;default:zn(e,n,s)}}function _m(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(s){Xt(n,n.return,s)}}function Lv(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fm),n;default:throw Error(a(435,e.tag))}}function Rc(e,n){var s=Lv(e);n.forEach(function(o){var c=Yv.bind(null,e,o);s.has(o)||(s.add(o),o.then(c,c))})}function Ie(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,y=n,v=y;t:for(;v!==null;){switch(v.tag){case 27:if(li(v.type)){Vt=v.stateNode,Ce=!1;break t}break;case 5:Vt=v.stateNode,Ce=!1;break t;case 3:case 4:Vt=v.stateNode.containerInfo,Ce=!0;break t}v=v.return}if(Vt===null)throw Error(a(160));mm(f,y,c),Vt=null,Ce=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ym(n,e),n=n.sibling}var ln=null;function ym(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ie(n,e),Xe(e),o&4&&($n(3,e,e.return),Za(3,e),$n(5,e,e.return));break;case 1:Ie(n,e),Xe(e),o&512&&(Wt||s===null||mn(s,s.return)),o&64&&Nn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=ln;if(Ie(n,e),Xe(e),o&512&&(Wt||s===null||mn(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ma]||f[me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),fe(f,o,s),f[me]=e,se(f),o=f;break t;case"link":var y=h0("link","href",c).get(o+(s.href||""));if(y){for(var v=0;v<y.length;v++)if(f=y[v],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(v,1);break e}}f=c.createElement(o),fe(f,o,s),c.head.appendChild(f);break;case"meta":if(y=h0("meta","content",c).get(o+(s.content||""))){for(v=0;v<y.length;v++)if(f=y[v],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(v,1);break e}}f=c.createElement(o),fe(f,o,s),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[me]=e,se(f),o=f}e.stateNode=o}else f0(c,e.type,e.stateNode);else e.stateNode=c0(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?f0(c,e.type,e.stateNode):c0(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ec(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ie(n,e),Xe(e),o&512&&(Wt||s===null||mn(s,s.return)),s!==null&&o&4&&Ec(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ie(n,e),Xe(e),o&512&&(Wt||s===null||mn(s,s.return)),e.flags&32){c=e.stateNode;try{rs(c,"")}catch(L){Xt(e,e.return,L)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Ec(e,c,s!==null?s.memoizedProps:c)),o&1024&&(Tc=!0);break;case 6:if(Ie(n,e),Xe(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(L){Xt(e,e.return,L)}}break;case 3:if(Br=null,c=ln,ln=Yr(n.containerInfo),Ie(n,e),ln=c,Xe(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ol(n.containerInfo)}catch(L){Xt(e,e.return,L)}Tc&&(Tc=!1,pm(e));break;case 4:o=ln,ln=Yr(e.stateNode.containerInfo),Ie(n,e),Xe(e),ln=o;break;case 12:Ie(n,e),Xe(e);break;case 13:Ie(n,e),Xe(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Oc=ve()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Rc(e,o)));break;case 22:c=e.memoizedState!==null;var b=s!==null&&s.memoizedState!==null,C=Nn,U=Wt;if(Nn=C||c,Wt=U||b,Ie(n,e),Wt=U,Nn=C,Xe(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||b||Nn||Wt||ji(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){b=s=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=b.stateNode;var X=b.memoizedProps.style,M=X!=null&&X.hasOwnProperty("display")?X.display:null;v.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(L){Xt(b,b.return,L)}}}else if(n.tag===6){if(s===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(L){Xt(b,b.return,L)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Rc(e,s))));break;case 19:Ie(n,e),Xe(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Rc(e,o)));break;case 30:break;case 21:break;default:Ie(n,e),Xe(e)}}function Xe(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(cm(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=bc(e);Ar(e,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(rs(y,""),s.flags&=-33);var v=bc(e);Ar(e,v,y);break;case 3:case 4:var b=s.stateNode.containerInfo,C=bc(e);Sc(e,C,b);break;default:throw Error(a(161))}}catch(U){Xt(e,e.return,U)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function pm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;pm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Jn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dm(e,n.alternate,n),n=n.sibling}function ji(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:$n(4,n,n.return),ji(n);break;case 1:mn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&om(n,n.return,s),ji(n);break;case 27:tl(n.stateNode);case 26:case 5:mn(n,n.return),ji(n);break;case 22:n.memoizedState===null&&ji(n);break;case 30:ji(n);break;default:ji(n)}e=e.sibling}}function ti(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ti(c,f,s),Za(4,f);break;case 1:if(ti(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(C){Xt(o,o.return,C)}if(o=f,c=o.updateQueue,c!==null){var v=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Pd(b[c],v)}catch(C){Xt(o,o.return,C)}}s&&y&64&&rm(f),qa(f,f.return);break;case 27:hm(f);case 26:case 5:ti(c,f,s),s&&o===null&&y&4&&um(f),qa(f,f.return);break;case 12:ti(c,f,s);break;case 13:ti(c,f,s),s&&y&4&&_m(c,f);break;case 22:f.memoizedState===null&&ti(c,f,s),qa(f,f.return);break;case 30:break;default:ti(c,f,s)}n=n.sibling}}function xc(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Oa(s))}function wc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Oa(e))}function _n(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vm(e,n,s,o),n=n.sibling}function vm(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:_n(e,n,s,o),c&2048&&Za(9,n);break;case 1:_n(e,n,s,o);break;case 3:_n(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Oa(e)));break;case 12:if(c&2048){_n(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,v=f.onPostCommit;typeof v=="function"&&v(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else _n(e,n,s,o);break;case 13:_n(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?_n(e,n,s,o):Ka(e,n):f._visibility&2?_n(e,n,s,o):(f._visibility|=2,ws(e,n,s,o,(n.subtreeFlags&10256)!==0)),c&2048&&xc(y,n);break;case 24:_n(e,n,s,o),c&2048&&wc(n.alternate,n);break;default:_n(e,n,s,o)}}function ws(e,n,s,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,y=n,v=s,b=o,C=y.flags;switch(y.tag){case 0:case 11:case 15:ws(f,y,v,b,c),Za(8,y);break;case 23:break;case 22:var U=y.stateNode;y.memoizedState!==null?U._visibility&2?ws(f,y,v,b,c):Ka(f,y):(U._visibility|=2,ws(f,y,v,b,c)),c&&C&2048&&xc(y.alternate,y);break;case 24:ws(f,y,v,b,c),c&&C&2048&&wc(y.alternate,y);break;default:ws(f,y,v,b,c)}n=n.sibling}}function Ka(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:Ka(s,o),c&2048&&xc(o.alternate,o);break;case 24:Ka(s,o),c&2048&&wc(o.alternate,o);break;default:Ka(s,o)}n=n.sibling}}var Pa=8192;function As(e){if(e.subtreeFlags&Pa)for(e=e.child;e!==null;)Em(e),e=e.sibling}function Em(e){switch(e.tag){case 26:As(e),e.flags&Pa&&e.memoizedState!==null&&_1(ln,e.memoizedState,e.memoizedProps);break;case 5:As(e);break;case 3:case 4:var n=ln;ln=Yr(e.stateNode.containerInfo),As(e),ln=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Pa,Pa=16777216,As(e),Pa=n):As(e));break;default:As(e)}}function bm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Fa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];le=o,Tm(o,e)}bm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sm(e),e=e.sibling}function Sm(e){switch(e.tag){case 0:case 11:case 15:Fa(e),e.flags&2048&&$n(9,e,e.return);break;case 3:Fa(e);break;case 12:Fa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Cr(e)):Fa(e);break;default:Fa(e)}}function Cr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];le=o,Tm(o,e)}bm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:$n(8,n,n.return),Cr(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Cr(n));break;default:Cr(n)}e=e.sibling}}function Tm(e,n){for(;le!==null;){var s=le;switch(s.tag){case 0:case 11:case 15:$n(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oa(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,le=o;else t:for(s=e;le!==null;){o=le;var c=o.sibling,f=o.return;if(gm(o),o===s){le=null;break t}if(c!==null){c.return=f,le=c;break t}le=f}}}var Dv={getCacheForType:function(e){var n=_e(ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},Nv=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Yt=null,pt=null,Rt=0,Nt=0,Ye=null,ei=!1,Cs=!1,Ac=!1,Un=0,Pt=0,ni=0,Gi=0,Cc=0,$e=0,Ms=0,ka=null,Me=null,Mc=!1,Oc=0,Mr=1/0,Or=null,ii=null,he=0,si=null,Os=null,Ls=0,Lc=0,Dc=null,Rm=null,Qa=0,Nc=null;function He(){if((Dt&2)!==0&&Rt!==0)return Rt&-Rt;if(N.T!==null){var e=ps;return e!==0?e:Yc()}return Yf()}function xm(){$e===0&&($e=(Rt&536870912)===0||Ot?jf():536870912);var e=We.current;return e!==null&&(e.flags|=32),$e}function Be(e,n,s){(e===Yt&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)&&(Ds(e,0),ai(e,Rt,$e,!1)),ga(e,s),((Dt&2)===0||e!==Yt)&&(e===Yt&&((Dt&2)===0&&(Gi|=s),Pt===4&&ai(e,Rt,$e,!1)),yn(e))}function wm(e,n,s){if((Dt&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&e.expiredLanes)===0||da(e,n),c=o?jv(e,n):jc(e,n,!0),f=o;do{if(c===0){Cs&&!o&&ai(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!zv(s)){c=jc(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var v=e;c=ka;var b=v.current.memoizedState.isDehydrated;if(b&&(Ds(v,y).flags|=256),y=jc(v,y,!1),y!==2){if(Ac&&!b){v.errorRecoveryDisabledLanes|=f,Gi|=f,c=4;break t}f=Me,Me=c,f!==null&&(Me===null?Me=f:Me.push.apply(Me,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ds(e,0),ai(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ai(o,n,$e,!ei);break t;case 2:Me=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Oc+300-ve(),10<c)){if(ai(o,n,$e,!ei),Hl(o,0,!0)!==0)break t;o.timeoutHandle=e0(Am.bind(null,o,s,Me,Or,Mc,n,$e,Gi,Ms,ei,f,2,-0,0),c);break t}Am(o,s,Me,Or,Mc,n,$e,Gi,Ms,ei,f,0,-0,0)}}break}while(!0);yn(e)}function Am(e,n,s,o,c,f,y,v,b,C,U,X,M,L){if(e.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(il={stylesheets:null,count:0,unsuspend:m1},Em(n),X=y1(),X!==null)){e.cancelPendingCommit=X(zm.bind(null,e,n,f,s,o,c,y,v,b,U,1,M,L)),ai(e,f,y,!C);return}zm(e,n,f,s,o,c,y,v,b)}function zv(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!je(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ai(e,n,s,o){n&=~Cc,n&=~Gi,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-Ue(c),y=1<<f;o[f]=-1,c&=~y}s!==0&&If(e,s,n)}function Lr(){return(Dt&6)===0?(Wa(0),!1):!0}function zc(){if(pt!==null){if(Nt===0)var e=pt.return;else e=pt,An=Li=null,Wu(e),Rs=null,Ha=0,e=pt;for(;e!==null;)lm(e.alternate,e),e=e.return;pt=null}}function Ds(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,$v(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),zc(),Yt=e,pt=s=Rn(e.current,null),Rt=n,Nt=0,Ye=null,ei=!1,Cs=da(e,n),Ac=!1,Ms=$e=Cc=Gi=ni=Pt=0,Me=ka=null,Mc=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-Ue(o),f=1<<c;n|=e[c],o&=~f}return Un=n,Jl(),s}function Cm(e,n){mt=null,N.H=pr,n===Da||n===or?(n=qd(),Nt=3):n===Bd?(n=qd(),Nt=4):Nt=n===Kg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ye=n,pt===null&&(Pt=1,Tr(e,Pe(n,e.current)))}function Mm(){var e=N.H;return N.H=pr,e===null?pr:e}function Om(){var e=N.A;return N.A=Dv,e}function Uc(){Pt=4,ei||(Rt&4194048)!==Rt&&We.current!==null||(Cs=!0),(ni&134217727)===0&&(Gi&134217727)===0||Yt===null||ai(Yt,Rt,$e,!1)}function jc(e,n,s){var o=Dt;Dt|=2;var c=Mm(),f=Om();(Yt!==e||Rt!==n)&&(Or=null,Ds(e,n)),n=!1;var y=Pt;t:do try{if(Nt!==0&&pt!==null){var v=pt,b=Ye;switch(Nt){case 8:zc(),y=6;break t;case 3:case 2:case 9:case 6:We.current===null&&(n=!0);var C=Nt;if(Nt=0,Ye=null,Ns(e,v,b,C),s&&Cs){y=0;break t}break;default:C=Nt,Nt=0,Ye=null,Ns(e,v,b,C)}}Uv(),y=Pt;break}catch(U){Cm(e,U)}while(!0);return n&&e.shellSuspendCounter++,An=Li=null,Dt=o,N.H=c,N.A=f,pt===null&&(Yt=null,Rt=0,Jl()),y}function Uv(){for(;pt!==null;)Lm(pt)}function jv(e,n){var s=Dt;Dt|=2;var o=Mm(),c=Om();Yt!==e||Rt!==n?(Or=null,Mr=ve()+500,Ds(e,n)):Cs=da(e,n);t:do try{if(Nt!==0&&pt!==null){n=pt;var f=Ye;e:switch(Nt){case 1:Nt=0,Ye=null,Ns(e,n,f,1);break;case 2:case 9:if(Vd(f)){Nt=0,Ye=null,Dm(n);break}n=function(){Nt!==2&&Nt!==9||Yt!==e||(Nt=7),yn(e)},f.then(n,n);break t;case 3:Nt=7;break t;case 4:Nt=5;break t;case 7:Vd(f)?(Nt=0,Ye=null,Dm(n)):(Nt=0,Ye=null,Ns(e,n,f,7));break;case 5:var y=null;switch(pt.tag){case 26:y=pt.memoizedState;case 5:case 27:var v=pt;if(!y||d0(y)){Nt=0,Ye=null;var b=v.sibling;if(b!==null)pt=b;else{var C=v.return;C!==null?(pt=C,Dr(C)):pt=null}break e}}Nt=0,Ye=null,Ns(e,n,f,5);break;case 6:Nt=0,Ye=null,Ns(e,n,f,6);break;case 8:zc(),Pt=6;break t;default:throw Error(a(462))}}Gv();break}catch(U){Cm(e,U)}while(!0);return An=Li=null,N.H=o,N.A=c,Dt=s,pt!==null?0:(Yt=null,Rt=0,Jl(),Pt)}function Gv(){for(;pt!==null&&!hn();)Lm(pt)}function Lm(e){var n=sm(e.alternate,e,Un);e.memoizedProps=e.pendingProps,n===null?Dr(e):pt=n}function Dm(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=$g(s,n,n.pendingProps,n.type,void 0,Rt);break;case 11:n=$g(s,n,n.pendingProps,n.type.render,n.ref,Rt);break;case 5:Wu(n);default:lm(s,n),n=pt=Nd(n,Un),n=sm(s,n,Un)}e.memoizedProps=e.pendingProps,n===null?Dr(e):pt=n}function Ns(e,n,s,o){An=Li=null,Wu(n),Rs=null,Ha=0;var c=n.return;try{if(wv(e,c,n,s,Rt)){Pt=1,Tr(e,Pe(s,e.current)),pt=null;return}}catch(f){if(c!==null)throw pt=c,f;Pt=1,Tr(e,Pe(s,e.current)),pt=null;return}n.flags&32768?(Ot||o===1?e=!0:Cs||(Rt&536870912)!==0?e=!1:(ei=e=!0,(o===2||o===9||o===3||o===6)&&(o=We.current,o!==null&&o.tag===13&&(o.flags|=16384))),Nm(n,e)):Dr(n)}function Dr(e){var n=e;do{if((n.flags&32768)!==0){Nm(n,ei);return}e=n.return;var s=Cv(n.alternate,n,Un);if(s!==null){pt=s;return}if(n=n.sibling,n!==null){pt=n;return}pt=n=e}while(n!==null);Pt===0&&(Pt=5)}function Nm(e,n){do{var s=Mv(e.alternate,e);if(s!==null){s.flags&=32767,pt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){pt=e;return}pt=e=s}while(e!==null);Pt=6,pt=null}function zm(e,n,s,o,c,f,y,v,b){e.cancelPendingCommit=null;do Nr();while(he!==0);if((Dt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=wu,mp(e,s,f,y,v,b),e===Yt&&(pt=Yt=null,Rt=0),Os=n,si=e,Ls=s,Lc=f,Dc=c,Rm=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Hv(bn,function(){return Xm(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=N.T,N.T=null,c=P.p,P.p=2,y=Dt,Dt|=4;try{Ov(e,n,s)}finally{Dt=y,P.p=c,N.T=o}}he=1,Um(),jm(),Gm()}}function Um(){if(he===1){he=0;var e=si,n=Os,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=N.T,N.T=null;var o=P.p;P.p=2;var c=Dt;Dt|=4;try{ym(n,e);var f=Fc,y=Td(e.containerInfo),v=f.focusedElem,b=f.selectionRange;if(y!==v&&v&&v.ownerDocument&&Sd(v.ownerDocument.documentElement,v)){if(b!==null&&bu(v)){var C=b.start,U=b.end;if(U===void 0&&(U=C),"selectionStart"in v)v.selectionStart=C,v.selectionEnd=Math.min(U,v.value.length);else{var X=v.ownerDocument||document,M=X&&X.defaultView||window;if(M.getSelection){var L=M.getSelection(),ot=v.textContent.length,at=Math.min(b.start,ot),It=b.end===void 0?at:Math.min(b.end,ot);!L.extend&&at>It&&(y=It,It=at,at=y);var w=bd(v,at),T=bd(v,It);if(w&&T&&(L.rangeCount!==1||L.anchorNode!==w.node||L.anchorOffset!==w.offset||L.focusNode!==T.node||L.focusOffset!==T.offset)){var A=X.createRange();A.setStart(w.node,w.offset),L.removeAllRanges(),at>It?(L.addRange(A),L.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),L.addRange(A))}}}}for(X=[],L=v;L=L.parentNode;)L.nodeType===1&&X.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<X.length;v++){var G=X[v];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}qr=!!Pc,Fc=Pc=null}finally{Dt=c,P.p=o,N.T=s}}e.current=n,he=2}}function jm(){if(he===2){he=0;var e=si,n=Os,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=N.T,N.T=null;var o=P.p;P.p=2;var c=Dt;Dt|=4;try{dm(e,n.alternate,n)}finally{Dt=c,P.p=o,N.T=s}}he=3}}function Gm(){if(he===4||he===3){he=0,fn();var e=si,n=Os,s=Ls,o=Rm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?he=5:(he=0,Os=si=null,Im(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ii=null),tu(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(fa,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=N.T,c=P.p,P.p=2,N.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var v=o[y];f(v.value,{componentStack:v.stack})}}finally{N.T=n,P.p=c}}(Ls&3)!==0&&Nr(),yn(e),c=e.pendingLanes,(s&4194090)!==0&&(c&42)!==0?e===Nc?Qa++:(Qa=0,Nc=e):Qa=0,Wa(0)}}function Im(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Oa(n)))}function Nr(e){return Um(),jm(),Gm(),Xm()}function Xm(){if(he!==5)return!1;var e=si,n=Lc;Lc=0;var s=tu(Ls),o=N.T,c=P.p;try{P.p=32>s?32:s,N.T=null,s=Dc,Dc=null;var f=si,y=Ls;if(he=0,Os=si=null,Ls=0,(Dt&6)!==0)throw Error(a(331));var v=Dt;if(Dt|=4,Sm(f.current),vm(f,f.current,y,s),Dt=v,Wa(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(fa,f)}catch{}return!0}finally{P.p=c,N.T=o,Im(e,n)}}function Ym(e,n,s){n=Pe(s,n),n=hc(e.stateNode,n,2),e=Fn(e,n,2),e!==null&&(ga(e,2),yn(e))}function Xt(e,n,s){if(e.tag===3)Ym(e,e,s);else for(;n!==null;){if(n.tag===3){Ym(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ii===null||!ii.has(o))){e=Pe(s,e),s=Zg(2),o=Fn(n,s,2),o!==null&&(qg(s,o,n,e),ga(o,2),yn(o));break}}n=n.return}}function Gc(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Nv;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(Ac=!0,c.add(s),e=Iv.bind(null,e,n,s),n.then(e,e))}function Iv(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Yt===e&&(Rt&s)===s&&(Pt===4||Pt===3&&(Rt&62914560)===Rt&&300>ve()-Oc?(Dt&2)===0&&Ds(e,0):Cc|=s,Ms===Rt&&(Ms=0)),yn(e)}function Hm(e,n){n===0&&(n=Gf()),e=gs(e,n),e!==null&&(ga(e,n),yn(e))}function Xv(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hm(e,s)}function Yv(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Hm(e,s)}function Hv(e,n){return Wi(e,n)}var zr=null,zs=null,Ic=!1,Ur=!1,Xc=!1,Ii=0;function yn(e){e!==zs&&e.next===null&&(zs===null?zr=zs=e:zs=zs.next=e),Ur=!0,Ic||(Ic=!0,Vv())}function Wa(e,n){if(!Xc&&Ur){Xc=!0;do for(var s=!1,o=zr;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var y=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-Ue(42|e)+1)-1,f&=c&~(y&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,qm(o,f))}else f=Rt,f=Hl(o,o===Yt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||da(o,f)||(s=!0,qm(o,f));o=o.next}while(s);Xc=!1}}function Bv(){Bm()}function Bm(){Ur=Ic=!1;var e=0;Ii!==0&&(Wv()&&(e=Ii),Ii=0);for(var n=ve(),s=null,o=zr;o!==null;){var c=o.next,f=Vm(o,n);f===0?(o.next=null,s===null?zr=c:s.next=c,c===null&&(zs=s)):(s=o,(e!==0||(f&3)!==0)&&(Ur=!0)),o=c}Wa(e)}function Vm(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Ue(f),v=1<<y,b=c[y];b===-1?((v&s)===0||(v&o)!==0)&&(c[y]=gp(v,n)):b<=n&&(e.expiredLanes|=v),f&=~v}if(n=Yt,s=Rt,s=Hl(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ca(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||da(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ca(o),tu(s)){case 2:case 8:s=Ji;break;case 32:s=bn;break;case 268435456:s=Ee;break;default:s=bn}return o=Zm.bind(null,e),s=Wi(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ca(o),e.callbackPriority=2,e.callbackNode=null,2}function Zm(e,n){if(he!==0&&he!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Nr()&&e.callbackNode!==s)return null;var o=Rt;return o=Hl(e,e===Yt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wm(e,o,n),Vm(e,ve()),e.callbackNode!=null&&e.callbackNode===s?Zm.bind(null,e):null)}function qm(e,n){if(Nr())return null;wm(e,n,!0)}function Vv(){Jv(function(){(Dt&6)!==0?Wi(ha,Bv):Bm()})}function Yc(){return Ii===0&&(Ii=jf()),Ii}function Km(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Kl(""+e)}function Pm(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Zv(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=Km((c[xe]||null).action),y=o.submitter;y&&(n=(n=y[xe]||null)?Km(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var v=new Ql("action","action",null,o,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ii!==0){var b=y?Pm(c,y):new FormData(c);lc(s,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(v.preventDefault(),b=y?Pm(c,y):new FormData(c),lc(s,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Hc=0;Hc<xu.length;Hc++){var Bc=xu[Hc],qv=Bc.toLowerCase(),Kv=Bc[0].toUpperCase()+Bc.slice(1);an(qv,"on"+Kv)}an(wd,"onAnimationEnd"),an(Ad,"onAnimationIteration"),an(Cd,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(uv,"onTransitionRun"),an(cv,"onTransitionStart"),an(hv,"onTransitionCancel"),an(Md,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($a));function Fm(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var v=o[y],b=v.instance,C=v.currentTarget;if(v=v.listener,b!==f&&c.isPropagationStopped())break t;f=v,c.currentTarget=C;try{f(c)}catch(U){Sr(U)}c.currentTarget=null,f=b}else for(y=0;y<o.length;y++){if(v=o[y],b=v.instance,C=v.currentTarget,v=v.listener,b!==f&&c.isPropagationStopped())break t;f=v,c.currentTarget=C;try{f(c)}catch(U){Sr(U)}c.currentTarget=null,f=b}}}}function vt(e,n){var s=n[eu];s===void 0&&(s=n[eu]=new Set);var o=e+"__bubble";s.has(o)||(km(n,e,2,!1),s.add(o))}function Vc(e,n,s){var o=0;n&&(o|=4),km(s,e,o,n)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[jr]){e[jr]=!0,Bf.forEach(function(s){s!=="selectionchange"&&(Pv.has(s)||Vc(s,!1,e),Vc(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[jr]||(n[jr]=!0,Vc("selectionchange",!1,n))}}function km(e,n,s,o){switch(v0(n)){case 2:var c=E1;break;case 8:c=b1;break;default:c=sh}s=c.bind(null,n,s,e),c=void 0,!fu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function qc(e,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var v=o.stateNode.containerInfo;if(v===c)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;v!==null;){if(y=es(v),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=f=y;continue t}v=v.parentNode}}o=o.return}nd(function(){var C=f,U=cu(s),X=[];t:{var M=Od.get(e);if(M!==void 0){var L=Ql,ot=e;switch(e){case"keypress":if(Fl(s)===0)break t;case"keydown":case"keyup":L=Hp;break;case"focusin":ot="focus",L=_u;break;case"focusout":ot="blur",L=_u;break;case"beforeblur":case"afterblur":L=_u;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Mp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Zp;break;case wd:case Ad:case Cd:L=Dp;break;case Md:L=Kp;break;case"scroll":case"scrollend":L=Ap;break;case"wheel":L=Fp;break;case"copy":case"cut":case"paste":L=zp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=rd;break;case"toggle":case"beforetoggle":L=Qp}var at=(n&4)!==0,It=!at&&(e==="scroll"||e==="scrollend"),w=at?M!==null?M+"Capture":null:M;at=[];for(var T=C,A;T!==null;){var G=T;if(A=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||A===null||w===null||(G=ya(T,w),G!=null&&at.push(Ja(T,G,A))),It)break;T=T.return}0<at.length&&(M=new L(M,ot,null,s,U),X.push({event:M,listeners:at}))}}if((n&7)===0){t:{if(M=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",M&&s!==uu&&(ot=s.relatedTarget||s.fromElement)&&(es(ot)||ot[ts]))break t;if((L||M)&&(M=U.window===U?U:(M=U.ownerDocument)?M.defaultView||M.parentWindow:window,L?(ot=s.relatedTarget||s.toElement,L=C,ot=ot?es(ot):null,ot!==null&&(It=u(ot),at=ot.tag,ot!==It||at!==5&&at!==27&&at!==6)&&(ot=null)):(L=null,ot=C),L!==ot)){if(at=ad,G="onMouseLeave",w="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(at=rd,G="onPointerLeave",w="onPointerEnter",T="pointer"),It=L==null?M:_a(L),A=ot==null?M:_a(ot),M=new at(G,T+"leave",L,s,U),M.target=It,M.relatedTarget=A,G=null,es(U)===C&&(at=new at(w,T+"enter",ot,s,U),at.target=A,at.relatedTarget=It,G=at),It=G,L&&ot)e:{for(at=L,w=ot,T=0,A=at;A;A=Us(A))T++;for(A=0,G=w;G;G=Us(G))A++;for(;0<T-A;)at=Us(at),T--;for(;0<A-T;)w=Us(w),A--;for(;T--;){if(at===w||w!==null&&at===w.alternate)break e;at=Us(at),w=Us(w)}at=null}else at=null;L!==null&&Qm(X,M,L,at,!1),ot!==null&&It!==null&&Qm(X,It,ot,at,!0)}}t:{if(M=C?_a(C):window,L=M.nodeName&&M.nodeName.toLowerCase(),L==="select"||L==="input"&&M.type==="file")var Q=md;else if(dd(M))if(_d)Q=lv;else{Q=sv;var yt=iv}else L=M.nodeName,!L||L.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?C&&ou(C.elementType)&&(Q=md):Q=av;if(Q&&(Q=Q(e,C))){gd(X,Q,s,U);break t}yt&&yt(e,M,C),e==="focusout"&&C&&M.type==="number"&&C.memoizedProps.value!=null&&ru(M,"number",M.value)}switch(yt=C?_a(C):window,e){case"focusin":(dd(yt)||yt.contentEditable==="true")&&(hs=yt,Su=C,xa=null);break;case"focusout":xa=Su=hs=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,Rd(X,s,U);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":Rd(X,s,U)}var et;if(pu)t:{switch(e){case"compositionstart":var lt="onCompositionStart";break t;case"compositionend":lt="onCompositionEnd";break t;case"compositionupdate":lt="onCompositionUpdate";break t}lt=void 0}else cs?hd(e,s)&&(lt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(lt="onCompositionStart");lt&&(od&&s.locale!=="ko"&&(cs||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&cs&&(et=id()):(Zn=U,du="value"in Zn?Zn.value:Zn.textContent,cs=!0)),yt=Gr(C,lt),0<yt.length&&(lt=new ld(lt,e,null,s,U),X.push({event:lt,listeners:yt}),et?lt.data=et:(et=fd(s),et!==null&&(lt.data=et)))),(et=$p?Jp(e,s):tv(e,s))&&(lt=Gr(C,"onBeforeInput"),0<lt.length&&(yt=new ld("onBeforeInput","beforeinput",null,s,U),X.push({event:yt,listeners:lt}),yt.data=et)),Zv(X,e,C,s,U)}Fm(X,n)})}function Ja(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Gr(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ya(e,s),c!=null&&o.unshift(Ja(e,c,f)),c=ya(e,n),c!=null&&o.push(Ja(e,c,f))),e.tag===3)return o;e=e.return}return[]}function Us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qm(e,n,s,o,c){for(var f=n._reactName,y=[];s!==null&&s!==o;){var v=s,b=v.alternate,C=v.stateNode;if(v=v.tag,b!==null&&b===o)break;v!==5&&v!==26&&v!==27||C===null||(b=C,c?(C=ya(s,f),C!=null&&y.unshift(Ja(s,C,b))):c||(C=ya(s,f),C!=null&&y.push(Ja(s,C,b)))),s=s.return}y.length!==0&&e.push({event:n,listeners:y})}var Fv=/\r\n?/g,kv=/\u0000|\uFFFD/g;function Wm(e){return(typeof e=="string"?e:""+e).replace(Fv,`
`).replace(kv,"")}function $m(e,n){return n=Wm(n),Wm(e)===n}function Ir(){}function Gt(e,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rs(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rs(e,""+o);break;case"className":Vl(e,"class",o);break;case"tabIndex":Vl(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(e,s,o);break;case"style":td(e,o,f);break;case"data":if(n!=="object"){Vl(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Kl(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Gt(e,n,"name",c.name,c,null),Gt(e,n,"formEncType",c.formEncType,c,null),Gt(e,n,"formMethod",c.formMethod,c,null),Gt(e,n,"formTarget",c.formTarget,c,null)):(Gt(e,n,"encType",c.encType,c,null),Gt(e,n,"method",c.method,c,null),Gt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Kl(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Ir);break;case"onScroll":o!=null&&vt("scroll",e);break;case"onScrollEnd":o!=null&&vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Kl(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":vt("beforetoggle",e),vt("toggle",e),Bl(e,"popover",o);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Bl(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=xp.get(s)||s,Bl(e,s,o))}}function Kc(e,n,s,o,c,f){switch(s){case"style":td(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?rs(e,o):(typeof o=="number"||typeof o=="bigint")&&rs(e,""+o);break;case"onScroll":o!=null&&vt("scroll",e);break;case"onScrollEnd":o!=null&&vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ir);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vf.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Bl(e,s,o)}}}function fe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",e),vt("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(e,n,f,y,s,null)}}c&&Gt(e,n,"srcSet",s.srcSet,s,null),o&&Gt(e,n,"src",s.src,s,null);return;case"input":vt("invalid",e);var v=f=y=c=null,b=null,C=null;for(o in s)if(s.hasOwnProperty(o)){var U=s[o];if(U!=null)switch(o){case"name":c=U;break;case"type":y=U;break;case"checked":b=U;break;case"defaultChecked":C=U;break;case"value":f=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:Gt(e,n,o,U,s,null)}}Qf(e,f,v,b,C,y,c,!1),Zl(e);return;case"select":vt("invalid",e),o=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(v=s[c],v!=null))switch(c){case"value":f=v;break;case"defaultValue":y=v;break;case"multiple":o=v;default:Gt(e,n,c,v,s,null)}n=f,s=y,e.multiple=!!o,n!=null?ls(e,!!o,n,!1):s!=null&&ls(e,!!o,s,!0);return;case"textarea":vt("invalid",e),f=c=o=null;for(y in s)if(s.hasOwnProperty(y)&&(v=s[y],v!=null))switch(y){case"value":o=v;break;case"defaultValue":c=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:Gt(e,n,y,v,s,null)}$f(e,o,c,f),Zl(e);return;case"option":for(b in s)if(s.hasOwnProperty(b)&&(o=s[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Gt(e,n,b,o,s,null)}return;case"dialog":vt("beforetoggle",e),vt("toggle",e),vt("cancel",e),vt("close",e);break;case"iframe":case"object":vt("load",e);break;case"video":case"audio":for(o=0;o<$a.length;o++)vt($a[o],e);break;case"image":vt("error",e),vt("load",e);break;case"details":vt("toggle",e);break;case"embed":case"source":case"link":vt("error",e),vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(e,n,C,o,s,null)}return;default:if(ou(n)){for(U in s)s.hasOwnProperty(U)&&(o=s[U],o!==void 0&&Kc(e,n,U,o,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(o=s[v],o!=null&&Gt(e,n,v,o,s,null))}function Qv(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,v=null,b=null,C=null,U=null;for(L in s){var X=s[L];if(s.hasOwnProperty(L)&&X!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":b=X;default:o.hasOwnProperty(L)||Gt(e,n,L,null,o,X)}}for(var M in o){var L=o[M];if(X=s[M],o.hasOwnProperty(M)&&(L!=null||X!=null))switch(M){case"type":f=L;break;case"name":c=L;break;case"checked":C=L;break;case"defaultChecked":U=L;break;case"value":y=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:L!==X&&Gt(e,n,M,L,o,X)}}lu(e,y,v,b,C,U,f,c);return;case"select":L=y=v=M=null;for(f in s)if(b=s[f],s.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":L=b;default:o.hasOwnProperty(f)||Gt(e,n,f,null,o,b)}for(c in o)if(f=o[c],b=s[c],o.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":M=f;break;case"defaultValue":v=f;break;case"multiple":y=f;default:f!==b&&Gt(e,n,c,f,o,b)}n=v,s=y,o=L,M!=null?ls(e,!!s,M,!1):!!o!=!!s&&(n!=null?ls(e,!!s,n,!0):ls(e,!!s,s?[]:"",!1));return;case"textarea":L=M=null;for(v in s)if(c=s[v],s.hasOwnProperty(v)&&c!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Gt(e,n,v,null,o,c)}for(y in o)if(c=o[y],f=s[y],o.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":M=c;break;case"defaultValue":L=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Gt(e,n,y,c,o,f)}Wf(e,M,L);return;case"option":for(var ot in s)if(M=s[ot],s.hasOwnProperty(ot)&&M!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Gt(e,n,ot,null,o,M)}for(b in o)if(M=o[b],L=s[b],o.hasOwnProperty(b)&&M!==L&&(M!=null||L!=null))switch(b){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Gt(e,n,b,M,o,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in s)M=s[at],s.hasOwnProperty(at)&&M!=null&&!o.hasOwnProperty(at)&&Gt(e,n,at,null,o,M);for(C in o)if(M=o[C],L=s[C],o.hasOwnProperty(C)&&M!==L&&(M!=null||L!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(137,n));break;default:Gt(e,n,C,M,o,L)}return;default:if(ou(n)){for(var It in s)M=s[It],s.hasOwnProperty(It)&&M!==void 0&&!o.hasOwnProperty(It)&&Kc(e,n,It,void 0,o,M);for(U in o)M=o[U],L=s[U],!o.hasOwnProperty(U)||M===L||M===void 0&&L===void 0||Kc(e,n,U,M,o,L);return}}for(var w in s)M=s[w],s.hasOwnProperty(w)&&M!=null&&!o.hasOwnProperty(w)&&Gt(e,n,w,null,o,M);for(X in o)M=o[X],L=s[X],!o.hasOwnProperty(X)||M===L||M==null&&L==null||Gt(e,n,X,M,o,L)}var Pc=null,Fc=null;function Xr(e){return e.nodeType===9?e:e.ownerDocument}function Jm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function kc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qc=null;function Wv(){var e=window.event;return e&&e.type==="popstate"?e===Qc?!1:(Qc=e,!0):(Qc=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,$v=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,Jv=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(e){return n0.resolve(null).then(e).catch(t1)}:e0;function t1(e){setTimeout(function(){throw e})}function li(e){return e==="head"}function i0(e,n){var s=n,o=0,c=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<o&&8>o){s=o;var y=e.ownerDocument;if(s&1&&tl(y.documentElement),s&2&&tl(y.body),s&4)for(s=y.head,tl(s),y=s.firstChild;y;){var v=y.nextSibling,b=y.nodeName;y[ma]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=v}}if(c===0){e.removeChild(f),ol(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:o=s.charCodeAt(0)-48;else o=0;s=f}while(s);ol(n)}function Wc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wc(s),nu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function e1(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ma])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function n1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=rn(e.nextSibling),e===null))return null;return e}function $c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function i1(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function rn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Jc=null;function s0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function a0(e,n,s){switch(n=Xr(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);nu(e)}var Je=new Map,l0=new Set;function Yr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jn=P.d;P.d={f:s1,r:a1,D:l1,C:r1,L:o1,m:u1,X:h1,S:c1,M:f1};function s1(){var e=jn.f(),n=Lr();return e||n}function a1(e){var n=ns(e);n!==null&&n.tag===5&&n.type==="form"?wg(n):jn.r(e)}var js=typeof document>"u"?null:document;function r0(e,n,s){var o=js;if(o&&typeof n=="string"&&n){var c=Ke(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),l0.has(c)||(l0.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),fe(n,"link",e),se(n),o.head.appendChild(n)))}}function l1(e){jn.D(e),r0("dns-prefetch",e,null)}function r1(e,n){jn.C(e,n),r0("preconnect",e,n)}function o1(e,n,s){jn.L(e,n,s);var o=js;if(o&&e&&n){var c='link[rel="preload"][as="'+Ke(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Ke(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Ke(s.imageSizes)+'"]')):c+='[href="'+Ke(e)+'"]';var f=c;switch(n){case"style":f=Gs(e);break;case"script":f=Is(e)}Je.has(f)||(e=_({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Je.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(el(f))||n==="script"&&o.querySelector(nl(f))||(n=o.createElement("link"),fe(n,"link",e),se(n),o.head.appendChild(n)))}}function u1(e,n){jn.m(e,n);var s=js;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ke(o)+'"][href="'+Ke(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Is(e)}if(!Je.has(f)&&(e=_({rel:"modulepreload",href:e},n),Je.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(nl(f)))return}o=s.createElement("link"),fe(o,"link",e),se(o),s.head.appendChild(o)}}}function c1(e,n,s){jn.S(e,n,s);var o=js;if(o&&e){var c=is(o).hoistableStyles,f=Gs(e);n=n||"default";var y=c.get(f);if(!y){var v={loading:0,preload:null};if(y=o.querySelector(el(f)))v.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Je.get(f))&&th(e,s);var b=y=o.createElement("link");se(b),fe(b,"link",e),b._p=new Promise(function(C,U){b.onload=C,b.onerror=U}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Hr(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:v},c.set(f,y)}}}function h1(e,n){jn.X(e,n);var s=js;if(s&&e){var o=is(s).hoistableScripts,c=Is(e),f=o.get(c);f||(f=s.querySelector(nl(c)),f||(e=_({src:e,async:!0},n),(n=Je.get(c))&&eh(e,n),f=s.createElement("script"),se(f),fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function f1(e,n){jn.M(e,n);var s=js;if(s&&e){var o=is(s).hoistableScripts,c=Is(e),f=o.get(c);f||(f=s.querySelector(nl(c)),f||(e=_({src:e,async:!0,type:"module"},n),(n=Je.get(c))&&eh(e,n),f=s.createElement("script"),se(f),fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function o0(e,n,s,o){var c=(c=it.current)?Yr(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Gs(s.href),s=is(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Gs(s.href);var f=is(c).hoistableStyles,y=f.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=c.querySelector(el(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Je.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Je.set(e,s),f||d1(c,e,s,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Is(s),s=is(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Gs(e){return'href="'+Ke(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function u0(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function d1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),fe(n,"link",s),se(n),e.head.appendChild(n))}function Is(e){return'[src="'+Ke(e)+'"]'}function nl(e){return"script[async]"+e}function c0(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Ke(s.href)+'"]');if(o)return n.instance=o,se(o),o;var c=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),se(o),fe(o,"style",c),Hr(o,s.precedence,e),n.instance=o;case"stylesheet":c=Gs(s.href);var f=e.querySelector(el(c));if(f)return n.state.loading|=4,n.instance=f,se(f),f;o=u0(s),(c=Je.get(c))&&th(o,c),f=(e.ownerDocument||e).createElement("link"),se(f);var y=f;return y._p=new Promise(function(v,b){y.onload=v,y.onerror=b}),fe(f,"link",o),n.state.loading|=4,Hr(f,s.precedence,e),n.instance=f;case"script":return f=Is(s.src),(c=e.querySelector(nl(f)))?(n.instance=c,se(c),c):(o=s,(c=Je.get(f))&&(o=_({},s),eh(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),se(c),fe(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Hr(o,s.precedence,e));return n.instance}function Hr(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,y=0;y<o.length;y++){var v=o[y];if(v.dataset.precedence===n)f=v;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function th(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function eh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Br=null;function h0(e,n,s){if(Br===null){var o=new Map,c=Br=new Map;c.set(s,o)}else c=Br,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[ma]||f[me]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var v=o.get(y);v?v.push(f):o.set(y,[f])}}return o}function f0(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function g1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function d0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var il=null;function m1(){}function _1(e,n,s){if(il===null)throw Error(a(475));var o=il;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Gs(s.href),f=e.querySelector(el(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Vr.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,se(f);return}f=e.ownerDocument||e,s=u0(s),(c=Je.get(c))&&th(s,c),f=f.createElement("link"),se(f);var y=f;y._p=new Promise(function(v,b){y.onload=v,y.onerror=b}),fe(f,"link",s),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Vr.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function y1(){if(il===null)throw Error(a(475));var e=il;return e.stylesheets&&e.count===0&&nh(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&nh(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Vr(){if(this.count--,this.count===0){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zr=null;function nh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zr=new Map,n.forEach(p1,e),Zr=null,Vr.call(e))}function p1(e,n){if(!(n.state.loading&4)){var s=Zr.get(e);if(s)var o=s.get(null);else{s=new Map,Zr.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||o,f===o&&s.set(null,c),s.set(y,c),this.count++,o=Vr.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var sl={$$typeof:q,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function v1(e,n,s,o,c,f,y,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$o(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.hiddenUpdates=$o(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function g0(e,n,s,o,c,f,y,v,b,C,U,X){return e=new v1(e,n,s,y,v,b,C,X),n=1,f===!0&&(n|=24),f=Ge(3,null,null,n),e.current=f,f.stateNode=e,n=Gu(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Hu(f),e}function m0(e){return e?(e=ms,e):ms}function _0(e,n,s,o,c,f){c=m0(c),o.context===null?o.context=c:o.pendingContext=c,o=Pn(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Fn(e,o,n),s!==null&&(Be(s,e,n),za(s,e,n))}function y0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function ih(e,n){y0(e,n),(e=e.alternate)&&y0(e,n)}function p0(e){if(e.tag===13){var n=gs(e,67108864);n!==null&&Be(n,e,67108864),ih(e,67108864)}}var qr=!0;function E1(e,n,s,o){var c=N.T;N.T=null;var f=P.p;try{P.p=2,sh(e,n,s,o)}finally{P.p=f,N.T=c}}function b1(e,n,s,o){var c=N.T;N.T=null;var f=P.p;try{P.p=8,sh(e,n,s,o)}finally{P.p=f,N.T=c}}function sh(e,n,s,o){if(qr){var c=ah(o);if(c===null)qc(e,n,o,Kr,s),E0(e,o);else if(T1(c,e,n,s,o))o.stopPropagation();else if(E0(e,o),n&4&&-1<S1.indexOf(e)){for(;c!==null;){var f=ns(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=bi(f.pendingLanes);if(y!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var b=1<<31-Ue(y);v.entanglements[1]|=b,y&=~b}yn(f),(Dt&6)===0&&(Mr=ve()+500,Wa(0))}}break;case 13:v=gs(f,2),v!==null&&Be(v,f,2),Lr(),ih(f,2)}if(f=ah(o),f===null&&qc(e,n,o,Kr,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else qc(e,n,o,null,s)}}function ah(e){return e=cu(e),lh(e)}var Kr=null;function lh(e){if(Kr=null,e=es(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Kr=e,null}function v0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($i()){case ha:return 2;case Ji:return 8;case bn:case Wo:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var rh=!1,ri=null,oi=null,ui=null,al=new Map,ll=new Map,ci=[],S1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E0(e,n){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function rl(e,n,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ns(n),n!==null&&p0(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function T1(e,n,s,o,c){switch(n){case"focusin":return ri=rl(ri,e,n,s,o,c),!0;case"dragenter":return oi=rl(oi,e,n,s,o,c),!0;case"mouseover":return ui=rl(ui,e,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return al.set(f,rl(al.get(f)||null,e,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ll.set(f,rl(ll.get(f)||null,e,n,s,o,c)),!0}return!1}function b0(e){var n=es(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,_p(e.priority,function(){if(s.tag===13){var o=He();o=Jo(o);var c=gs(s,o);c!==null&&Be(c,s,o),ih(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ah(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);uu=o,s.target.dispatchEvent(o),uu=null}else return n=ns(s),n!==null&&p0(n),e.blockedOn=s,!1;n.shift()}return!0}function S0(e,n,s){Pr(e)&&s.delete(n)}function R1(){rh=!1,ri!==null&&Pr(ri)&&(ri=null),oi!==null&&Pr(oi)&&(oi=null),ui!==null&&Pr(ui)&&(ui=null),al.forEach(S0),ll.forEach(S0)}function Fr(e,n){e.blockedOn===n&&(e.blockedOn=null,rh||(rh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,R1)))}var kr=null;function T0(e){kr!==e&&(kr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){kr===e&&(kr=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(lh(o||s)===null)continue;break}var f=ns(s);f!==null&&(e.splice(n,3),n-=3,lc(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function ol(e){function n(b){return Fr(b,e)}ri!==null&&Fr(ri,e),oi!==null&&Fr(oi,e),ui!==null&&Fr(ui,e),al.forEach(n),ll.forEach(n);for(var s=0;s<ci.length;s++){var o=ci[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ci.length&&(s=ci[0],s.blockedOn===null);)b0(s),s.blockedOn===null&&ci.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],y=c[xe]||null;if(typeof f=="function")y||T0(s);else if(y){var v=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[xe]||null)v=y.formAction;else if(lh(c)!==null)continue}else v=y.action;typeof v=="function"?s[o+1]=v:(s.splice(o,3),o-=3),T0(s)}}}function oh(e){this._internalRoot=e}Qr.prototype.render=oh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=He();_0(s,o,e,n,null,null)},Qr.prototype.unmount=oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;_0(e.current,2,null,e,null,null),Lr(),n[ts]=null}};function Qr(e){this._internalRoot=e}Qr.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yf();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ci.length&&n!==0&&n<ci[s].priority;s++);ci.splice(s,0,e),s===0&&b0(e)}};var R0=t.version;if(R0!=="19.1.0")throw Error(a(527,R0,"19.1.0"));P.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var x1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wr.isDisabled&&Wr.supportsFiber)try{fa=Wr.inject(x1),ze=Wr}catch{}}return cl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var s=!1,o="",c=Yg,f=Hg,y=Bg,v=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks)),n=g0(e,1,!1,null,null,s,o,c,f,y,v,null),e[ts]=n.current,Zc(e),new oh(n)},cl.hydrateRoot=function(e,n,s){if(!r(e))throw Error(a(299));var o=!1,c="",f=Yg,y=Hg,v=Bg,b=null,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks),s.formState!==void 0&&(C=s.formState)),n=g0(e,1,!0,n,s??null,o,c,f,y,v,b,C),n.context=m0(null),s=n.current,o=He(),o=Jo(o),c=Pn(o),c.callback=null,Fn(s,c,o),s=o,n.current.lanes=s,ga(n,s),yn(n),e[ts]=n.current,Zc(e),new Qr(n)},cl.version="19.1.0",cl}var j0;function I1(){if(j0)return hh.exports;j0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),hh.exports=G1(),hh.exports}var X1=I1();const en={ADD:"add",REMOVE:"remove"},Tl={PROPERTYCHANGE:"propertychange"},dt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class wo{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Ao(l,t){return l>t?1:l<t?-1:0}function af(l,t,i){if(l[0]<=t)return 0;const a=l.length;if(t<=l[a-1])return a-1;if(typeof i=="function"){for(let r=1;r<a;++r){const u=l[r];if(u===t)return r;if(u<t)return i(t,l[r-1],u)>0?r-1:r}return a-1}if(i>0){for(let r=1;r<a;++r)if(l[r]<t)return r-1;return a-1}if(i<0){for(let r=1;r<a;++r)if(l[r]<=t)return r;return a-1}for(let r=1;r<a;++r){if(l[r]==t)return r;if(l[r]<t)return l[r-1]-t<t-l[r]?r-1:r}return a-1}function Y1(l,t){const i=Array.isArray(t)?t:[t],a=i.length;for(let r=0;r<a;r++)l[l.length]=i[r]}function Co(l,t){const i=l.length;if(i!==t.length)return!1;for(let a=0;a<i;a++)if(l[a]!==t[a])return!1;return!0}function H1(l,t,i){const a=t||Ao;return l.every(function(r,u){if(u===0)return!0;const h=a(l[u-1],r);return!(h>0||h===0)})}function ho(){return!0}function Mo(){return!1}function fo(){}function B1(l){let t,i,a;return function(){const r=Array.prototype.slice.call(arguments);return(!i||this!==a||!Co(r,i))&&(a=this,i=r,t=l.apply(this,arguments)),t}}function V1(l){function t(){let i;try{i=l()}catch(a){return Promise.reject(a)}return i instanceof Promise?i:Promise.resolve(i)}return t()}function Oo(l){for(const t in l)delete l[t]}function P_(l){let t;for(t in l)return!1;return!t}class pi{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Lo extends wo{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,i){if(!t||!i)return;const a=this.listeners_||(this.listeners_={}),r=a[t]||(a[t]=[]);r.includes(i)||r.push(i)}dispatchEvent(t){const i=typeof t=="string",a=i?t:t.type,r=this.listeners_&&this.listeners_[a];if(!r)return;const u=i?new pi(t):t;u.target||(u.target=this.eventTarget_||this);const h=this.dispatching_||(this.dispatching_={}),d=this.pendingRemovals_||(this.pendingRemovals_={});a in h||(h[a]=0,d[a]=0),++h[a];let g;for(let m=0,_=r.length;m<_;++m)if("handleEvent"in r[m]?g=r[m].handleEvent(u):g=r[m].call(this,u),g===!1||u.propagationStopped){g=!1;break}if(--h[a]===0){let m=d[a];for(delete d[a];m--;)this.removeEventListener(a,fo);delete h[a]}return g}disposeInternal(){this.listeners_&&Oo(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,i){if(!this.listeners_)return;const a=this.listeners_[t];if(!a)return;const r=a.indexOf(i);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(a[r]=fo,++this.pendingRemovals_[t]):(a.splice(r,1),a.length===0&&delete this.listeners_[t]))}}function Ct(l,t,i,a,r){if(r){const h=i;i=function(d){return l.removeEventListener(t,i),h.call(a??this,d)}}else a&&a!==l&&(i=i.bind(a));const u={target:l,type:t,listener:i};return l.addEventListener(t,i),u}function go(l,t,i,a){return Ct(l,t,i,a,!0)}function kt(l){l&&l.target&&(l.target.removeEventListener(l.type,l.listener),Oo(l))}class Ll extends Lo{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(dt.CHANGE)}getRevision(){return this.revision_}onInternal(t,i){if(Array.isArray(t)){const a=t.length,r=new Array(a);for(let u=0;u<a;++u)r[u]=Ct(this,t[u],i);return r}return Ct(this,t,i)}onceInternal(t,i){let a;if(Array.isArray(t)){const r=t.length;a=new Array(r);for(let u=0;u<r;++u)a[u]=go(this,t[u],i)}else a=go(this,t,i);return i.ol_key=a,a}unInternal(t,i){const a=i.ol_key;if(a)Z1(a);else if(Array.isArray(t))for(let r=0,u=t.length;r<u;++r)this.removeEventListener(t[r],i);else this.removeEventListener(t,i)}}Ll.prototype.on;Ll.prototype.once;Ll.prototype.un;function Z1(l){if(Array.isArray(l))for(let t=0,i=l.length;t<i;++t)kt(l[t]);else kt(l)}function At(){throw new Error("Unimplemented abstract method.")}let q1=0;function pe(l){return l.ol_uid||(l.ol_uid=String(++q1))}class G0 extends pi{constructor(t,i,a){super(t),this.key=i,this.oldValue=a}}class Yn extends Ll{constructor(t){super(),this.on,this.once,this.un,pe(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let i;return this.values_&&this.values_.hasOwnProperty(t)&&(i=this.values_[t]),i}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,i){let a;a=`change:${t}`,this.hasListener(a)&&this.dispatchEvent(new G0(a,t,i)),a=Tl.PROPERTYCHANGE,this.hasListener(a)&&this.dispatchEvent(new G0(a,t,i))}addChangeListener(t,i){this.addEventListener(`change:${t}`,i)}removeChangeListener(t,i){this.removeEventListener(`change:${t}`,i)}set(t,i,a){const r=this.values_||(this.values_={});if(a)r[t]=i;else{const u=r[t];r[t]=i,u!==i&&this.notify(t,u)}}setProperties(t,i){for(const a in t)this.set(a,t[a],i)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,i){if(this.values_&&t in this.values_){const a=this.values_[t];delete this.values_[t],P_(this.values_)&&(this.values_=null),i||this.notify(t,a)}}}const I0={LENGTH:"length"};class $r extends pi{constructor(t,i,a){super(t),this.element=i,this.index=a}}class Xn extends Yn{constructor(t,i){if(super(),this.on,this.once,this.un,i=i||{},this.unique_=!!i.unique,this.array_=t||[],this.unique_)for(let a=0,r=this.array_.length;a<r;++a)this.assertUnique_(this.array_[a],a);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let i=0,a=t.length;i<a;++i)this.push(t[i]);return this}forEach(t){const i=this.array_;for(let a=0,r=i.length;a<r;++a)t(i[a],a,i)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(I0.LENGTH)}insertAt(t,i){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(i),this.array_.splice(t,0,i),this.updateLength_(),this.dispatchEvent(new $r(en.ADD,i,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const i=this.getLength();return this.insertAt(i,t),this.getLength()}remove(t){const i=this.array_;for(let a=0,r=i.length;a<r;++a)if(i[a]===t)return this.removeAt(a)}removeAt(t){if(t<0||t>=this.getLength())return;const i=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new $r(en.REMOVE,i,t)),i}setAt(t,i){const a=this.getLength();if(t>=a){this.insertAt(t,i);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(i,t);const r=this.array_[t];this.array_[t]=i,this.dispatchEvent(new $r(en.REMOVE,r,t)),this.dispatchEvent(new $r(en.ADD,i,t))}updateLength_(){this.set(I0.LENGTH,this.array_.length)}assertUnique_(t,i){for(let a=0,r=this.array_.length;a<r;++a)if(this.array_[a]===t&&a!==i)throw new Error("Duplicate item added to a unique collection")}}class Ks extends pi{constructor(t,i,a){super(t),this.map=i,this.frameState=a!==void 0?a:null}}class gi extends Ks{constructor(t,i,a,r,u,h){super(t,i,u),this.originalEvent=a,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=h}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Ft={SINGLECLICK:"singleclick",CLICK:dt.CLICK,DBLCLICK:dt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Pi=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",K1=Pi.includes("safari")&&!Pi.includes("chrom");K1&&(Pi.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Pi));const P1=Pi.includes("webkit")&&!Pi.includes("edge"),F_=Pi.includes("macintosh"),F1=typeof devicePixelRatio<"u"?devicePixelRatio:1,k1=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,k_=typeof Image<"u"&&Image.prototype.decode,Q_=function(){let l=!1;try{const t=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return l}(),Rl={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTEROUT:"pointerout"};class Q1 extends Lo{constructor(t,i){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i===void 0?1:i,this.down_=null;const a=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=a,this.pointerdownListenerKey_=Ct(a,Rl.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Ct(a,Rl.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(dt.TOUCHMOVE,this.boundHandleTouchMove_,Q_?{passive:!1}:!1)}emulateClick_(t){let i=new gi(Ft.CLICK,this.map_,t);this.dispatchEvent(i),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,i=new gi(Ft.DBLCLICK,this.map_,t),this.dispatchEvent(i)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const a=new gi(Ft.SINGLECLICK,this.map_,t);this.dispatchEvent(a)},250)}updateActivePointers_(t){const i=t,a=i.pointerId;if(i.type==Ft.POINTERUP||i.type==Ft.POINTERCANCEL){delete this.trackedTouches_[a];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==i.target){delete this.trackedTouches_[r];break}}else(i.type==Ft.POINTERDOWN||i.type==Ft.POINTERMOVE)&&(this.trackedTouches_[a]=i);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const i=new gi(Ft.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(i),this.emulateClicks_&&!i.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(kt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const i=new gi(Ft.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(i),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ct(a,Ft.POINTERMOVE,this.handlePointerMove_,this),Ct(a,Ft.POINTERUP,this.handlePointerUp_,this),Ct(this.element_,Ft.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(Ct(this.element_.getRootNode(),Ft.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const i=new gi(Ft.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(i)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const i=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new gi(Ft.POINTERMOVE,this.map_,t,i))}handleTouchMove_(t){const i=this.originalPointerMoveEvent_;(!i||i.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(kt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(dt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(kt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(kt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const mi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},oe={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},st={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Ht(l,t){if(!l)throw new Error(t)}const mo=1/0;class W1{constructor(t,i){this.priorityFunction_=t,this.keyFunction_=i,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Oo(this.queuedElements_)}dequeue(){const t=this.elements_,i=this.priorities_,a=t[0];t.length==1?(t.length=0,i.length=0):(t[0]=t.pop(),i[0]=i.pop(),this.siftUp_(0));const r=this.keyFunction_(a);return delete this.queuedElements_[r],a}enqueue(t){Ht(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const i=this.priorityFunction_(t);return i!=mo?(this.elements_.push(t),this.priorities_.push(i),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const i=this.elements_,a=this.priorities_,r=i.length,u=i[t],h=a[t],d=t;for(;t<r>>1;){const g=this.getLeftChildIndex_(t),m=this.getRightChildIndex_(t),_=m<r&&a[m]<a[g]?m:g;i[t]=i[_],a[t]=a[_],t=_}i[t]=u,a[t]=h,this.siftDown_(d,t)}siftDown_(t,i){const a=this.elements_,r=this.priorities_,u=a[i],h=r[i];for(;i>t;){const d=this.getParentIndex_(i);if(r[d]>h)a[i]=a[d],r[i]=r[d],i=d;else break}a[i]=u,r[i]=h}reprioritize(){const t=this.priorityFunction_,i=this.elements_,a=this.priorities_;let r=0;const u=i.length;let h,d,g;for(d=0;d<u;++d)h=i[d],g=t(h),g==mo?delete this.queuedElements_[this.keyFunction_(h)]:(a[r]=g,i[r++]=h);i.length=r,a.length=r,this.heapify_()}}class $1 extends W1{constructor(t,i){super(a=>t.apply(null,a),a=>a[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const i=super.enqueue(t);return i&&t[0].addEventListener(dt.CHANGE,this.boundHandleTileChange_),i}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const i=t.target,a=i.getState();if(a===st.LOADED||a===st.ERROR||a===st.EMPTY){a!==st.ERROR&&i.removeEventListener(dt.CHANGE,this.boundHandleTileChange_);const r=i.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,i){let a=0;for(;this.tilesLoading_<t&&a<i&&this.getCount()>0;){const r=this.dequeue()[0],u=r.getKey();r.getState()===st.IDLE&&!(u in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[u]=!0,++this.tilesLoading_,++a,r.load())}}}function J1(l,t,i,a,r){if(!l||!(i in l.wantedTiles)||!l.wantedTiles[i][t.getKey()])return mo;const u=l.viewState.center,h=a[0]-u[0],d=a[1]-u[1];return 65536*Math.log(r)+Math.sqrt(h*h+d*d)/r}const tn={ANIMATING:0,INTERACTING:1},on={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function $t(l,t,i){return Math.min(Math.max(l,t),i)}function tE(l,t,i,a,r,u){const h=r-i,d=u-a;if(h!==0||d!==0){const g=((l-i)*h+(t-a)*d)/(h*h+d*d);g>1?(i=r,a=u):g>0&&(i+=h*g,a+=d*g)}return Qs(l,t,i,a)}function Qs(l,t,i,a){const r=i-l,u=a-t;return r*r+u*u}function eE(l){const t=l.length;for(let a=0;a<t;a++){let r=a,u=Math.abs(l[a][a]);for(let d=a+1;d<t;d++){const g=Math.abs(l[d][a]);g>u&&(u=g,r=d)}if(u===0)return null;const h=l[r];l[r]=l[a],l[a]=h;for(let d=a+1;d<t;d++){const g=-l[d][a]/l[a][a];for(let m=a;m<t+1;m++)a==m?l[d][m]=0:l[d][m]+=g*l[a][m]}}const i=new Array(t);for(let a=t-1;a>=0;a--){i[a]=l[a][t]/l[a][a];for(let r=a-1;r>=0;r--)l[r][t]-=l[r][a]*i[a]}return i}function X0(l){return l*180/Math.PI}function yi(l){return l*Math.PI/180}function Zi(l,t){const i=l%t;return i*t<0?i+t:i}function nE(l,t,i){return l+i*(t-l)}function Do(l,t){const i=Math.pow(10,t);return Math.round(l*i)/i}function Y0(l,t){return Math.round(Do(l,t))}function Jr(l,t){return Math.floor(Do(l,t))}function to(l,t){return Math.ceil(Do(l,t))}function Hh(l,t,i){if(l>=t&&l<i)return l;const a=i-t;return((l-t)%a+a)%a+t}function H0(l,t,i){return function(a,r,u,h,d){if(!a)return;if(!r&&!t)return a;const g=t?0:u[0]*r,m=t?0:u[1]*r,_=d?d[0]:0,p=d?d[1]:0;let E=l[0]+g/2+_,R=l[2]-g/2+_,x=l[1]+m/2+p,D=l[3]-m/2+p;E>R&&(E=(R+E)/2,R=E),x>D&&(x=(D+x)/2,D=x);let O=$t(a[0],E,R),I=$t(a[1],x,D);if(h&&i&&r){const B=30*r;O+=-B*Math.log(1+Math.max(0,E-a[0])/B)+B*Math.log(1+Math.max(0,a[0]-R)/B),I+=-B*Math.log(1+Math.max(0,x-a[1])/B)+B*Math.log(1+Math.max(0,a[1]-D)/B)}return[O,I]}}function iE(l){return l}const de={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function B0(l){const t=vi();for(let i=0,a=l.length;i<a;++i)co(t,l[i]);return t}function V0(l,t,i){return i?(i[0]=l[0]-t,i[1]=l[1]-t,i[2]=l[2]+t,i[3]=l[3]+t,i):[l[0]-t,l[1]-t,l[2]+t,l[3]+t]}function sE(l,t){return t?(t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t):l.slice()}function W_(l,t,i){let a,r;return t<l[0]?a=l[0]-t:l[2]<t?a=t-l[2]:a=0,i<l[1]?r=l[1]-i:l[3]<i?r=i-l[3]:r=0,a*a+r*r}function lf(l,t){return $_(l,t[0],t[1])}function $_(l,t,i){return l[0]<=t&&t<=l[2]&&l[1]<=i&&i<=l[3]}function Z0(l,t){const i=l[0],a=l[1],r=l[2],u=l[3],h=t[0],d=t[1];let g=de.UNKNOWN;return h<i?g=g|de.LEFT:h>r&&(g=g|de.RIGHT),d<a?g=g|de.BELOW:d>u&&(g=g|de.ABOVE),g===de.UNKNOWN&&(g=de.INTERSECTING),g}function vi(){return[1/0,1/0,-1/0,-1/0]}function Dl(l,t,i,a,r){return r?(r[0]=l,r[1]=t,r[2]=i,r[3]=a,r):[l,t,i,a]}function No(l){return Dl(1/0,1/0,-1/0,-1/0,l)}function aE(l,t){const i=l[0],a=l[1];return Dl(i,a,i,a,t)}function lE(l,t,i,a,r){const u=No(r);return J_(u,l,t,i,a)}function Bh(l,t){return l[0]==t[0]&&l[2]==t[2]&&l[1]==t[1]&&l[3]==t[3]}function rE(l,t){return t[0]<l[0]&&(l[0]=t[0]),t[2]>l[2]&&(l[2]=t[2]),t[1]<l[1]&&(l[1]=t[1]),t[3]>l[3]&&(l[3]=t[3]),l}function co(l,t){t[0]<l[0]&&(l[0]=t[0]),t[0]>l[2]&&(l[2]=t[0]),t[1]<l[1]&&(l[1]=t[1]),t[1]>l[3]&&(l[3]=t[1])}function J_(l,t,i,a,r){for(;i<a;i+=r)oE(l,t[i],t[i+1]);return l}function oE(l,t,i){l[0]=Math.min(l[0],t),l[1]=Math.min(l[1],i),l[2]=Math.max(l[2],t),l[3]=Math.max(l[3],i)}function ty(l,t){let i;return i=t(zo(l)),i||(i=t(Uo(l)),i)||(i=t(jo(l)),i)||(i=t(ki(l)),i)?i:!1}function Vh(l){let t=0;return Go(l)||(t=Bt(l)*Ze(l)),t}function zo(l){return[l[0],l[1]]}function Uo(l){return[l[2],l[1]]}function ea(l){return[(l[0]+l[2])/2,(l[1]+l[3])/2]}function uE(l,t){let i;if(t==="bottom-left")i=zo(l);else if(t==="bottom-right")i=Uo(l);else if(t==="top-left")i=ki(l);else if(t==="top-right")i=jo(l);else throw new Error("Invalid corner");return i}function Zh(l,t,i,a,r){const[u,h,d,g,m,_,p,E]=ey(l,t,i,a);return Dl(Math.min(u,d,m,p),Math.min(h,g,_,E),Math.max(u,d,m,p),Math.max(h,g,_,E),r)}function ey(l,t,i,a){const r=t*a[0]/2,u=t*a[1]/2,h=Math.cos(i),d=Math.sin(i),g=r*h,m=r*d,_=u*h,p=u*d,E=l[0],R=l[1];return[E-g+p,R-m-_,E-g-p,R-m+_,E+g-p,R+m+_,E+g+p,R+m-_,E-g+p,R-m-_]}function Ze(l){return l[3]-l[1]}function qi(l,t,i){const a=i||vi();return Nl(l,t)?(l[0]>t[0]?a[0]=l[0]:a[0]=t[0],l[1]>t[1]?a[1]=l[1]:a[1]=t[1],l[2]<t[2]?a[2]=l[2]:a[2]=t[2],l[3]<t[3]?a[3]=l[3]:a[3]=t[3]):No(a),a}function ki(l){return[l[0],l[3]]}function jo(l){return[l[2],l[3]]}function Bt(l){return l[2]-l[0]}function Nl(l,t){return l[0]<=t[2]&&l[2]>=t[0]&&l[1]<=t[3]&&l[3]>=t[1]}function Go(l){return l[2]<l[0]||l[3]<l[1]}function cE(l,t){return t?(t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t):l}function hE(l,t,i){let a=!1;const r=Z0(l,t),u=Z0(l,i);if(r===de.INTERSECTING||u===de.INTERSECTING)a=!0;else{const h=l[0],d=l[1],g=l[2],m=l[3],_=t[0],p=t[1],E=i[0],R=i[1],x=(R-p)/(E-_);let D,O;u&de.ABOVE&&!(r&de.ABOVE)&&(D=E-(R-m)/x,a=D>=h&&D<=g),!a&&u&de.RIGHT&&!(r&de.RIGHT)&&(O=R-(E-g)*x,a=O>=d&&O<=m),!a&&u&de.BELOW&&!(r&de.BELOW)&&(D=E-(R-d)/x,a=D>=h&&D<=g),!a&&u&de.LEFT&&!(r&de.LEFT)&&(O=R-(E-h)*x,a=O>=d&&O<=m)}return a}function fE(l,t){const i=t.getExtent(),a=ea(l);if(t.canWrapX()&&(a[0]<i[0]||a[0]>=i[2])){const r=Bt(i),h=Math.floor((a[0]-i[0])/r)*r;l[0]-=h,l[2]-=h}return l}function dE(l,t,i){if(t.canWrapX()){const a=t.getExtent();if(!isFinite(l[0])||!isFinite(l[2]))return[[a[0],l[1],a[2],l[3]]];fE(l,t);const r=Bt(a);if(Bt(l)>r,l[0]<a[0])return[[l[0]+r,l[1],a[2],l[3]],[a[0],l[1],l[2],l[3]]];if(l[2]>a[2])return[[l[0],l[1],a[2],l[3]],[a[0],l[1],l[2]-r,l[3]]]}return[l]}function ny(l,t){const i=(""+l).split("."),a=(""+t).split(".");for(let r=0;r<Math.max(i.length,a.length);r++){const u=parseInt(i[r]||"0",10),h=parseInt(a[r]||"0",10);if(u>h)return 1;if(h>u)return-1}return 0}function gE(l,t){return l[0]+=+t[0],l[1]+=+t[1],l}function mE(l){return function(t){return pE(t,l)}}function _E(l,t,i){return l?t.replace("{x}",l[0].toFixed(i)).replace("{y}",l[1].toFixed(i)):""}function _o(l,t){let i=!0;for(let a=l.length-1;a>=0;--a)if(l[a]!=t[a]){i=!1;break}return i}function rf(l,t){const i=Math.cos(t),a=Math.sin(t),r=l[0]*i-l[1]*a,u=l[1]*i+l[0]*a;return l[0]=r,l[1]=u,l}function yE(l,t){return l[0]*=t,l[1]*=t,l}function pE(l,t){return _E(l,"{x}, {y}",t)}function iy(l,t){if(t.canWrapX()){const i=Bt(t.getExtent()),a=vE(l,t,i);a&&(l[0]-=a*i)}return l}function vE(l,t,i){const a=t.getExtent();let r=0;return t.canWrapX()&&(l[0]<a[0]||l[0]>a[2])&&(i=i||Bt(a),r=Math.floor((l[0]-a[0])/i)),r}function sy(l){return Math.pow(l,3)}function aa(l){return 1-sy(1-l)}function EE(l){return 3*l*l-2*l*l*l}function bE(l){return l}const SE=63710088e-1;function q0(l,t,i){i=i||SE;const a=yi(l[1]),r=yi(t[1]),u=(r-a)/2,h=yi(t[0]-l[0])/2,d=Math.sin(u)*Math.sin(u)+Math.sin(h)*Math.sin(h)*Math.cos(a)*Math.cos(r);return 2*i*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))}function ay(...l){console.warn(...l)}const na={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class of{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||na[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const zl=6378137,ks=Math.PI*zl,TE=[-ks,-ks,ks,ks],RE=[-180,-85,180,85],eo=zl*Math.log(Math.tan(Math.PI/2));class Xs extends of{constructor(t){super({code:t,units:"m",extent:TE,global:!0,worldExtent:RE,getPointResolution:function(i,a){return i/Math.cosh(a[1]/zl)}})}}const K0=[new Xs("EPSG:3857"),new Xs("EPSG:102100"),new Xs("EPSG:102113"),new Xs("EPSG:900913"),new Xs("http://www.opengis.net/def/crs/EPSG/0/3857"),new Xs("http://www.opengis.net/gml/srs/epsg.xml#3857")];function xE(l,t,i,a){const r=l.length;i=i>1?i:2,a=a??i,t===void 0&&(i>2?t=l.slice():t=new Array(r));for(let u=0;u<r;u+=a){t[u]=ks*l[u]/180;let h=zl*Math.log(Math.tan(Math.PI*(+l[u+1]+90)/360));h>eo?h=eo:h<-eo&&(h=-eo),t[u+1]=h}return t}function wE(l,t,i,a){const r=l.length;i=i>1?i:2,a=a??i,t===void 0&&(i>2?t=l.slice():t=new Array(r));for(let u=0;u<r;u+=a)t[u]=180*l[u]/ks,t[u+1]=360*Math.atan(Math.exp(l[u+1]/zl))/Math.PI-90;return t}const AE=6378137,P0=[-180,-90,180,90],CE=Math.PI*AE/180;class Xi extends of{constructor(t,i){super({code:t,units:"degrees",extent:P0,axisOrientation:i,global:!0,metersPerUnit:CE,worldExtent:P0})}}const F0=[new Xi("CRS:84"),new Xi("EPSG:4326","neu"),new Xi("urn:ogc:def:crs:OGC:1.3:CRS84"),new Xi("urn:ogc:def:crs:OGC:2:84"),new Xi("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Xi("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Xi("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let qh={};function ME(l){return qh[l]||qh[l.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function OE(l,t){qh[l]=t}let Ws={};function xl(l,t,i){const a=l.getCode(),r=t.getCode();a in Ws||(Ws[a]={}),Ws[a][r]=i}function mh(l,t){return l in Ws&&t in Ws[l]?Ws[l][t]:null}const yo=.9996,sn=.00669438,Io=sn*sn,Xo=Io*sn,Hi=sn/(1-sn),k0=Math.sqrt(1-sn),ia=(1-k0)/(1+k0),ly=ia*ia,uf=ly*ia,cf=uf*ia,ry=cf*ia,oy=1-sn/4-3*Io/64-5*Xo/256,LE=3*sn/8+3*Io/32+45*Xo/1024,DE=15*Io/256+45*Xo/1024,NE=35*Xo/3072,zE=3/2*ia-27/32*uf+269/512*ry,UE=21/16*ly-55/32*cf,jE=151/96*uf-417/128*ry,GE=1097/512*cf,po=6378137;function IE(l,t,i){const a=l-5e5,h=(i.north?t:t-1e7)/yo/(po*oy),d=h+zE*Math.sin(2*h)+UE*Math.sin(4*h)+jE*Math.sin(6*h)+GE*Math.sin(8*h),g=Math.sin(d),m=g*g,_=Math.cos(d),p=g/_,E=p*p,R=E*E,x=1-sn*m,D=Math.sqrt(1-sn*m),O=po/D,I=(1-sn)/x,B=Hi*_**2,q=B*B,V=a/(O*yo),z=V*V,J=z*V,tt=J*V,Z=tt*V,W=Z*V,nt=d-p/I*(z/2-tt/24*(5+3*E+10*B-4*q-9*Hi))+W/720*(61+90*E+298*B+45*R-252*Hi-3*q);let Mt=(V-J/6*(1+2*E+B)+Z/120*(5-2*B+28*E-3*q+8*Hi+24*R))/_;return Mt=Hh(Mt+yi(uy(i.number)),-Math.PI,Math.PI),[X0(Mt),X0(nt)]}const Q0=-80,W0=84,XE=-180,YE=180;function HE(l,t,i){l=Hh(l,XE,YE),t<Q0?t=Q0:t>W0&&(t=W0);const a=yi(t),r=Math.sin(a),u=Math.cos(a),h=r/u,d=h*h,g=d*d,m=yi(l),_=uy(i.number),p=yi(_),E=po/Math.sqrt(1-sn*r**2),R=Hi*u**2,x=u*Hh(m-p,-Math.PI,Math.PI),D=x*x,O=D*x,I=O*x,B=I*x,q=B*x,V=po*(oy*a-LE*Math.sin(2*a)+DE*Math.sin(4*a)-NE*Math.sin(6*a)),z=yo*E*(x+O/6*(1-d+R)+B/120*(5-18*d+g+72*R-58*Hi))+5e5;let J=yo*(V+E*h*(D/2+I/24*(5-d+9*R+4*R**2)+q/720*(61-58*d+g+600*R-330*Hi)));return i.north||(J+=1e7),[z,J]}function uy(l){return(l-1)*6-180+3}const BE=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function cy(l){let t=0;for(const r of BE){const u=l.match(r);if(u){t=parseInt(u[1]);break}}if(!t)return null;let i=0,a=!1;return t>32700&&t<32761?i=t-32700:t>32600&&t<32661&&(a=!0,i=t-32600),i?{number:i,north:a}:null}function $0(l,t){return function(i,a,r,u){const h=i.length;r=r>1?r:2,u=u??r,a||(r>2?a=i.slice():a=new Array(h));for(let d=0;d<h;d+=u){const g=i[d],m=i[d+1],_=l(g,m,t);a[d]=_[0],a[d+1]=_[1]}return a}}function VE(l){return cy(l)?new of({code:l,units:"m"}):null}function ZE(l){const t=cy(l.getCode());return t?{forward:$0(HE,t),inverse:$0(IE,t)}:null}const qE=[ZE],KE=[VE];let Kh=!0;function hy(l){Kh=!1}function hf(l,t){if(t!==void 0){for(let i=0,a=l.length;i<a;++i)t[i]=l[i];t=t}else t=l.slice();return t}function PE(l,t){if(t!==void 0&&l!==t){for(let i=0,a=l.length;i<a;++i)t[i]=l[i];l=t}return l}function Ph(l){OE(l.getCode(),l),xl(l,l,hf)}function FE(l){l.forEach(Ph)}function Te(l){if(typeof l!="string")return l;const t=ME(l);if(t)return t;for(const i of KE){const a=i(l);if(a)return a}return null}function vo(l,t,i,a){l=Te(l);let r;const u=l.getPointResolutionFunc();if(u){if(r=u(t,i),a&&a!==l.getUnits()){const h=l.getMetersPerUnit();h&&(r=r*h/na[a])}}else{const h=l.getUnits();if(h=="degrees"&&!a||a=="degrees")r=t;else{const d=Yo(l,Te("EPSG:4326"));if(!d&&h!=="degrees")r=t*l.getMetersPerUnit();else{let m=[i[0]-t/2,i[1],i[0]+t/2,i[1],i[0],i[1]-t/2,i[0],i[1]+t/2];m=d(m,m,2);const _=q0(m.slice(0,2),m.slice(2,4)),p=q0(m.slice(4,6),m.slice(6,8));r=(_+p)/2}const g=a?na[a]:l.getMetersPerUnit();g!==void 0&&(r/=g)}}return r}function J0(l){FE(l),l.forEach(function(t){l.forEach(function(i){t!==i&&xl(t,i,hf)})})}function kE(l,t,i,a){l.forEach(function(r){t.forEach(function(u){xl(r,u,i),xl(u,r,a)})})}function ff(l,t){return l?typeof l=="string"?Te(l):l:Te(t)}function QE(l){return function(t,i,a,r){const u=t.length;a=a!==void 0?a:2,r=r??a,i=i!==void 0?i:new Array(u);for(let h=0;h<u;h+=r){const d=l(t.slice(h,h+a)),g=d.length;for(let m=0,_=r;m<_;++m)i[h+m]=m>=g?t[h+m]:d[m]}return i}}function WE(l,t){return hy(),Ho(l,"EPSG:4326","EPSG:3857")}function _h(l,t){if(l===t)return!0;const i=l.getUnits()===t.getUnits();return(l.getCode()===t.getCode()||Yo(l,t)===hf)&&i}function Yo(l,t){const i=l.getCode(),a=t.getCode();let r=mh(i,a);if(r)return r;let u=null,h=null;for(const g of qE)u||(u=g(l)),h||(h=g(t));if(!u&&!h)return null;const d="EPSG:4326";if(h)if(u)r=yh(u.inverse,h.forward);else{const g=mh(i,d);g&&(r=yh(g,h.forward))}else{const g=mh(d,a);g&&(r=yh(u.inverse,g))}return r&&(Ph(l),Ph(t),xl(l,t,r)),r}function yh(l,t){return function(i,a,r,u){return a=l(i,a,r,u),t(a,a,r,u)}}function Eo(l,t){const i=Te(l),a=Te(t);return Yo(i,a)}function Ho(l,t,i){const a=Eo(t,i);if(!a){const r=Te(t).getCode(),u=Te(i).getCode();throw new Error(`No transform available between ${r} and ${u}`)}return a(l,void 0,l.length)}function Fh(l,t){return l}function Gn(l,t){return Kh&&!_o(l,[0,0])&&l[0]>=-180&&l[0]<=180&&l[1]>=-90&&l[1]<=90&&(Kh=!1,ay("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),l}function $E(l,t){return l}function Bi(l,t){return l}function JE(){J0(K0),J0(F0),kE(F0,K0,xE,wE)}JE();new Array(6);function $s(){return[1,0,0,1,0,0]}function Ve(l,t){const i=t[0],a=t[1];return t[0]=l[0]*i+l[2]*a+l[4],t[1]=l[1]*i+l[3]*a+l[5],t}function wl(l,t,i,a,r,u,h,d){const g=Math.sin(u),m=Math.cos(u);return l[0]=a*m,l[1]=r*g,l[2]=-a*g,l[3]=r*m,l[4]=h*a*m-d*a*g+t,l[5]=h*r*g+d*r*m+i,l}function fy(l,t){const i=tb(t);Ht(i!==0,"Transformation matrix cannot be inverted");const a=t[0],r=t[1],u=t[2],h=t[3],d=t[4],g=t[5];return l[0]=h/i,l[1]=-r/i,l[2]=-u/i,l[3]=a/i,l[4]=(u*g-h*d)/i,l[5]=-(a*g-r*d)/i,l}function tb(l){return l[0]*l[3]-l[1]*l[2]}const eb=[1e5,1e5,1e5,1e5,2,2];function nb(l){return"matrix("+l.join(", ")+")"}function t_(l){return l.substring(7,l.length-1).split(",").map(parseFloat)}function ib(l,t){const i=t_(l),a=t_(t);for(let r=0;r<6;++r)if(Math.round((i[r]-a[r])*eb[r])!==0)return!1;return!0}function sb(l,t,i,a,r,u,h){u=u||[],h=h||2;let d=0;for(let g=t;g<i;g+=a){const m=l[g],_=l[g+1];u[d++]=r[0]*m+r[2]*_+r[4],u[d++]=r[1]*m+r[3]*_+r[5];for(let p=2;p<h;p++)u[d++]=l[g+p]}return u&&u.length!=d&&(u.length=d),u}function ab(l,t,i,a,r,u,h){h=h||[];const d=Math.cos(r),g=Math.sin(r),m=u[0],_=u[1];let p=0;for(let E=t;E<i;E+=a){const R=l[E]-m,x=l[E+1]-_;h[p++]=m+R*d-x*g,h[p++]=_+R*g+x*d;for(let D=E+2;D<E+a;++D)h[p++]=l[D]}return h&&h.length!=p&&(h.length=p),h}function lb(l,t,i,a,r,u,h,d){d=d||[];const g=h[0],m=h[1];let _=0;for(let p=t;p<i;p+=a){const E=l[p]-g,R=l[p+1]-m;d[_++]=g+r*E,d[_++]=m+u*R;for(let x=p+2;x<p+a;++x)d[_++]=l[x]}return d&&d.length!=_&&(d.length=_),d}function rb(l,t,i,a,r,u,h){h=h||[];let d=0;for(let g=t;g<i;g+=a){h[d++]=l[g]+r,h[d++]=l[g+1]+u;for(let m=g+2;m<g+a;++m)h[d++]=l[m]}return h&&h.length!=d&&(h.length=d),h}const e_=$s(),ob=[NaN,NaN];class ub extends Yn{constructor(){super(),this.extent_=vi(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=B1((t,i,a)=>{if(!a)return this.getSimplifiedGeometry(i);const r=this.clone();return r.applyTransform(a),r.getSimplifiedGeometry(i)})}simplifyTransformed(t,i){return this.simplifyTransformedInternal(this.getRevision(),t,i)}clone(){return At()}closestPointXY(t,i,a,r){return At()}containsXY(t,i){return this.closestPointXY(t,i,ob,Number.MIN_VALUE)===0}getClosestPoint(t,i){return i=i||[NaN,NaN],this.closestPointXY(t[0],t[1],i,1/0),i}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return At()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const i=this.computeExtent(this.extent_);(isNaN(i[0])||isNaN(i[1]))&&No(i),this.extentRevision_=this.getRevision()}return cE(this.extent_,t)}rotate(t,i){At()}scale(t,i,a){At()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return At()}getType(){return At()}applyTransform(t){At()}intersectsExtent(t){return At()}translate(t,i){At()}transform(t,i){const a=Te(t),r=a.getUnits()=="tile-pixels"?function(u,h,d){const g=a.getExtent(),m=a.getWorldExtent(),_=Ze(m)/Ze(g);wl(e_,m[0],m[3],_,-_,0,0,0);const p=sb(u,0,u.length,d,e_,h),E=Eo(a,i);return E?E(p,p,d):p}:Eo(a,i);return this.applyTransform(r),this}}class df extends ub{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return lE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return At()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const i=this.getSimplifiedGeometryInternal(t);return i.getFlatCoordinates().length<this.flatCoordinates.length?i:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,i){this.stride=n_(t),this.layout=t,this.flatCoordinates=i}setCoordinates(t,i){At()}setLayout(t,i,a){let r;if(t)r=n_(t);else{for(let u=0;u<a;++u){if(i.length===0){this.layout="XY",this.stride=2;return}i=i[0]}r=i.length,t=cb(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,i){const a=this.getFlatCoordinates();if(a){const r=this.getStride();ab(a,0,a.length,r,t,i,a),this.changed()}}scale(t,i,a){i===void 0&&(i=t),a||(a=ea(this.getExtent()));const r=this.getFlatCoordinates();if(r){const u=this.getStride();lb(r,0,r.length,u,t,i,a,r),this.changed()}}translate(t,i){const a=this.getFlatCoordinates();if(a){const r=this.getStride();rb(a,0,a.length,r,t,i,a),this.changed()}}}function cb(l){let t;return l==2?t="XY":l==3?t="XYZ":l==4&&(t="XYZM"),t}function n_(l){let t;return l=="XY"?t=2:l=="XYZ"||l=="XYM"?t=3:l=="XYZM"&&(t=4),t}function dy(l,t,i,a){let r=0;const u=l[i-a],h=l[i-a+1];let d=0,g=0;for(;t<i;t+=a){const m=l[t]-u,_=l[t+1]-h;r+=g*m-d*_,d=m,g=_}return r/2}function hb(l,t,i,a){let r=0;for(let u=0,h=i.length;u<h;++u){const d=i[u];r+=dy(l,t,d,a),t=d}return r}function i_(l,t,i,a,r,u,h){const d=l[t],g=l[t+1],m=l[i]-d,_=l[i+1]-g;let p;if(m===0&&_===0)p=t;else{const E=((r-d)*m+(u-g)*_)/(m*m+_*_);if(E>1)p=i;else if(E>0){for(let R=0;R<a;++R)h[R]=nE(l[t+R],l[i+R],E);h.length=a;return}else p=t}for(let E=0;E<a;++E)h[E]=l[p+E];h.length=a}function gy(l,t,i,a,r){let u=l[t],h=l[t+1];for(t+=a;t<i;t+=a){const d=l[t],g=l[t+1],m=Qs(u,h,d,g);m>r&&(r=m),u=d,h=g}return r}function fb(l,t,i,a,r){for(let u=0,h=i.length;u<h;++u){const d=i[u];r=gy(l,t,d,a,r),t=d}return r}function my(l,t,i,a,r,u,h,d,g,m,_){if(t==i)return m;let p,E;if(r===0){if(E=Qs(h,d,l[t],l[t+1]),E<m){for(p=0;p<a;++p)g[p]=l[t+p];return g.length=a,E}return m}_=_||[NaN,NaN];let R=t+a;for(;R<i;)if(i_(l,R-a,R,a,h,d,_),E=Qs(h,d,_[0],_[1]),E<m){for(m=E,p=0;p<a;++p)g[p]=_[p];g.length=a,R+=a}else R+=a*Math.max((Math.sqrt(E)-Math.sqrt(m))/r|0,1);if(i_(l,i-a,t,a,h,d,_),E=Qs(h,d,_[0],_[1]),E<m){for(m=E,p=0;p<a;++p)g[p]=_[p];g.length=a}return m}function db(l,t,i,a,r,u,h,d,g,m,_){_=_||[NaN,NaN];for(let p=0,E=i.length;p<E;++p){const R=i[p];m=my(l,t,R,a,r,u,h,d,g,m,_),t=R}return m}function gb(l,t,i,a){for(let r=0,u=i.length;r<u;++r)l[t++]=i[r];return t}function _y(l,t,i,a){for(let r=0,u=i.length;r<u;++r){const h=i[r];for(let d=0;d<a;++d)l[t++]=h[d]}return t}function mb(l,t,i,a,r){r=r||[];let u=0;for(let h=0,d=i.length;h<d;++h){const g=_y(l,t,i[h],a);r[u++]=g,t=g}return r.length=u,r}function yy(l,t,i,a,r){r=r!==void 0?r:[];let u=0;for(let h=t;h<i;h+=a)r[u++]=l.slice(h,h+a);return r.length=u,r}function _b(l,t,i,a,r){r=r!==void 0?r:[];let u=0;for(let h=0,d=i.length;h<d;++h){const g=i[h];r[u++]=yy(l,t,g,a,r[u]),t=g}return r.length=u,r}function yb(l,t,i,a,r,u,h){const d=(i-t)/a;if(d<3){for(;t<i;t+=a)u[h++]=l[t],u[h++]=l[t+1];return h}const g=new Array(d);g[0]=1,g[d-1]=1;const m=[t,i-a];let _=0;for(;m.length>0;){const p=m.pop(),E=m.pop();let R=0;const x=l[E],D=l[E+1],O=l[p],I=l[p+1];for(let B=E+a;B<p;B+=a){const q=l[B],V=l[B+1],z=tE(q,V,x,D,O,I);z>R&&(_=B,R=z)}R>r&&(g[(_-t)/a]=1,E+a<_&&m.push(E,_),_+a<p&&m.push(_,p))}for(let p=0;p<d;++p)g[p]&&(u[h++]=l[t+p*a],u[h++]=l[t+p*a+1]);return h}function Ys(l,t){return t*Math.round(l/t)}function pb(l,t,i,a,r,u,h){if(t==i)return h;let d=Ys(l[t],r),g=Ys(l[t+1],r);t+=a,u[h++]=d,u[h++]=g;let m,_;do if(m=Ys(l[t],r),_=Ys(l[t+1],r),t+=a,t==i)return u[h++]=m,u[h++]=_,h;while(m==d&&_==g);for(;t<i;){const p=Ys(l[t],r),E=Ys(l[t+1],r);if(t+=a,p==m&&E==_)continue;const R=m-d,x=_-g,D=p-d,O=E-g;if(R*O==x*D&&(R<0&&D<R||R==D||R>0&&D>R)&&(x<0&&O<x||x==O||x>0&&O>x)){m=p,_=E;continue}u[h++]=m,u[h++]=_,d=m,g=_,m=p,_=E}return u[h++]=m,u[h++]=_,h}function vb(l,t,i,a,r,u,h,d){for(let g=0,m=i.length;g<m;++g){const _=i[g];h=pb(l,t,_,a,r,u,h),d.push(h),t=_}return h}class Al extends df{constructor(t,i){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,i!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(i,t):this.setCoordinates(t,i)}clone(){return new Al(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,i,a,r){return r<W_(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),my(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,i,a,r))}getArea(){return dy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return yy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const i=[];return i.length=yb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new Al(i,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,i){this.setLayout(i,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=_y(this.flatCoordinates,0,t,this.stride),this.changed()}}class gf extends df{constructor(t,i){super(),this.setCoordinates(t,i)}clone(){const t=new gf(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,i,a,r){const u=this.flatCoordinates,h=Qs(t,i,u[0],u[1]);if(h<r){const d=this.stride;for(let g=0;g<d;++g)a[g]=u[g];return a.length=d,h}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return aE(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return $_(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=gb(this.flatCoordinates,0,t,this.stride),this.changed()}}function Eb(l,t,i,a,r){return!ty(r,function(h){return!Vi(l,t,i,a,h[0],h[1])})}function Vi(l,t,i,a,r,u){let h=0,d=l[i-a],g=l[i-a+1];for(;t<i;t+=a){const m=l[t],_=l[t+1];g<=u?_>u&&(m-d)*(u-g)-(r-d)*(_-g)>0&&h++:_<=u&&(m-d)*(u-g)-(r-d)*(_-g)<0&&h--,d=m,g=_}return h!==0}function py(l,t,i,a,r,u){if(i.length===0||!Vi(l,t,i[0],a,r,u))return!1;for(let h=1,d=i.length;h<d;++h)if(Vi(l,i[h-1],i[h],a,r,u))return!1;return!0}function bb(l,t,i,a,r,u,h){let d,g,m,_,p,E,R;const x=r[u+1],D=[];for(let B=0,q=i.length;B<q;++B){const V=i[B];for(_=l[V-a],E=l[V-a+1],d=t;d<V;d+=a)p=l[d],R=l[d+1],(x<=E&&R<=x||E<=x&&x<=R)&&(m=(x-E)/(R-E)*(p-_)+_,D.push(m)),_=p,E=R}let O=NaN,I=-1/0;for(D.sort(Ao),_=D[0],d=1,g=D.length;d<g;++d){p=D[d];const B=Math.abs(p-_);B>I&&(m=(_+p)/2,py(l,t,i,a,m,x)&&(O=m,I=B)),_=p}return isNaN(O)&&(O=r[u]),[O,x,I]}function Sb(l,t,i,a,r){let u;for(t+=a;t<i;t+=a)if(u=r(l.slice(t-a,t),l.slice(t,t+a)),u)return u;return!1}function vy(l,t,i,a,r,u){return u=u??J_(vi(),l,t,i,a),Nl(r,u)?u[0]>=r[0]&&u[2]<=r[2]||u[1]>=r[1]&&u[3]<=r[3]?!0:Sb(l,t,i,a,function(h,d){return hE(r,h,d)}):!1}function Ey(l,t,i,a,r){return!!(vy(l,t,i,a,r)||Vi(l,t,i,a,r[0],r[1])||Vi(l,t,i,a,r[0],r[3])||Vi(l,t,i,a,r[2],r[1])||Vi(l,t,i,a,r[2],r[3]))}function Tb(l,t,i,a,r){if(!Ey(l,t,i[0],a,r))return!1;if(i.length===1)return!0;for(let u=1,h=i.length;u<h;++u)if(Eb(l,i[u-1],i[u],a,r)&&!vy(l,i[u-1],i[u],a,r))return!1;return!0}function Rb(l,t,i,a){for(;t<i-a;){for(let r=0;r<a;++r){const u=l[t+r];l[t+r]=l[i-a+r],l[i-a+r]=u}t+=a,i-=a}}function by(l,t,i,a){let r=0,u=l[i-a],h=l[i-a+1];for(;t<i;t+=a){const d=l[t],g=l[t+1];r+=(d-u)*(g+h),u=d,h=g}return r===0?void 0:r>0}function xb(l,t,i,a,r){r=r!==void 0?r:!1;for(let u=0,h=i.length;u<h;++u){const d=i[u],g=by(l,t,d,a);if(u===0){if(r&&g||!r&&!g)return!1}else if(r&&!g||!r&&g)return!1;t=d}return!0}function s_(l,t,i,a,r){r=r!==void 0?r:!1;for(let u=0,h=i.length;u<h;++u){const d=i[u],g=by(l,t,d,a);(u===0?r&&g||!r&&!g:r&&!g||!r&&g)&&Rb(l,t,d,a),t=d}return t}class Cl extends df{constructor(t,i,a){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,i!==void 0&&a?(this.setFlatCoordinates(i,t),this.ends_=a):this.setCoordinates(t,i)}appendLinearRing(t){this.flatCoordinates?Y1(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Cl(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,i,a,r){return r<W_(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(fb(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),db(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,i,a,r))}containsXY(t,i){return py(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,i)}getArea(){return hb(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let i;return t!==void 0?(i=this.getOrientedFlatCoordinates().slice(),s_(i,0,this.ends_,this.stride,t)):i=this.flatCoordinates,_b(i,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=ea(this.getExtent());this.flatInteriorPoint_=bb(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new gf(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Al(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,i=this.flatCoordinates,a=this.ends_,r=[];let u=0;for(let h=0,d=a.length;h<d;++h){const g=a[h],m=new Al(i.slice(u,g),t);r.push(m),u=g}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;xb(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=s_(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const i=[],a=[];return i.length=vb(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,a),new Cl(i,"XY",a)}getType(){return"Polygon"}intersectsExtent(t){return Tb(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,i){this.setLayout(i,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const a=mb(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=a.length===0?0:a[a.length-1],this.changed()}}function a_(l){if(Go(l))throw new Error("Cannot create polygon from empty extent");const t=l[0],i=l[1],a=l[2],r=l[3],u=[t,i,t,r,a,r,a,i,t,i];return new Cl(u,"XY",[u.length])}function mf(l,t,i,a){const r=Bt(t)/i[0],u=Ze(t)/i[1];return a?Math.min(l,Math.max(r,u)):Math.min(l,Math.min(r,u))}function _f(l,t,i){let a=Math.min(l,t);const r=50;return a*=Math.log(1+r*Math.max(0,l/t-1))/r+1,i&&(a=Math.max(a,i),a/=Math.log(1+r*Math.max(0,i/l-1))/r+1),$t(a,i/2,t*2)}function wb(l,t,i,a){return t=t!==void 0?t:!0,function(r,u,h,d){if(r!==void 0){const g=l[0],m=l[l.length-1],_=i?mf(g,i,h,a):g;if(d)return t?_f(r,_,m):$t(r,m,_);const p=Math.min(_,r),E=Math.floor(af(l,p,u));return l[E]>_&&E<l.length-1?l[E+1]:l[E]}}}function Ab(l,t,i,a,r,u){return a=a!==void 0?a:!0,i=i!==void 0?i:0,function(h,d,g,m){if(h!==void 0){const _=r?mf(t,r,g,u):t;if(m)return a?_f(h,_,i):$t(h,i,_);const p=1e-9,E=Math.ceil(Math.log(t/_)/Math.log(l)-p),R=-d*(.5-p)+.5,x=Math.min(_,h),D=Math.floor(Math.log(t/x)/Math.log(l)+R),O=Math.max(E,D),I=t/Math.pow(l,O);return $t(I,i,_)}}}function l_(l,t,i,a,r){return i=i!==void 0?i:!0,function(u,h,d,g){if(u!==void 0){const m=a?mf(l,a,d,r):l;return!i||!g?$t(u,t,m):_f(u,m,t)}}}function yf(l){if(l!==void 0)return 0}function r_(l){if(l!==void 0)return l}function Cb(l){const t=2*Math.PI/l;return function(i,a){if(a)return i;if(i!==void 0)return i=Math.floor(i/t+.5)*t,i}}function Mb(l){const t=yi(5);return function(i,a){return a||i===void 0?i:Math.abs(i)<=t?0:i}}const Ob=42,pf=256,ph=0;class pn extends Yn{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=ff(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&hy(),t.center&&(t.center=Gn(t.center,this.projection_)),t.extent&&(t.extent=Bi(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const i=Object.assign({},t);for(const d in on)delete i[d];this.setProperties(i,!0);const a=Db(t);this.maxResolution_=a.maxResolution,this.minResolution_=a.minResolution,this.zoomFactor_=a.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=a.minZoom;const r=Lb(t),u=a.constraint,h=Nb(t);this.constraints_={center:r,resolution:u,rotation:h},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let i=this.padding_;this.padding_=t;const a=this.getCenterInternal();if(a){const r=t||[0,0,0,0];i=i||[0,0,0,0];const u=this.getResolution(),h=u/2*(r[3]-i[3]+i[1]-r[1]),d=u/2*(r[0]-i[0]+i[2]-r[2]);this.setCenterInternal([a[0]+h,a[1]-d])}}getUpdatedOptions_(t){const i=this.getProperties();return i.resolution!==void 0?i.resolution=this.getResolution():i.zoom=this.getZoom(),i.center=this.getCenterInternal(),i.rotation=this.getRotation(),Object.assign({},i,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const i=new Array(arguments.length);for(let a=0;a<i.length;++a){let r=arguments[a];r.center&&(r=Object.assign({},r),r.center=Gn(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Gn(r.anchor,this.getProjection())),i[a]=r}this.animateInternal.apply(this,i)}animateInternal(t){let i=arguments.length,a;i>1&&typeof arguments[i-1]=="function"&&(a=arguments[i-1],--i);let r=0;for(;r<i&&!this.isDef();++r){const _=arguments[r];_.center&&this.setCenterInternal(_.center),_.zoom!==void 0?this.setZoom(_.zoom):_.resolution&&this.setResolution(_.resolution),_.rotation!==void 0&&this.setRotation(_.rotation)}if(r===i){a&&no(a,!0);return}let u=Date.now(),h=this.targetCenter_.slice(),d=this.targetResolution_,g=this.targetRotation_;const m=[];for(;r<i;++r){const _=arguments[r],p={start:u,complete:!1,anchor:_.anchor,duration:_.duration!==void 0?_.duration:1e3,easing:_.easing||EE,callback:a};if(_.center&&(p.sourceCenter=h,p.targetCenter=_.center.slice(),h=p.targetCenter),_.zoom!==void 0?(p.sourceResolution=d,p.targetResolution=this.getResolutionForZoom(_.zoom),d=p.targetResolution):_.resolution&&(p.sourceResolution=d,p.targetResolution=_.resolution,d=p.targetResolution),_.rotation!==void 0){p.sourceRotation=g;const E=Zi(_.rotation-g+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=g+E,g=p.targetRotation}zb(p)?p.complete=!0:u+=p.duration,m.push(p)}this.animations_.push(m),this.setHint(tn.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[tn.ANIMATING]>0}getInteracting(){return this.hints_[tn.INTERACTING]>0}cancelAnimations(){this.setHint(tn.ANIMATING,-this.hints_[tn.ANIMATING]);let t;for(let i=0,a=this.animations_.length;i<a;++i){const r=this.animations_[i];if(r[0].callback&&no(r[0].callback,!1),!t)for(let u=0,h=r.length;u<h;++u){const d=r[u];if(!d.complete){t=d.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let i=!1;for(let a=this.animations_.length-1;a>=0;--a){const r=this.animations_[a];let u=!0;for(let h=0,d=r.length;h<d;++h){const g=r[h];if(g.complete)continue;const m=t-g.start;let _=g.duration>0?m/g.duration:1;_>=1?(g.complete=!0,_=1):u=!1;const p=g.easing(_);if(g.sourceCenter){const E=g.sourceCenter[0],R=g.sourceCenter[1],x=g.targetCenter[0],D=g.targetCenter[1];this.nextCenter_=g.targetCenter;const O=E+p*(x-E),I=R+p*(D-R);this.targetCenter_=[O,I]}if(g.sourceResolution&&g.targetResolution){const E=p===1?g.targetResolution:g.sourceResolution+p*(g.targetResolution-g.sourceResolution);if(g.anchor){const R=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(E,0,R,!0);this.targetCenter_=this.calculateCenterZoom(x,g.anchor)}this.nextResolution_=g.targetResolution,this.targetResolution_=E,this.applyTargetState_(!0)}if(g.sourceRotation!==void 0&&g.targetRotation!==void 0){const E=p===1?Zi(g.targetRotation+Math.PI,2*Math.PI)-Math.PI:g.sourceRotation+p*(g.targetRotation-g.sourceRotation);if(g.anchor){const R=this.constraints_.rotation(E,!0);this.targetCenter_=this.calculateCenterRotate(R,g.anchor)}this.nextRotation_=g.targetRotation,this.targetRotation_=E}if(this.applyTargetState_(!0),i=!0,!g.complete)break}if(u){this.animations_[a]=null,this.setHint(tn.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const h=r[0].callback;h&&no(h,!0)}}this.animations_=this.animations_.filter(Boolean),i&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,i){let a;const r=this.getCenterInternal();return r!==void 0&&(a=[r[0]-i[0],r[1]-i[1]],rf(a,t-this.getRotation()),gE(a,i)),a}calculateCenterZoom(t,i){let a;const r=this.getCenterInternal(),u=this.getResolution();if(r!==void 0&&u!==void 0){const h=i[0]-t*(i[0]-r[0])/u,d=i[1]-t*(i[1]-r[1])/u;a=[h,d]}return a}getViewportSize_(t){const i=this.viewportSize_;if(t){const a=i[0],r=i[1];return[Math.abs(a*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(a*Math.sin(t))+Math.abs(r*Math.cos(t))]}return i}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&Fh(t,this.getProjection())}getCenterInternal(){return this.get(on.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const i=this.calculateExtentInternal(t);return $E(i,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const i=this.getCenterInternal();Ht(i,"The view center is not defined");const a=this.getResolution();Ht(a!==void 0,"The view resolution is not defined");const r=this.getRotation();return Ht(r!==void 0,"The view rotation is not defined"),Zh(i,a,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(on.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,i){return this.getResolutionForExtentInternal(Bi(t,this.getProjection()),i)}getResolutionForExtentInternal(t,i){i=i||this.getViewportSizeMinusPadding_();const a=Bt(t)/i[0],r=Ze(t)/i[1];return Math.max(a,r)}getResolutionForValueFunction(t){t=t||2;const i=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,r=Math.log(i/a)/Math.log(t);return function(u){return i/Math.pow(t,u*r)}}getRotation(){return this.get(on.ROTATION)}getValueForResolutionFunction(t){const i=Math.log(t||2),a=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,u=Math.log(a/r)/i;return function(h){return Math.log(a/h)/i/u}}getViewportSizeMinusPadding_(t){let i=this.getViewportSize_(t);const a=this.padding_;return a&&(i=[i[0]-a[1]-a[3],i[1]-a[0]-a[2]]),i}getState(){const t=this.getProjection(),i=this.getResolution(),a=this.getRotation();let r=this.getCenterInternal();const u=this.padding_;if(u){const h=this.getViewportSizeMinusPadding_();r=vh(r,this.getViewportSize_(),[h[0]/2+u[3],h[1]/2+u[0]],i,a)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:i,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:a,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const i=this.getResolution();return i!==void 0&&(t=this.getZoomForResolution(i)),t}getZoomForResolution(t){let i=this.minZoom_||0,a,r;if(this.resolutions_){const u=af(this.resolutions_,t,1);i=u,a=this.resolutions_[u],u==this.resolutions_.length-1?r=2:r=a/this.resolutions_[u+1]}else a=this.maxResolution_,r=this.zoomFactor_;return i+Math.log(a/t)/Math.log(r)}getResolutionForZoom(t){var i;if((i=this.resolutions_)!=null&&i.length){if(this.resolutions_.length===1)return this.resolutions_[0];const a=$t(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[a]/this.resolutions_[a+1];return this.resolutions_[a]/Math.pow(r,$t(t-a,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,i){let a;if(Ht(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Ht(!Go(t),"Cannot fit empty extent provided as `geometry`");const r=Bi(t,this.getProjection());a=a_(r)}else if(t.getType()==="Circle"){const r=Bi(t.getExtent(),this.getProjection());a=a_(r),a.rotate(this.getRotation(),ea(r))}else a=t;this.fitInternal(a,i)}rotatedExtentForGeometry(t){const i=this.getRotation(),a=Math.cos(i),r=Math.sin(-i),u=t.getFlatCoordinates(),h=t.getStride();let d=1/0,g=1/0,m=-1/0,_=-1/0;for(let p=0,E=u.length;p<E;p+=h){const R=u[p]*a-u[p+1]*r,x=u[p]*r+u[p+1]*a;d=Math.min(d,R),g=Math.min(g,x),m=Math.max(m,R),_=Math.max(_,x)}return[d,g,m,_]}fitInternal(t,i){i=i||{};let a=i.size;a||(a=this.getViewportSizeMinusPadding_());const r=i.padding!==void 0?i.padding:[0,0,0,0],u=i.nearest!==void 0?i.nearest:!1;let h;i.minResolution!==void 0?h=i.minResolution:i.maxZoom!==void 0?h=this.getResolutionForZoom(i.maxZoom):h=0;const d=this.rotatedExtentForGeometry(t);let g=this.getResolutionForExtentInternal(d,[a[0]-r[1]-r[3],a[1]-r[0]-r[2]]);g=isNaN(g)?h:Math.max(g,h),g=this.getConstrainedResolution(g,u?0:1);const m=this.getRotation(),_=Math.sin(m),p=Math.cos(m),E=ea(d);E[0]+=(r[1]-r[3])/2*g,E[1]+=(r[0]-r[2])/2*g;const R=E[0]*p-E[1]*_,x=E[1]*p+E[0]*_,D=this.getConstrainedCenter([R,x],g),O=i.callback?i.callback:fo;i.duration!==void 0?this.animateInternal({resolution:g,center:D,duration:i.duration,easing:i.easing},O):(this.targetResolution_=g,this.targetCenter_=D,this.applyTargetState_(!1,!0),no(O,!0))}centerOn(t,i,a){this.centerOnInternal(Gn(t,this.getProjection()),i,a)}centerOnInternal(t,i,a){this.setCenterInternal(vh(t,i,a,this.getResolution(),this.getRotation()))}calculateCenterShift(t,i,a,r){let u;const h=this.padding_;if(h&&t){const d=this.getViewportSizeMinusPadding_(-a),g=vh(t,r,[d[0]/2+h[3],d[1]/2+h[0]],i,a);u=[t[0]-g[0],t[1]-g[1]]}return u}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const i=Fh(this.targetCenter_,this.getProjection());this.setCenter([i[0]+t[0],i[1]+t[1]])}adjustCenterInternal(t){const i=this.targetCenter_;this.setCenterInternal([i[0]+t[0],i[1]+t[1]])}adjustResolution(t,i){i=i&&Gn(i,this.getProjection()),this.adjustResolutionInternal(t,i)}adjustResolutionInternal(t,i){const a=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),u=this.constraints_.resolution(this.targetResolution_*t,0,r,a);i&&(this.targetCenter_=this.calculateCenterZoom(u,i)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,i){this.adjustResolution(Math.pow(this.zoomFactor_,-t),i)}adjustRotation(t,i){i&&(i=Gn(i,this.getProjection())),this.adjustRotationInternal(t,i)}adjustRotationInternal(t,i){const a=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,a);i&&(this.targetCenter_=this.calculateCenterRotate(r,i)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Gn(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,i){return this.hints_[t]+=i,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,i){const a=this.getAnimating()||this.getInteracting()||i,r=this.constraints_.rotation(this.targetRotation_,a),u=this.getViewportSize_(r),h=this.constraints_.resolution(this.targetResolution_,0,u,a),d=this.constraints_.center(this.targetCenter_,h,u,a,this.calculateCenterShift(this.targetCenter_,h,r,u));this.get(on.ROTATION)!==r&&this.set(on.ROTATION,r),this.get(on.RESOLUTION)!==h&&(this.set(on.RESOLUTION,h),this.set("zoom",this.getZoom(),!0)),(!d||!this.get(on.CENTER)||!_o(this.get(on.CENTER),d))&&this.set(on.CENTER,d),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,i,a){t=t!==void 0?t:200;const r=i||0,u=this.constraints_.rotation(this.targetRotation_),h=this.getViewportSize_(u),d=this.constraints_.resolution(this.targetResolution_,r,h),g=this.constraints_.center(this.targetCenter_,d,h,!1,this.calculateCenterShift(this.targetCenter_,d,u,h));if(t===0&&!this.cancelAnchor_){this.targetResolution_=d,this.targetRotation_=u,this.targetCenter_=g,this.applyTargetState_();return}a=a||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==d||this.getRotation()!==u||!this.getCenterInternal()||!_o(this.getCenterInternal(),g))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:u,center:g,resolution:d,duration:t,easing:aa,anchor:a}))}beginInteraction(){this.resolveConstraints(0),this.setHint(tn.INTERACTING,1)}endInteraction(t,i,a){a=a&&Gn(a,this.getProjection()),this.endInteractionInternal(t,i,a)}endInteractionInternal(t,i,a){this.getInteracting()&&(this.setHint(tn.INTERACTING,-1),this.resolveConstraints(t,i,a))}getConstrainedCenter(t,i){const a=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,i||this.getResolution(),a)}getConstrainedZoom(t,i){const a=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(a,i))}getConstrainedResolution(t,i){i=i||0;const a=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,a)}}function no(l,t){setTimeout(function(){l(t)},0)}function Lb(l){if(l.extent!==void 0){const i=l.smoothExtentConstraint!==void 0?l.smoothExtentConstraint:!0;return H0(l.extent,l.constrainOnlyCenter,i)}const t=ff(l.projection,"EPSG:3857");if(l.multiWorld!==!0&&t.isGlobal()){const i=t.getExtent().slice();return i[0]=-1/0,i[2]=1/0,H0(i,!1,!1)}return iE}function Db(l){let t,i,a,h=l.minZoom!==void 0?l.minZoom:ph,d=l.maxZoom!==void 0?l.maxZoom:28;const g=l.zoomFactor!==void 0?l.zoomFactor:2,m=l.multiWorld!==void 0?l.multiWorld:!1,_=l.smoothResolutionConstraint!==void 0?l.smoothResolutionConstraint:!0,p=l.showFullExtent!==void 0?l.showFullExtent:!1,E=ff(l.projection,"EPSG:3857"),R=E.getExtent();let x=l.constrainOnlyCenter,D=l.extent;if(!m&&!D&&E.isGlobal()&&(x=!1,D=R),l.resolutions!==void 0){const O=l.resolutions;i=O[h],a=O[d]!==void 0?O[d]:O[O.length-1],l.constrainResolution?t=wb(O,_,!x&&D,p):t=l_(i,a,_,!x&&D,p)}else{const I=(R?Math.max(Bt(R),Ze(R)):360*na.degrees/E.getMetersPerUnit())/pf/Math.pow(2,ph),B=I/Math.pow(2,28-ph);i=l.maxResolution,i!==void 0?h=0:i=I/Math.pow(g,h),a=l.minResolution,a===void 0&&(l.maxZoom!==void 0?l.maxResolution!==void 0?a=i/Math.pow(g,d):a=I/Math.pow(g,d):a=B),d=h+Math.floor(Math.log(i/a)/Math.log(g)),a=i/Math.pow(g,d-h),l.constrainResolution?t=Ab(g,i,a,_,!x&&D,p):t=l_(i,a,_,!x&&D,p)}return{constraint:t,maxResolution:i,minResolution:a,minZoom:h,zoomFactor:g}}function Nb(l){if(l.enableRotation!==void 0?l.enableRotation:!0){const i=l.constrainRotation;return i===void 0||i===!0?Mb():i===!1?r_:typeof i=="number"?Cb(i):r_}return yf}function zb(l){return!(l.sourceCenter&&l.targetCenter&&!_o(l.sourceCenter,l.targetCenter)||l.sourceResolution!==l.targetResolution||l.sourceRotation!==l.targetRotation)}function vh(l,t,i,a,r){const u=Math.cos(-r);let h=Math.sin(-r),d=l[0]*u-l[1]*h,g=l[1]*u+l[0]*h;d+=(t[0]/2-i[0])*a,g+=(i[1]-t[1]/2)*a,h=-h;const m=d*u-g*h,_=g*u+d*h;return[m,_]}const io="ol-hidden",la="ol-unselectable",o_="ol-unsupported",Bo="ol-control",u_="ol-collapsed";function Ne(l,t,i,a){let r;return i&&i.length?r=i.shift():k1?r=new OffscreenCanvas(l||300,t||300):r=document.createElement("canvas"),l&&(r.width=l),t&&(r.height=t),r.getContext("2d",a)}let Eh;function bo(){return Eh||(Eh=Ne(1,1)),Eh}function vf(l){const t=l.canvas;t.width=1,t.height=1,l.clearRect(0,0,1,1)}function So(l,t){const i=t.parentNode;i&&i.replaceChild(l,t)}function Ub(l){for(;l.lastChild;)l.lastChild.remove()}function jb(l,t){const i=l.childNodes;for(let a=0;;++a){const r=i[a],u=t[a];if(!r&&!u)break;if(r!==u){if(!r){l.appendChild(u);continue}if(!u){l.removeChild(r),--a;continue}l.insertBefore(u,r)}}}class ra extends Yn{constructor(t){super();const i=t.element;i&&!t.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),this.element=i||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){var t;(t=this.element)==null||t.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){var i;this.map_&&((i=this.element)==null||i.remove());for(let a=0,r=this.listenerKeys.length;a<r;++a)kt(this.listenerKeys[a]);if(this.listenerKeys.length=0,this.map_=t,t){const a=this.target_??t.getOverlayContainerStopEvent();this.element&&a.appendChild(this.element),this.render!==fo&&this.listenerKeys.push(Ct(t,mi.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class Gb extends ra{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const i=t.className!==void 0?t.className:"ol-attribution",a=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:i+"-expand",u=t.collapseLabel!==void 0?t.collapseLabel:"",h=t.collapseClassName!==void 0?t.collapseClassName:i+"-collapse";typeof u=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=u,this.collapseLabel_.className=h):this.collapseLabel_=u;const d=t.label!==void 0?t.label:"i";typeof d=="string"?(this.label_=document.createElement("span"),this.label_.textContent=d,this.label_.className=r):this.label_=d;const g=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=a,this.toggleButton_.appendChild(g),this.toggleButton_.addEventListener(dt.CLICK,this.handleClick_.bind(this),!1);const m=i+" "+la+" "+Bo+(this.collapsed_&&this.collapsible_?" "+u_:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=m,_.appendChild(this.toggleButton_),_.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const i=this.getMap().getAllLayers(),a=new Set(i.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>a.add(r)):a.add(this.attributions_)),!this.overrideCollapsible_){const r=!i.some(u=>{var h;return((h=u.getSource())==null?void 0:h.getAttributionsCollapsible())===!1});this.setCollapsible(r)}return Array.from(a)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const i=await Promise.all(this.collectSourceAttributions_(t).map(r=>V1(()=>r))),a=i.length>0;if(this.renderedVisible_!=a&&(this.element.style.display=a?"":"none",this.renderedVisible_=a),!Co(i,this.renderedAttributions_)){Ub(this.ulElement_);for(let r=0,u=i.length;r<u;++r){const h=document.createElement("li");h.innerHTML=i[r],this.ulElement_.appendChild(h)}this.renderedAttributions_=i}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(u_),this.collapsed_?So(this.collapseLabel_,this.label_):So(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class Sy extends ra{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const i=t.className!==void 0?t.className:"ol-rotate",a=t.label!==void 0?t.label:"",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof a=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=a):(this.label_=a,this.label_.classList.add(r));const u=t.tipLabel?t.tipLabel:"Reset rotation",h=document.createElement("button");h.className=i+"-reset",h.setAttribute("type","button"),h.title=u,h.appendChild(this.label_),h.addEventListener(dt.CLICK,this.handleClick_.bind(this),!1);const d=i+" "+la+" "+Bo,g=this.element;g.className=d,g.appendChild(h),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(io)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const i=this.getMap().getView();if(!i)return;const a=i.getRotation();a!==void 0&&(this.duration_>0&&a%(2*Math.PI)!==0?i.animate({rotation:0,duration:this.duration_,easing:aa}):i.setRotation(0))}render(t){const i=t.frameState;if(!i)return;const a=i.viewState.rotation;if(a!=this.rotation_){const r="rotate("+a+"rad)";if(this.autoHide_){const u=this.element.classList.contains(io);!u&&a===0?this.element.classList.add(io):u&&a!==0&&this.element.classList.remove(io)}this.label_.style.transform=r}this.rotation_=a}}class Ib extends ra{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const i=t.className!==void 0?t.className:"ol-zoom",a=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:i+"-in",u=t.zoomOutClassName!==void 0?t.zoomOutClassName:i+"-out",h=t.zoomInLabel!==void 0?t.zoomInLabel:"+",d=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",g=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",m=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",_=document.createElement("button");_.className=r,_.setAttribute("type","button"),_.title=g,_.appendChild(typeof h=="string"?document.createTextNode(h):h),_.addEventListener(dt.CLICK,this.handleClick_.bind(this,a),!1);const p=document.createElement("button");p.className=u,p.setAttribute("type","button"),p.title=m,p.appendChild(typeof d=="string"?document.createTextNode(d):d),p.addEventListener(dt.CLICK,this.handleClick_.bind(this,-a),!1);const E=i+" "+la+" "+Bo,R=this.element;R.className=E,R.appendChild(_),R.appendChild(p),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,i){i.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const a=this.getMap().getView();if(!a)return;const r=a.getZoom();if(r!==void 0){const u=a.getConstrainedZoom(r+t);this.duration_>0?(a.getAnimating()&&a.cancelAnimations(),a.animate({zoom:u,duration:this.duration_,easing:aa})):a.setZoom(u)}}}function Ty(l){l=l||{};const t=new Xn;return(l.zoom!==void 0?l.zoom:!0)&&t.push(new Ib(l.zoomOptions)),(l.rotate!==void 0?l.rotate:!0)&&t.push(new Sy(l.rotateOptions)),(l.attribution!==void 0?l.attribution:!0)&&t.push(new Gb(l.attributionOptions)),t}class Xb{constructor(t,i,a){this.decay_=t,this.minVelocity_=i,this.delay_=a,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,i){this.points_.push(t,i,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,i=this.points_.length-3;if(this.points_[i+2]<t)return!1;let a=i-3;for(;a>0&&this.points_[a+2]>t;)a-=3;const r=this.points_[i+2]-this.points_[a+2];if(r<1e3/60)return!1;const u=this.points_[i]-this.points_[a],h=this.points_[i+1]-this.points_[a+1];return this.angle_=Math.atan2(h,u),this.initialVelocity_=Math.sqrt(u*u+h*h)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const c_={ACTIVE:"active"};class Ul extends Yn{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(c_.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(c_.ACTIVE,t)}setMap(t){this.map_=t}}function Yb(l,t,i){const a=l.getCenterInternal();if(a){const r=[a[0]+t[0],a[1]+t[1]];l.animateInternal({duration:i!==void 0?i:250,easing:bE,center:l.getConstrainedCenter(r)})}}function Ef(l,t,i,a){const r=l.getZoom();if(r===void 0)return;const u=l.getConstrainedZoom(r+t),h=l.getResolutionForZoom(u);l.getAnimating()&&l.cancelAnimations(),l.animate({resolution:h,anchor:i,duration:a!==void 0?a:250,easing:aa})}class Hb extends Ul{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let i=!1;if(t.type==Ft.DBLCLICK){const a=t.originalEvent,r=t.map,u=t.coordinate,h=a.shiftKey?-this.delta_:this.delta_,d=r.getView();Ef(d,h,u,this.duration_),a.preventDefault(),i=!0}return!i}}function kh(l){const t=arguments;return function(i){let a=!0;for(let r=0,u=t.length;r<u&&(a=a&&t[r](i),!!a);++r);return a}}const Bb=function(l){const t=l.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Vb=function(l){const t=l.map.getTargetElement(),i=t.getRootNode(),a=l.map.getOwnerDocument().activeElement;return i instanceof ShadowRoot?i.host.contains(a):t.contains(a)},Ry=function(l){const t=l.map.getTargetElement(),i=t.getRootNode();return(i instanceof ShadowRoot?i.host:t).hasAttribute("tabindex")?Vb(l):!0},Zb=ho,xy=function(l){const t=l.originalEvent;return t instanceof PointerEvent&&t.button==0&&!(P1&&F_&&t.ctrlKey)},wy=function(l){const t=l.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},qb=function(l){const t=l.originalEvent;return F_?t.metaKey:t.ctrlKey},Kb=function(l){const t=l.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Ay=function(l){const t=l.originalEvent,i=t.target.tagName;return i!=="INPUT"&&i!=="SELECT"&&i!=="TEXTAREA"&&!t.target.isContentEditable},bh=function(l){const t=l.originalEvent;return t instanceof PointerEvent&&t.pointerType=="mouse"},Pb=function(l){const t=l.originalEvent;return t instanceof PointerEvent&&t.isPrimary&&t.button===0};class jl extends Ul{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let i=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Ft.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Ft.POINTERUP){const a=this.handleUpEvent(t);this.handlingDownUpSequence=a&&this.targetPointers.length>0}}else if(t.type==Ft.POINTERDOWN){const a=this.handleDownEvent(t);this.handlingDownUpSequence=a,i=this.stopDown(a)}else t.type==Ft.POINTERMOVE&&this.handleMoveEvent(t);return!i}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function bf(l){const t=l.length;let i=0,a=0;for(let r=0;r<t;r++)i+=l[r].clientX,a+=l[r].clientY;return{clientX:i/t,clientY:a/t}}class Fb extends jl{constructor(t){super({stopDown:Mo}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const i=t.condition?t.condition:kh(wy,Pb);this.condition_=t.onFocusOnly?kh(Ry,i):i,this.noKinetic_=!1}handleDragEvent(t){const i=t.map;this.panning_||(this.panning_=!0,i.getView().beginInteraction());const a=this.targetPointers,r=i.getEventPixel(bf(a));if(a.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const u=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],d=t.map.getView();yE(u,d.getResolution()),rf(u,d.getRotation()),d.adjustCenterInternal(u)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=a.length,t.originalEvent.preventDefault()}handleUpEvent(t){const i=t.map,a=i.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),u=this.kinetic_.getAngle(),h=a.getCenterInternal(),d=i.getPixelFromCoordinateInternal(h),g=i.getCoordinateFromPixelInternal([d[0]-r*Math.cos(u),d[1]-r*Math.sin(u)]);a.animateInternal({center:a.getConstrainedCenter(g),duration:500,easing:aa})}return this.panning_&&(this.panning_=!1,a.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const a=t.map.getView();return this.lastCentroid=null,a.getAnimating()&&a.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class kb extends jl{constructor(t){t=t||{},super({stopDown:Mo}),this.condition_=t.condition?t.condition:Bb,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!bh(t))return;const i=t.map,a=i.getView();if(a.getConstraints().rotation===yf)return;const r=i.getSize(),u=t.pixel,h=Math.atan2(r[1]/2-u[1],u[0]-r[0]/2);if(this.lastAngle_!==void 0){const d=h-this.lastAngle_;a.adjustRotationInternal(-d)}this.lastAngle_=h}handleUpEvent(t){return bh(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return bh(t)&&xy(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Qb extends wo{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,i=this.endPixel_,a="px",r=this.element_.style;r.left=Math.min(t[0],i[0])+a,r.top=Math.min(t[1],i[1])+a,r.width=Math.abs(i[0]-t[0])+a,r.height=Math.abs(i[1]-t[1])+a}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const i=this.element_.style;i.left="inherit",i.top="inherit",i.width="inherit",i.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,i){this.startPixel_=t,this.endPixel_=i,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,i=this.endPixel_,r=[t,[t[0],i[1]],i,[i[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Cl([r])}getGeometry(){return this.geometry_}}const Hs={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class hl extends pi{constructor(t,i,a){super(t),this.coordinate=i,this.mapBrowserEvent=a}}class Wb extends jl{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new Qb(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??xy,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,i,a){const r=a[0]-i[0],u=a[1]-i[1];return r*r+u*u>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new hl(Hs.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const i=this.boxEndCondition_(t,this.startPixel_,t.pixel);return i&&this.onBoxEnd(t),this.dispatchEvent(new hl(i?Hs.BOXEND:Hs.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new hl(Hs.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new hl(Hs.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new hl(Hs.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class $b extends Wb{constructor(t){t=t||{};const i=t.condition?t.condition:Kb;super({condition:i,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const a=this.getMap().getView();let r=this.getGeometry();if(this.out_){const u=a.rotatedExtentForGeometry(r),h=a.getResolutionForExtentInternal(u),d=a.getResolution()/h;r=r.clone(),r.scale(d*d)}a.fitInternal(r,{duration:this.duration_,easing:aa})}}const Yi={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Jb extends Ul{constructor(t){super(),t=t||{},this.defaultCondition_=function(i){return wy(i)&&Ay(i)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let i=!1;if(t.type==dt.KEYDOWN){const a=t.originalEvent,r=a.key;if(this.condition_(t)&&(r==Yi.DOWN||r==Yi.LEFT||r==Yi.RIGHT||r==Yi.UP)){const h=t.map.getView(),d=h.getResolution()*this.pixelDelta_;let g=0,m=0;r==Yi.DOWN?m=-d:r==Yi.LEFT?g=-d:r==Yi.RIGHT?g=d:m=d;const _=[g,m];rf(_,h.getRotation()),Yb(h,_,this.duration_),a.preventDefault(),i=!0}}return!i}}class tS extends Ul{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(i){return!qb(i)&&Ay(i)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let i=!1;if(t.type==dt.KEYDOWN||t.type==dt.KEYPRESS){const a=t.originalEvent,r=a.key;if(this.condition_(t)&&(r==="+"||r==="-")){const u=t.map,h=r==="+"?this.delta_:-this.delta_,d=u.getView();Ef(d,h,void 0,this.duration_),a.preventDefault(),i=!0}}return!i}}class eS extends Ul{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const i=t.condition?t.condition:Zb;this.condition_=t.onFocusOnly?kh(Ry,i):i,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==dt.WHEEL)return!0;const a=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let u;if(t.type==dt.WHEEL&&(u=r.deltaY,r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(u*=40)),u===0)return!1;this.lastDelta_=u;const h=Date.now();this.startTime_===void 0&&(this.startTime_=h),(!this.mode_||h-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(u)<4?"trackpad":"wheel");const d=a.getView();if(this.mode_==="trackpad"&&!(d.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(d.getAnimating()&&d.cancelAnimations(),d.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),d.adjustZoom(-u/this.deltaPerZoom_,this.lastAnchor_?a.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=h,!1;this.totalDelta_+=u;const g=Math.max(this.timeout_-(h-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,a),g),!1}handleWheelZoom_(t){const i=t.getView();i.getAnimating()&&i.cancelAnimations();let a=-$t(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(i.getConstrainResolution()||this.constrainResolution_)&&(a=a?a>0?1:-1:0),Ef(i,a,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class nS extends jl{constructor(t){t=t||{};const i=t;i.stopDown||(i.stopDown=Mo),super(i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let i=0;const a=this.targetPointers[0],r=this.targetPointers[1],u=Math.atan2(r.clientY-a.clientY,r.clientX-a.clientX);if(this.lastAngle_!==void 0){const g=u-this.lastAngle_;this.rotationDelta_+=g,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),i=g}this.lastAngle_=u;const h=t.map,d=h.getView();d.getConstraints().rotation!==yf&&(this.anchor_=h.getCoordinateFromPixelInternal(h.getEventPixel(bf(this.targetPointers))),this.rotating_&&(h.render(),d.adjustRotationInternal(i,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const i=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}return!1}}class iS extends jl{constructor(t){t=t||{};const i=t;i.stopDown||(i.stopDown=Mo),super(i),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let i=1;const a=this.targetPointers[0],r=this.targetPointers[1],u=a.clientX-r.clientX,h=a.clientY-r.clientY,d=Math.sqrt(u*u+h*h);this.lastDistance_!==void 0&&(i=this.lastDistance_/d),this.lastDistance_=d;const g=t.map,m=g.getView();i!=1&&(this.lastScaleDelta_=i),this.anchor_=g.getCoordinateFromPixelInternal(g.getEventPixel(bf(this.targetPointers))),g.render(),m.adjustResolutionInternal(i,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const a=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return a.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const i=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}return!1}}function sS(l){l=l||{};const t=new Xn,i=new Xb(-.005,.05,100);return(l.altShiftDragRotate!==void 0?l.altShiftDragRotate:!0)&&t.push(new kb),(l.doubleClickZoom!==void 0?l.doubleClickZoom:!0)&&t.push(new Hb({delta:l.zoomDelta,duration:l.zoomDuration})),(l.dragPan!==void 0?l.dragPan:!0)&&t.push(new Fb({onFocusOnly:l.onFocusOnly,kinetic:i})),(l.pinchRotate!==void 0?l.pinchRotate:!0)&&t.push(new nS),(l.pinchZoom!==void 0?l.pinchZoom:!0)&&t.push(new iS({duration:l.zoomDuration})),(l.keyboard!==void 0?l.keyboard:!0)&&(t.push(new Jb),t.push(new tS({delta:l.zoomDelta,duration:l.zoomDuration}))),(l.mouseWheelZoom!==void 0?l.mouseWheelZoom:!0)&&t.push(new eS({onFocusOnly:l.onFocusOnly,duration:l.zoomDuration})),(l.shiftDragZoom!==void 0?l.shiftDragZoom:!0)&&t.push(new $b({duration:l.zoomDuration})),t}const zt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class Cy extends Yn{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const i=Object.assign({},t);typeof t.properties=="object"&&(delete i.properties,Object.assign(i,t.properties)),i[zt.OPACITY]=t.opacity!==void 0?t.opacity:1,Ht(typeof i[zt.OPACITY]=="number","Layer opacity must be a number"),i[zt.VISIBLE]=t.visible!==void 0?t.visible:!0,i[zt.Z_INDEX]=t.zIndex,i[zt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[zt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[zt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[zt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,this.setProperties(i),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const i=this.state_||{layer:this,managed:t===void 0?!0:t},a=this.getZIndex();return i.opacity=$t(Math.round(this.getOpacity()*100)/100,0,1),i.visible=this.getVisible(),i.extent=this.getExtent(),i.zIndex=a===void 0&&!i.managed?1/0:a,i.maxResolution=this.getMaxResolution(),i.minResolution=Math.max(this.getMinResolution(),0),i.minZoom=this.getMinZoom(),i.maxZoom=this.getMaxZoom(),this.state_=i,i}getLayersArray(t){return At()}getLayerStatesArray(t){return At()}getExtent(){return this.get(zt.EXTENT)}getMaxResolution(){return this.get(zt.MAX_RESOLUTION)}getMinResolution(){return this.get(zt.MIN_RESOLUTION)}getMinZoom(){return this.get(zt.MIN_ZOOM)}getMaxZoom(){return this.get(zt.MAX_ZOOM)}getOpacity(){return this.get(zt.OPACITY)}getSourceState(){return At()}getVisible(){return this.get(zt.VISIBLE)}getZIndex(){return this.get(zt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(zt.EXTENT,t)}setMaxResolution(t){this.set(zt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(zt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(zt.MAX_ZOOM,t)}setMinZoom(t){this.set(zt.MIN_ZOOM,t)}setOpacity(t){Ht(typeof t=="number","Layer opacity must be a number"),this.set(zt.OPACITY,t)}setVisible(t){this.set(zt.VISIBLE,t)}setZIndex(t){this.set(zt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class _i extends pi{constructor(t,i){super(t),this.layer=i}}const Sh={LAYERS:"layers"};class oa extends Cy{constructor(t){t=t||{};const i=Object.assign({},t);delete i.layers;let a=t.layers;super(i),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Sh.LAYERS,this.handleLayersChanged_),a?Array.isArray(a)?a=new Xn(a.slice(),{unique:!0}):Ht(typeof a.getArray=="function","Expected `layers` to be an array or a `Collection`"):a=new Xn(void 0,{unique:!0}),this.setLayers(a)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(kt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(Ct(t,en.ADD,this.handleLayersAdd_,this),Ct(t,en.REMOVE,this.handleLayersRemove_,this));for(const a in this.listenerKeys_)this.listenerKeys_[a].forEach(kt);Oo(this.listenerKeys_);const i=t.getArray();for(let a=0,r=i.length;a<r;a++){const u=i[a];this.registerLayerListeners_(u),this.dispatchEvent(new _i("addlayer",u))}this.changed()}registerLayerListeners_(t){const i=[Ct(t,Tl.PROPERTYCHANGE,this.handleLayerChange_,this),Ct(t,dt.CHANGE,this.handleLayerChange_,this)];t instanceof oa&&i.push(Ct(t,"addlayer",this.handleLayerGroupAdd_,this),Ct(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[pe(t)]=i}handleLayerGroupAdd_(t){this.dispatchEvent(new _i("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new _i("removelayer",t.layer))}handleLayersAdd_(t){const i=t.element;this.registerLayerListeners_(i),this.dispatchEvent(new _i("addlayer",i)),this.changed()}handleLayersRemove_(t){const i=t.element,a=pe(i);this.listenerKeys_[a].forEach(kt),delete this.listenerKeys_[a],this.dispatchEvent(new _i("removelayer",i)),this.changed()}getLayers(){return this.get(Sh.LAYERS)}setLayers(t){const i=this.getLayers();if(i){const a=i.getArray();for(let r=0,u=a.length;r<u;++r)this.dispatchEvent(new _i("removelayer",a[r]))}this.set(Sh.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(i){i.getLayersArray(t)}),t}getLayerStatesArray(t){const i=t!==void 0?t:[],a=i.length;this.getLayers().forEach(function(h){h.getLayerStatesArray(i)});const r=this.getLayerState();let u=r.zIndex;!t&&r.zIndex===void 0&&(u=0);for(let h=a,d=i.length;h<d;h++){const g=i[h];g.opacity*=r.opacity,g.visible=g.visible&&r.visible,g.maxResolution=Math.min(g.maxResolution,r.maxResolution),g.minResolution=Math.max(g.minResolution,r.minResolution),g.minZoom=Math.max(g.minZoom,r.minZoom),g.maxZoom=Math.min(g.maxZoom,r.maxZoom),r.extent!==void 0&&(g.extent!==void 0?g.extent=qi(g.extent,r.extent):g.extent=r.extent),g.zIndex===void 0&&(g.zIndex=u)}return i}getSourceState(){return"ready"}}const vn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class Vo extends Cy{constructor(t){const i=Object.assign({},t);delete i.source,super(i),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(zt.SOURCE,this.handleSourcePropertyChange_);const a=t.source?t.source:null;this.setSource(a)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(zt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(kt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=Ct(t,dt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let i;const a=this.getMapInternal();!t&&a&&(t=a.getView()),t instanceof pn?i={viewState:t.getState(),extent:t.calculateExtent()}:i=t,!i.layerStatesArray&&a&&(i.layerStatesArray=a.getLayerGroup().getLayerStatesArray());let r;if(i.layerStatesArray){if(r=i.layerStatesArray.find(h=>h.layer===this),!r)return!1}else r=this.getLayerState();const u=this.getExtent();return Sf(r,i.viewState)&&(!u||Nl(u,i.extent))}getAttributions(t){var u;if(!this.isVisible(t))return[];const i=(u=this.getSource())==null?void 0:u.getAttributions();if(!i)return[];const a=t instanceof pn?t.getViewStateAndExtent():t;let r=i(a);return Array.isArray(r)||(r=[r]),r}render(t,i){const a=this.getRenderer();return a.prepareFrame(t)?(this.rendered=!0,a.renderFrame(t,i)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,i){}renderDeferred(t){const i=this.getRenderer();i&&i.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(zt.MAP,t)}getMapInternal(){return this.get(zt.MAP)}setMap(t){this.mapPrecomposeKey_&&(kt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(kt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Ct(t,vn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Ct(this,dt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const i=t.frameState.layerStatesArray,a=this.getLayerState(!1);Ht(!i.some(r=>r.layer===a.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),i.push(a)}setSource(t){this.set(zt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Sf(l,t){if(!l.visible)return!1;const i=t.resolution;if(i<l.minResolution||i>=l.maxResolution)return!1;const a=t.zoom;return a>l.minZoom&&a<=l.maxZoom}function My(l,t,i=0,a=l.length-1,r=aS){for(;a>i;){if(a-i>600){const g=a-i+1,m=t-i+1,_=Math.log(g),p=.5*Math.exp(2*_/3),E=.5*Math.sqrt(_*p*(g-p)/g)*(m-g/2<0?-1:1),R=Math.max(i,Math.floor(t-m*p/g+E)),x=Math.min(a,Math.floor(t+(g-m)*p/g+E));My(l,t,R,x,r)}const u=l[t];let h=i,d=a;for(fl(l,i,t),r(l[a],u)>0&&fl(l,i,a);h<d;){for(fl(l,h,d),h++,d--;r(l[h],u)<0;)h++;for(;r(l[d],u)>0;)d--}r(l[i],u)===0?fl(l,i,d):(d++,fl(l,d,a)),d<=t&&(i=d+1),t<=d&&(a=d-1)}}function fl(l,t,i){const a=l[t];l[t]=l[i],l[i]=a}function aS(l,t){return l<t?-1:l>t?1:0}class lS{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let i=this.data;const a=[];if(!ao(t,i))return a;const r=this.toBBox,u=[];for(;i;){for(let h=0;h<i.children.length;h++){const d=i.children[h],g=i.leaf?r(d):d;ao(t,g)&&(i.leaf?a.push(d):Rh(t,g)?this._all(d,a):u.push(d))}i=u.pop()}return a}collides(t){let i=this.data;if(!ao(t,i))return!1;const a=[];for(;i;){for(let r=0;r<i.children.length;r++){const u=i.children[r],h=i.leaf?this.toBBox(u):u;if(ao(t,h)){if(i.leaf||Rh(t,h))return!0;a.push(u)}}i=a.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let a=0;a<t.length;a++)this.insert(t[a]);return this}let i=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=i;else if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const a=this.data;this.data=i,i=a}this._insert(i,this.data.height-i.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Ps([]),this}remove(t,i){if(!t)return this;let a=this.data;const r=this.toBBox(t),u=[],h=[];let d,g,m;for(;a||u.length;){if(a||(a=u.pop(),g=u[u.length-1],d=h.pop(),m=!0),a.leaf){const _=rS(t,a.children,i);if(_!==-1)return a.children.splice(_,1),u.push(a),this._condense(u),this}!m&&!a.leaf&&Rh(a,r)?(u.push(a),h.push(d),d=0,g=a,a=a.children[0]):g?(d++,a=g.children[d],m=!1):a=null}return this}toBBox(t){return t}compareMinX(t,i){return t.minX-i.minX}compareMinY(t,i){return t.minY-i.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){const a=[];for(;t;)t.leaf?i.push(...t.children):a.push(...t.children),t=a.pop();return i}_build(t,i,a,r){const u=a-i+1;let h=this._maxEntries,d;if(u<=h)return d=Ps(t.slice(i,a+1)),Bs(d,this.toBBox),d;r||(r=Math.ceil(Math.log(u)/Math.log(h)),h=Math.ceil(u/Math.pow(h,r-1))),d=Ps([]),d.leaf=!1,d.height=r;const g=Math.ceil(u/h),m=g*Math.ceil(Math.sqrt(h));h_(t,i,a,m,this.compareMinX);for(let _=i;_<=a;_+=m){const p=Math.min(_+m-1,a);h_(t,_,p,g,this.compareMinY);for(let E=_;E<=p;E+=g){const R=Math.min(E+g-1,p);d.children.push(this._build(t,E,R,r-1))}}return Bs(d,this.toBBox),d}_chooseSubtree(t,i,a,r){for(;r.push(i),!(i.leaf||r.length-1===a);){let u=1/0,h=1/0,d;for(let g=0;g<i.children.length;g++){const m=i.children[g],_=Th(m),p=cS(t,m)-_;p<h?(h=p,u=_<u?_:u,d=m):p===h&&_<u&&(u=_,d=m)}i=d||i.children[0]}return i}_insert(t,i,a){const r=a?t:this.toBBox(t),u=[],h=this._chooseSubtree(r,this.data,i,u);for(h.children.push(t),yl(h,r);i>=0&&u[i].children.length>this._maxEntries;)this._split(u,i),i--;this._adjustParentBBoxes(r,u,i)}_split(t,i){const a=t[i],r=a.children.length,u=this._minEntries;this._chooseSplitAxis(a,u,r);const h=this._chooseSplitIndex(a,u,r),d=Ps(a.children.splice(h,a.children.length-h));d.height=a.height,d.leaf=a.leaf,Bs(a,this.toBBox),Bs(d,this.toBBox),i?t[i-1].children.push(d):this._splitRoot(a,d)}_splitRoot(t,i){this.data=Ps([t,i]),this.data.height=t.height+1,this.data.leaf=!1,Bs(this.data,this.toBBox)}_chooseSplitIndex(t,i,a){let r,u=1/0,h=1/0;for(let d=i;d<=a-i;d++){const g=_l(t,0,d,this.toBBox),m=_l(t,d,a,this.toBBox),_=hS(g,m),p=Th(g)+Th(m);_<u?(u=_,r=d,h=p<h?p:h):_===u&&p<h&&(h=p,r=d)}return r||a-i}_chooseSplitAxis(t,i,a){const r=t.leaf?this.compareMinX:oS,u=t.leaf?this.compareMinY:uS,h=this._allDistMargin(t,i,a,r),d=this._allDistMargin(t,i,a,u);h<d&&t.children.sort(r)}_allDistMargin(t,i,a,r){t.children.sort(r);const u=this.toBBox,h=_l(t,0,i,u),d=_l(t,a-i,a,u);let g=so(h)+so(d);for(let m=i;m<a-i;m++){const _=t.children[m];yl(h,t.leaf?u(_):_),g+=so(h)}for(let m=a-i-1;m>=i;m--){const _=t.children[m];yl(d,t.leaf?u(_):_),g+=so(d)}return g}_adjustParentBBoxes(t,i,a){for(let r=a;r>=0;r--)yl(i[r],t)}_condense(t){for(let i=t.length-1,a;i>=0;i--)t[i].children.length===0?i>0?(a=t[i-1].children,a.splice(a.indexOf(t[i]),1)):this.clear():Bs(t[i],this.toBBox)}}function rS(l,t,i){if(!i)return t.indexOf(l);for(let a=0;a<t.length;a++)if(i(l,t[a]))return a;return-1}function Bs(l,t){_l(l,0,l.children.length,t,l)}function _l(l,t,i,a,r){r||(r=Ps(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let u=t;u<i;u++){const h=l.children[u];yl(r,l.leaf?a(h):h)}return r}function yl(l,t){return l.minX=Math.min(l.minX,t.minX),l.minY=Math.min(l.minY,t.minY),l.maxX=Math.max(l.maxX,t.maxX),l.maxY=Math.max(l.maxY,t.maxY),l}function oS(l,t){return l.minX-t.minX}function uS(l,t){return l.minY-t.minY}function Th(l){return(l.maxX-l.minX)*(l.maxY-l.minY)}function so(l){return l.maxX-l.minX+(l.maxY-l.minY)}function cS(l,t){return(Math.max(t.maxX,l.maxX)-Math.min(t.minX,l.minX))*(Math.max(t.maxY,l.maxY)-Math.min(t.minY,l.minY))}function hS(l,t){const i=Math.max(l.minX,t.minX),a=Math.max(l.minY,t.minY),r=Math.min(l.maxX,t.maxX),u=Math.min(l.maxY,t.maxY);return Math.max(0,r-i)*Math.max(0,u-a)}function Rh(l,t){return l.minX<=t.minX&&l.minY<=t.minY&&t.maxX<=l.maxX&&t.maxY<=l.maxY}function ao(l,t){return t.minX<=l.maxX&&t.minY<=l.maxY&&t.maxX>=l.minX&&t.maxY>=l.minY}function Ps(l){return{children:l,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function h_(l,t,i,a,r){const u=[t,i];for(;u.length;){if(i=u.pop(),t=u.pop(),i-t<=a)continue;const h=t+Math.ceil((i-t)/a/2)*a;My(l,h,t,i,r),u.push(t,h,h,i)}}const Tf=[NaN,NaN,NaN,0];let xh;function fS(){return xh||(xh=Ne(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),xh}const dS=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,gS=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,mS=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,_S=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function lo(l,t){return l.endsWith("%")?Number(l.substring(0,l.length-1))/t:Number(l)}function Sl(l){throw new Error('failed to parse "'+l+'" as color')}function Oy(l){if(l.toLowerCase().startsWith("rgb")){const u=l.match(gS)||l.match(dS)||l.match(mS);if(u){const h=u[4],d=100/255;return[$t(lo(u[1],d)+.5|0,0,255),$t(lo(u[2],d)+.5|0,0,255),$t(lo(u[3],d)+.5|0,0,255),h!==void 0?$t(lo(h,100),0,1):1]}Sl(l)}if(l.startsWith("#")){if(_S.test(l)){const u=l.substring(1),h=u.length<=4?1:2,d=[0,0,0,255];for(let g=0,m=u.length;g<m;g+=h){let _=parseInt(u.substring(g,g+h),16);h===1&&(_+=_<<4),d[g/h]=_}return d[3]=d[3]/255,d}Sl(l)}const t=fS();t.fillStyle="#abcdef";let i=t.fillStyle;t.fillStyle=l,t.fillStyle===i&&(t.fillStyle="#fedcba",i=t.fillStyle,t.fillStyle=l,t.fillStyle===i&&Sl(l));const a=t.fillStyle;if(a.startsWith("#")||a.startsWith("rgba"))return Oy(a);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);const r=Array.from(t.getImageData(0,0,1,1).data);return r[3]=Do(r[3]/255,3),r}function yS(l){return typeof l=="string"?l:xf(l)}const pS=1024,dl={};let wh=0;function vS(l){if(l.length===4)return l;const t=l.slice();return t[3]=1,t}function Ah(l){return l>.0031308?Math.pow(l,1/2.4)*269.025-14.025:l*3294.6}function Ch(l){return l>.2068965?Math.pow(l,3):(l-4/29)*(108/841)}function Mh(l){return l>10.314724?Math.pow((l+14.025)/269.025,2.4):l/3294.6}function Oh(l){return l>.0088564?Math.pow(l,1/3):l/(108/841)+4/29}function f_(l){const t=Mh(l[0]),i=Mh(l[1]),a=Mh(l[2]),r=Oh(t*.222488403+i*.716873169+a*.06060791),u=500*(Oh(t*.452247074+i*.399439023+a*.148375274)-r),h=200*(r-Oh(t*.016863605+i*.117638439+a*.865350722)),d=Math.atan2(h,u)*(180/Math.PI);return[116*r-16,Math.sqrt(u*u+h*h),d<0?d+360:d,l[3]]}function ES(l){const t=(l[0]+16)/116,i=l[1],a=l[2]*Math.PI/180,r=Ch(t),u=Ch(t+i/500*Math.cos(a)),h=Ch(t-i/200*Math.sin(a)),d=Ah(u*3.021973625-r*1.617392459-h*.404875592),g=Ah(u*-.943766287+r*1.916279586+h*.027607165),m=Ah(u*.069407491-r*.22898585+h*1.159737864);return[$t(d+.5|0,0,255),$t(g+.5|0,0,255),$t(m+.5|0,0,255),l[3]]}function Rf(l){if(l==="none")return Tf;if(dl.hasOwnProperty(l))return dl[l];if(wh>=pS){let i=0;for(const a in dl)(i++&3)===0&&(delete dl[a],--wh)}const t=Oy(l);t.length!==4&&Sl(l);for(const i of t)isNaN(i)&&Sl(l);return dl[l]=t,++wh,t}function sa(l){return Array.isArray(l)?l:Rf(l)}function xf(l){let t=l[0];t!=(t|0)&&(t=t+.5|0);let i=l[1];i!=(i|0)&&(i=i+.5|0);let a=l[2];a!=(a|0)&&(a=a+.5|0);const r=l[3]===void 0?1:Math.round(l[3]*1e3)/1e3;return"rgba("+t+","+i+","+a+","+r+")"}function d_(l){return l[0]>0&&l[1]>0}function bS(l,t,i){return i===void 0&&(i=[0,0]),i[0]=l[0]*t+.5|0,i[1]=l[1]*t+.5|0,i}function De(l,t){return Array.isArray(l)?l:(t===void 0?t=[l,l]:(t[0]=l,t[1]=l),t)}let Qi=0;const Se=1<<Qi++,bt=1<<Qi++,Oe=1<<Qi++,un=1<<Qi++,Fi=1<<Qi++,pl=1<<Qi++,ro=Math.pow(2,Qi)-1,wf={[Se]:"boolean",[bt]:"number",[Oe]:"string",[un]:"color",[Fi]:"number[]",[pl]:"size"},SS=Object.keys(wf).map(Number).sort(Ao);function TS(l){return l in wf}function vl(l){const t=[];for(const i of SS)El(l,i)&&t.push(wf[i]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function El(l,t){return(l&t)===t}function fi(l,t){return l===t}class ie{constructor(t,i){if(!TS(t))throw new Error(`literal expressions must have a specific type, got ${vl(t)}`);this.type=t,this.value=i}}class RS{constructor(t,i,...a){this.type=t,this.operator=i,this.args=a}}function Ly(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function ge(l,t,i){switch(typeof l){case"boolean":{if(fi(t,Oe))return new ie(Oe,l?"true":"false");if(!El(t,Se))throw new Error(`got a boolean, but expected ${vl(t)}`);return new ie(Se,l)}case"number":{if(fi(t,pl))return new ie(pl,De(l));if(fi(t,Se))return new ie(Se,!!l);if(fi(t,Oe))return new ie(Oe,l.toString());if(!El(t,bt))throw new Error(`got a number, but expected ${vl(t)}`);return new ie(bt,l)}case"string":{if(fi(t,un))return new ie(un,Rf(l));if(fi(t,Se))return new ie(Se,!!l);if(!El(t,Oe))throw new Error(`got a string, but expected ${vl(t)}`);return new ie(Oe,l)}}if(!Array.isArray(l))throw new Error("expression must be an array or a primitive value");if(l.length===0)throw new Error("empty expression");if(typeof l[0]=="string")return US(l,t,i);for(const a of l)if(typeof a!="number")throw new Error("expected an array of numbers");if(fi(t,pl)){if(l.length!==2)throw new Error(`expected an array of two values for a size, got ${l.length}`);return new ie(pl,l)}if(fi(t,un)){if(l.length===3)return new ie(un,[...l,1]);if(l.length===4)return new ie(un,l);throw new Error(`expected an array of 3 or 4 values for a color, got ${l.length}`)}if(!El(t,Fi))throw new Error(`got an array of numbers, but expected ${vl(t)}`);return new ie(Fi,l)}const j={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},xS={[j.Get]:ut(ft(1,1/0),g_),[j.Var]:ut(ft(1,1),wS),[j.Has]:ut(ft(1,1/0),g_),[j.Id]:ut(AS,Vs),[j.Concat]:ut(ft(2,1/0),Lt(Oe)),[j.GeometryType]:ut(CS,Vs),[j.LineMetric]:ut(Vs),[j.Resolution]:ut(Lh,Vs),[j.Zoom]:ut(Lh,Vs),[j.Time]:ut(Lh,Vs),[j.Any]:ut(ft(2,1/0),Lt(Se)),[j.All]:ut(ft(2,1/0),Lt(Se)),[j.Not]:ut(ft(1,1),Lt(Se)),[j.Equal]:ut(ft(2,2),Lt(ro)),[j.NotEqual]:ut(ft(2,2),Lt(ro)),[j.GreaterThan]:ut(ft(2,2),Lt(bt)),[j.GreaterThanOrEqualTo]:ut(ft(2,2),Lt(bt)),[j.LessThan]:ut(ft(2,2),Lt(bt)),[j.LessThanOrEqualTo]:ut(ft(2,2),Lt(bt)),[j.Multiply]:ut(ft(2,1/0),m_),[j.Coalesce]:ut(ft(2,1/0),m_),[j.Divide]:ut(ft(2,2),Lt(bt)),[j.Add]:ut(ft(2,1/0),Lt(bt)),[j.Subtract]:ut(ft(2,2),Lt(bt)),[j.Clamp]:ut(ft(3,3),Lt(bt)),[j.Mod]:ut(ft(2,2),Lt(bt)),[j.Pow]:ut(ft(2,2),Lt(bt)),[j.Abs]:ut(ft(1,1),Lt(bt)),[j.Floor]:ut(ft(1,1),Lt(bt)),[j.Ceil]:ut(ft(1,1),Lt(bt)),[j.Round]:ut(ft(1,1),Lt(bt)),[j.Sin]:ut(ft(1,1),Lt(bt)),[j.Cos]:ut(ft(1,1),Lt(bt)),[j.Atan]:ut(ft(1,2),Lt(bt)),[j.Sqrt]:ut(ft(1,1),Lt(bt)),[j.Match]:ut(ft(4,1/0),__,OS),[j.Between]:ut(ft(3,3),Lt(bt)),[j.Interpolate]:ut(ft(6,1/0),__,LS),[j.Case]:ut(ft(3,1/0),MS,DS),[j.In]:ut(ft(2,2),NS),[j.Number]:ut(ft(1,1/0),Lt(ro)),[j.String]:ut(ft(1,1/0),Lt(ro)),[j.Array]:ut(ft(1,1/0),Lt(bt)),[j.Color]:ut(ft(1,4),Lt(bt)),[j.Band]:ut(ft(1,3),Lt(bt)),[j.Palette]:ut(ft(2,2),zS),[j.ToString]:ut(ft(1,1),Lt(Se|bt|Oe|un))};function g_(l,t,i){const a=l.length-1,r=new Array(a);for(let u=0;u<a;++u){const h=l[u+1];switch(typeof h){case"number":{r[u]=new ie(bt,h);break}case"string":{r[u]=new ie(Oe,h);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${h}`)}u===0&&i.properties.add(String(h))}return r}function wS(l,t,i){const a=l[1];if(typeof a!="string")throw new Error("expected a string argument for var operation");return i.variables.add(a),[new ie(Oe,a)]}function AS(l,t,i){i.featureId=!0}function CS(l,t,i){i.geometryType=!0}function Lh(l,t,i){i.mapState=!0}function Vs(l,t,i){const a=l[0];if(l.length!==1)throw new Error(`expected no arguments for ${a} operation`);return[]}function ft(l,t){return function(i,a,r){const u=i[0],h=i.length-1;if(l===t){if(h!==l){const d=l===1?"":"s";throw new Error(`expected ${l} argument${d} for ${u}, got ${h}`)}}else if(h<l||h>t){const d=t===1/0?`${l} or more`:`${l} to ${t}`;throw new Error(`expected ${d} arguments for ${u}, got ${h}`)}}}function m_(l,t,i){const a=l.length-1,r=new Array(a);for(let u=0;u<a;++u){const h=ge(l[u+1],t,i);r[u]=h}return r}function Lt(l){return function(t,i,a){const r=t.length-1,u=new Array(r);for(let h=0;h<r;++h){const d=ge(t[h+1],l,a);u[h]=d}return u}}function MS(l,t,i){const a=l[0],r=l.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${a}, got ${r} instead`)}function __(l,t,i){const a=l[0],r=l.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${a}, got ${r} instead`)}function OS(l,t,i){const a=l.length-1,r=Oe|bt|Se,u=ge(l[1],r,i),h=ge(l[l.length-1],t,i),d=new Array(a-2);for(let g=0;g<a-2;g+=2){try{const m=ge(l[g+2],u.type,i);d[g]=m}catch(m){throw new Error(`failed to parse argument ${g+1} of match expression: ${m.message}`)}try{const m=ge(l[g+3],h.type,i);d[g+1]=m}catch(m){throw new Error(`failed to parse argument ${g+2} of match expression: ${m.message}`)}}return[u,...d,h]}function LS(l,t,i){const a=l[1];let r;switch(a[0]){case"linear":r=1;break;case"exponential":const g=a[1];if(typeof g!="number"||g<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(g)} instead`);r=g;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(a)}`)}const u=new ie(bt,r);let h;try{h=ge(l[2],bt,i)}catch(g){throw new Error(`failed to parse argument 1 in interpolate expression: ${g.message}`)}const d=new Array(l.length-3);for(let g=0;g<d.length;g+=2){try{const m=ge(l[g+3],bt,i);d[g]=m}catch(m){throw new Error(`failed to parse argument ${g+2} for interpolate expression: ${m.message}`)}try{const m=ge(l[g+4],t,i);d[g+1]=m}catch(m){throw new Error(`failed to parse argument ${g+3} for interpolate expression: ${m.message}`)}}return[u,h,...d]}function DS(l,t,i){const a=ge(l[l.length-1],t,i),r=new Array(l.length-1);for(let u=0;u<r.length-1;u+=2){try{const h=ge(l[u+1],Se,i);r[u]=h}catch(h){throw new Error(`failed to parse argument ${u} of case expression: ${h.message}`)}try{const h=ge(l[u+2],a.type,i);r[u+1]=h}catch(h){throw new Error(`failed to parse argument ${u+1} of case expression: ${h.message}`)}}return r[r.length-1]=a,r}function NS(l,t,i){let a=l[2];if(!Array.isArray(a))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof a[0]=="string"){if(a[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(a[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');a=a[1],r=Oe}else r=bt;const u=new Array(a.length);for(let d=0;d<u.length;d++)try{const g=ge(a[d],r,i);u[d]=g}catch(g){throw new Error(`failed to parse haystack item ${d} for "in" expression: ${g.message}`)}return[ge(l[1],r,i),...u]}function zS(l,t,i){let a;try{a=ge(l[1],bt,i)}catch(h){throw new Error(`failed to parse first argument in palette expression: ${h.message}`)}const r=l[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const u=new Array(r.length);for(let h=0;h<u.length;h++){let d;try{d=ge(r[h],un,i)}catch(g){throw new Error(`failed to parse color at index ${h} in palette expression: ${g.message}`)}if(!(d instanceof ie))throw new Error(`the palette color at index ${h} must be a literal value`);u[h]=d}return[a,...u]}function ut(...l){return function(t,i,a){const r=t[0];let u;for(let h=0;h<l.length;h++){const d=l[h](t,i,a);if(h==l.length-1){if(!d)throw new Error("expected last argument validator to return the parsed args");u=d}}return new RS(i,r,...u)}}function US(l,t,i){const a=l[0],r=xS[a];if(!r)throw new Error(`unknown operator: ${a}`);return r(l,t,i)}function Dy(l){if(!l)return"";const t=l.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Dy(l.getGeometries()[0]);default:return""}}function Ny(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Hn(l,t,i){const a=ge(l,t,i);return cn(a)}function cn(l,t){if(l instanceof ie){if(l.type===un&&typeof l.value=="string"){const a=Rf(l.value);return function(){return a}}return function(){return l.value}}const i=l.operator;switch(i){case j.Number:case j.String:case j.Coalesce:return jS(l);case j.Get:case j.Var:case j.Has:return GS(l);case j.Id:return a=>a.featureId;case j.GeometryType:return a=>a.geometryType;case j.Concat:{const a=l.args.map(r=>cn(r));return r=>"".concat(...a.map(u=>u(r).toString()))}case j.Resolution:return a=>a.resolution;case j.Any:case j.All:case j.Between:case j.In:case j.Not:return XS(l);case j.Equal:case j.NotEqual:case j.LessThan:case j.LessThanOrEqualTo:case j.GreaterThan:case j.GreaterThanOrEqualTo:return IS(l);case j.Multiply:case j.Divide:case j.Add:case j.Subtract:case j.Clamp:case j.Mod:case j.Pow:case j.Abs:case j.Floor:case j.Ceil:case j.Round:case j.Sin:case j.Cos:case j.Atan:case j.Sqrt:return YS(l);case j.Case:return HS(l);case j.Match:return BS(l);case j.Interpolate:return VS(l);case j.ToString:return ZS(l);default:throw new Error(`Unsupported operator ${i}`)}}function jS(l,t){const i=l.operator,a=l.args.length,r=new Array(a);for(let u=0;u<a;++u)r[u]=cn(l.args[u]);switch(i){case j.Coalesce:return u=>{for(let h=0;h<a;++h){const d=r[h](u);if(typeof d<"u"&&d!==null)return d}throw new Error("Expected one of the values to be non-null")};case j.Number:case j.String:return u=>{for(let h=0;h<a;++h){const d=r[h](u);if(typeof d===i)return d}throw new Error(`Expected one of the values to be a ${i}`)};default:throw new Error(`Unsupported assertion operator ${i}`)}}function GS(l,t){const a=l.args[0].value;switch(l.operator){case j.Get:return r=>{const u=l.args;let h=r.properties[a];for(let d=1,g=u.length;d<g;++d){const _=u[d].value;h=h[_]}return h};case j.Var:return r=>r.variables[a];case j.Has:return r=>{const u=l.args;if(!(a in r.properties))return!1;let h=r.properties[a];for(let d=1,g=u.length;d<g;++d){const _=u[d].value;if(!h||!Object.hasOwn(h,_))return!1;h=h[_]}return!0};default:throw new Error(`Unsupported accessor operator ${l.operator}`)}}function IS(l,t){const i=l.operator,a=cn(l.args[0]),r=cn(l.args[1]);switch(i){case j.Equal:return u=>a(u)===r(u);case j.NotEqual:return u=>a(u)!==r(u);case j.LessThan:return u=>a(u)<r(u);case j.LessThanOrEqualTo:return u=>a(u)<=r(u);case j.GreaterThan:return u=>a(u)>r(u);case j.GreaterThanOrEqualTo:return u=>a(u)>=r(u);default:throw new Error(`Unsupported comparison operator ${i}`)}}function XS(l,t){const i=l.operator,a=l.args.length,r=new Array(a);for(let u=0;u<a;++u)r[u]=cn(l.args[u]);switch(i){case j.Any:return u=>{for(let h=0;h<a;++h)if(r[h](u))return!0;return!1};case j.All:return u=>{for(let h=0;h<a;++h)if(!r[h](u))return!1;return!0};case j.Between:return u=>{const h=r[0](u),d=r[1](u),g=r[2](u);return h>=d&&h<=g};case j.In:return u=>{const h=r[0](u);for(let d=1;d<a;++d)if(h===r[d](u))return!0;return!1};case j.Not:return u=>!r[0](u);default:throw new Error(`Unsupported logical operator ${i}`)}}function YS(l,t){const i=l.operator,a=l.args.length,r=new Array(a);for(let u=0;u<a;++u)r[u]=cn(l.args[u]);switch(i){case j.Multiply:return u=>{let h=1;for(let d=0;d<a;++d)h*=r[d](u);return h};case j.Divide:return u=>r[0](u)/r[1](u);case j.Add:return u=>{let h=0;for(let d=0;d<a;++d)h+=r[d](u);return h};case j.Subtract:return u=>r[0](u)-r[1](u);case j.Clamp:return u=>{const h=r[0](u),d=r[1](u);if(h<d)return d;const g=r[2](u);return h>g?g:h};case j.Mod:return u=>r[0](u)%r[1](u);case j.Pow:return u=>Math.pow(r[0](u),r[1](u));case j.Abs:return u=>Math.abs(r[0](u));case j.Floor:return u=>Math.floor(r[0](u));case j.Ceil:return u=>Math.ceil(r[0](u));case j.Round:return u=>Math.round(r[0](u));case j.Sin:return u=>Math.sin(r[0](u));case j.Cos:return u=>Math.cos(r[0](u));case j.Atan:return a===2?u=>Math.atan2(r[0](u),r[1](u)):u=>Math.atan(r[0](u));case j.Sqrt:return u=>Math.sqrt(r[0](u));default:throw new Error(`Unsupported numeric operator ${i}`)}}function HS(l,t){const i=l.args.length,a=new Array(i);for(let r=0;r<i;++r)a[r]=cn(l.args[r]);return r=>{for(let u=0;u<i-1;u+=2)if(a[u](r))return a[u+1](r);return a[i-1](r)}}function BS(l,t){const i=l.args.length,a=new Array(i);for(let r=0;r<i;++r)a[r]=cn(l.args[r]);return r=>{const u=a[0](r);for(let h=1;h<i-1;h+=2)if(u===a[h](r))return a[h+1](r);return a[i-1](r)}}function VS(l,t){const i=l.args.length,a=new Array(i);for(let r=0;r<i;++r)a[r]=cn(l.args[r]);return r=>{const u=a[0](r),h=a[1](r);let d,g;for(let m=2;m<i;m+=2){const _=a[m](r);let p=a[m+1](r);const E=Array.isArray(p);if(E&&(p=vS(p)),_>=h)return m===2?p:E?qS(u,h,d,g,_,p):bl(u,h,d,g,_,p);d=_,g=p}return g}}function ZS(l,t){const i=l.operator,a=l.args.length,r=new Array(a);for(let u=0;u<a;++u)r[u]=cn(l.args[u]);switch(i){case j.ToString:return u=>{const h=r[0](u);return l.args[0].type===un?xf(h):h.toString()};default:throw new Error(`Unsupported convert operator ${i}`)}}function bl(l,t,i,a,r,u){const h=r-i;if(h===0)return a;const d=t-i,g=l===1?d/h:(Math.pow(l,d)-1)/(Math.pow(l,h)-1);return a+g*(u-a)}function qS(l,t,i,a,r,u){if(r-i===0)return a;const d=f_(a),g=f_(u);let m=g[2]-d[2];m>180?m-=360:m<-180&&(m+=360);const _=[bl(l,t,i,d[0],r,g[0]),bl(l,t,i,d[1],r,g[1]),d[2]+bl(l,t,i,0,r,m),bl(l,t,i,a[3],r,u[3])];return ES(_)}const St={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function KS(l,t,i){const a=l;let r=!0,u=!1,h=!1;const d=[go(a,dt.LOAD,function(){h=!0,u||t()})];return a.src&&k_?(u=!0,a.decode().then(function(){r&&t()}).catch(function(g){r&&(h?t():i())})):d.push(go(a,dt.ERROR,i)),function(){r=!1,d.forEach(kt)}}function PS(l,t){return new Promise((i,a)=>{function r(){h(),i(l)}function u(){h(),a(new Error("Image load error"))}function h(){l.removeEventListener("load",r),l.removeEventListener("error",u)}l.addEventListener("load",r),l.addEventListener("error",u)})}function FS(l,t){return t&&(l.src=t),l.src&&k_?new Promise((i,a)=>l.decode().then(()=>i(l)).catch(r=>l.complete&&l.width?i(l):a(r))):PS(l)}class kS{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const i in this.cache_){const a=this.cache_[i];(t++&3)===0&&!a.hasListener()&&(delete this.cache_[i],delete this.patternCache_[i],--this.cacheSize_)}}}get(t,i,a){const r=Dh(t,i,a);return r in this.cache_?this.cache_[r]:null}getPattern(t,i,a){const r=Dh(t,i,a);return r in this.patternCache_?this.patternCache_[r]:null}set(t,i,a,r,u){const h=Dh(t,i,a),d=h in this.cache_;this.cache_[h]=r,u&&(r.getImageState()===St.IDLE&&r.load(),r.getImageState()===St.LOADING?r.ready().then(()=>{this.patternCache_[h]=bo().createPattern(r.getImage(1),"repeat")}):this.patternCache_[h]=bo().createPattern(r.getImage(1),"repeat")),d||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function Dh(l,t,i){const a=i?sa(i):"null";return t+":"+l+":"+a}const nn=new kS;let gl=null;class zy extends Lo{constructor(t,i,a,r,u){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=a,this.canvas_={},this.color_=u,this.imageState_=r===void 0?St.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=i,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===St.LOADED){gl||(gl=Ne(1,1,void 0,{willReadFrequently:!0})),gl.drawImage(this.image_,0,0);try{gl.getImageData(0,0,1,1),this.tainted_=!1}catch{gl=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(dt.CHANGE)}handleImageError_(){this.imageState_=St.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=St.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],i=this.size_[1],a=Ne(t,i);a.fillRect(0,0,t,i),this.hitDetectionImage_=a.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===St.IDLE){this.image_||this.initializeImage_(),this.imageState_=St.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&FS(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==St.LOADED)return;const i=this.image_,a=Ne(Math.ceil(i.width*t),Math.ceil(i.height*t)),r=a.canvas;a.scale(t,t),a.drawImage(i,0,0),a.globalCompositeOperation="multiply",a.fillStyle=yS(this.color_),a.fillRect(0,0,r.width/t,r.height/t),a.globalCompositeOperation="destination-in",a.drawImage(i,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===St.LOADED||this.imageState_===St.ERROR)t();else{const i=()=>{(this.imageState_===St.LOADED||this.imageState_===St.ERROR)&&(this.removeEventListener(dt.CHANGE,i),t())};this.addEventListener(dt.CHANGE,i)}})),this.ready_}}function Af(l,t,i,a,r,u){let h=t===void 0?void 0:nn.get(t,i,r);return h||(h=new zy(l,l&&"src"in l?l.src||void 0:t,i,a,r),nn.set(t,i,r,h,u)),u&&h&&!nn.getPattern(t,i,r)&&nn.set(t,i,r,h,u),h}function y_(l){return l?Array.isArray(l)?xf(l):typeof l=="object"&&"src"in l?QS(l):l:null}function QS(l){if(!l.offset||!l.size)return nn.getPattern(l.src,"anonymous",l.color);const t=l.src+":"+l.offset,i=nn.getPattern(t,void 0,l.color);if(i)return i;const a=nn.get(l.src,"anonymous",null);if(a.getImageState()!==St.LOADED)return null;const r=Ne(l.size[0],l.size[1]);return r.drawImage(a.getImage(1),l.offset[0],l.offset[1],l.size[0],l.size[1],0,0,l.size[0],l.size[1]),Af(r.canvas,t,void 0,St.LOADED,l.color,!0),nn.getPattern(t,void 0,l.color)}const p_="#000",v_="round",E_="round",WS=10,$S="#000",JS=1,tT=new Yn;class Zo{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=De(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Zo({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return At()}getImage(t){return At()}getHitDetectionImage(){return At()}getPixelRatio(t){return 1}getImageState(){return At()}getImageSize(){return At()}getOrigin(){return At()}getSize(){return At()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=De(t)}listenImageChange(t){At()}load(){At()}unlistenImageChange(t){At()}ready(){return Promise.resolve()}}class qo extends Zo{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?St.LOADING:St.LOADED,this.imageState_===St.LOADING&&this.ready().then(()=>this.imageState_=St.LOADED),this.render()}clone(){const t=this.getScale(),i=new qo({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i}getAnchor(){const t=this.size_,i=this.getDisplacement(),a=this.getScaleArray();return[t[0]/2-i[0]/a[0],t[1]/2+i[1]/a[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){var u,h;const i=(u=this.fill_)==null?void 0:u.getKey(),a=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${i}`+Object.values(this.renderOptions_).join(",");let r=(h=nn.get(a,null,null))==null?void 0:h.getImage(1);if(!r){const d=this.renderOptions_,g=Math.ceil(d.size*t),m=Ne(g,g);this.draw_(d,m,t),r=m.canvas,nn.set(a,null,null,new zy(r,void 0,null,St.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,i,a){if(i===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return i;let r=this.radius,u=this.radius2_===void 0?r:this.radius2_;if(r<u){const J=r;r=u,u=J}const h=this.radius2_===void 0?this.points_:this.points_*2,d=2*Math.PI/h,g=u*Math.sin(d),m=Math.sqrt(u*u-g*g),_=r-m,p=Math.sqrt(g*g+_*_),E=p/g;if(t==="miter"&&E<=a)return E*i;const R=i/2/E,x=i/2*(_/p),O=Math.sqrt((r+R)*(r+R)+x*x)-r;if(this.radius2_===void 0||t==="bevel")return O*2;const I=r*Math.sin(d),B=Math.sqrt(r*r-I*I),q=u-B,z=Math.sqrt(I*I+q*q)/I;if(z<=a){const J=z*i/2-u-r;return 2*Math.max(O,J)}return O*2}createRenderOptions(){let t=v_,i=E_,a=0,r=null,u=0,h,d=0;this.stroke_&&(h=y_(this.stroke_.getColor()??$S),d=this.stroke_.getWidth()??JS,r=this.stroke_.getLineDash(),u=this.stroke_.getLineDashOffset()??0,i=this.stroke_.getLineJoin()??E_,t=this.stroke_.getLineCap()??v_,a=this.stroke_.getMiterLimit()??WS);const g=this.calculateLineJoinSize_(i,d,a),m=Math.max(this.radius,this.radius2_||0),_=Math.ceil(2*m+g);return{strokeStyle:h,strokeWidth:d,size:_,lineCap:t,lineDash:r,lineDashOffset:u,lineJoin:i,miterLimit:a}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,i,a){if(i.scale(a,a),i.translate(t.size/2,t.size/2),this.createPath_(i),this.fill_){let r=this.fill_.getColor();r===null&&(r=p_),i.fillStyle=y_(r),i.fill()}t.strokeStyle&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineCap=t.lineCap,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke())}createHitDetectionCanvas_(t){let i;if(this.fill_){let a=this.fill_.getColor(),r=0;typeof a=="string"&&(a=sa(a)),a===null?r=1:Array.isArray(a)&&(r=a.length===4?a[3]:1),r===0&&(i=Ne(t.size,t.size),this.drawHitDetectionCanvas_(t,i))}return i?i.canvas:this.getImage(1)}createPath_(t){let i=this.points_;const a=this.radius;if(i===1/0)t.arc(0,0,a,0,2*Math.PI);else{const r=this.radius2_===void 0?a:this.radius2_;this.radius2_!==void 0&&(i*=2);const u=this.angle_-Math.PI/2,h=2*Math.PI/i;for(let d=0;d<i;d++){const g=u+d*h,m=d%2===0?a:r;t.lineTo(m*Math.cos(g),m*Math.sin(g))}t.closePath()}}drawHitDetectionCanvas_(t,i){i.translate(t.size/2,t.size/2),this.createPath_(i),i.fillStyle=p_,i.fill(),t.strokeStyle&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Ko extends qo{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),i=new Ko({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i}setRadius(t){this.radius=t,this.render()}}class Gl{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new Gl({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const i=Af(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));i.ready().then(()=>{this.patternImage_=null}),i.getImageState()===St.IDLE&&i.load(),i.getImageState()===St.LOADING&&(this.patternImage_=i)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?pe(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:sa(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function b_(l,t,i,a){return i!==void 0&&a!==void 0?[i/l,a/t]:i!==void 0?i/l:a!==void 0?a/t:1}class Cf extends Zo{constructor(t){t=t||{};const i=t.opacity!==void 0?t.opacity:1,a=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,u=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:i,rotation:a,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:u,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const h=t.img!==void 0?t.img:null;let d=t.src;Ht(!(d!==void 0&&h),"`image` and `src` cannot be provided at the same time"),(d===void 0||d.length===0)&&h&&(d=h.src||pe(h)),Ht(d!==void 0&&d.length>0,"A defined and non-empty `src` or `image` must be provided"),Ht(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let g;if(t.src!==void 0?g=St.IDLE:h!==void 0&&("complete"in h?h.complete?g=h.src?St.LOADED:St.IDLE:g=St.LOADING:g=St.LOADED),this.color_=t.color!==void 0?sa(t.color):null,this.iconImage_=Af(h,d,this.crossOrigin_,g,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let m,_;if(t.size)[m,_]=t.size;else{const p=this.getImage(1);if(p.width&&p.height)m=p.width,_=p.height;else if(p instanceof HTMLImageElement){this.initialOptions_=t;const E=()=>{if(this.unlistenImageChange(E),!this.initialOptions_)return;const R=this.iconImage_.getSize();this.setScale(b_(R[0],R[1],t.width,t.height))};this.listenImageChange(E);return}}m!==void 0&&this.setScale(b_(m,_,t.width,t.height))}}clone(){let t,i,a;return this.initialOptions_?(i=this.initialOptions_.width,a=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new Cf({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:i,height:a,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}const i=this.getDisplacement(),a=this.getScaleArray();return[t[0]-i[0]/a[0],t[1]+i[1]/a[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const i=this.getSize(),a=this.iconImage_.getSize();if(!i||!a)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=a[0]-i[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=a[1]-i[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==St.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==St.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(dt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(dt.CHANGE,t)}ready(){return this.iconImage_.ready()}}class Po{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new Po({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class Ki{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=S_,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new Ki({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(i){return i.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=S_,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function eT(l){let t;if(typeof l=="function")t=l;else{let i;Array.isArray(l)?i=l:(Ht(typeof l.getZIndex=="function","Expected an `Style` or an array of `Style`"),i=[l]),t=function(){return i}}return t}let Nh=null;function Uy(l,t){if(!Nh){const i=new Gl({color:"rgba(255,255,255,0.4)"}),a=new Po({color:"#3399CC",width:1.25});Nh=[new Ki({image:new Ko({fill:i,stroke:a,radius:5}),fill:i,stroke:a})]}return Nh}function S_(l){return l.getGeometry()}const nT="#333";class Mf{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=De(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Gl({color:nT}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Mf({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=De(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}function iT(l){return!0}function sT(l){const t=Ly(),i=aT(l,t),a=Ny();return function(r,u){if(a.properties=r.getPropertiesInternal(),a.resolution=u,t.featureId){const h=r.getId();h!==void 0?a.featureId=h:a.featureId=null}return t.geometryType&&(a.geometryType=Dy(r.getGeometry())),i(a)}}function T_(l){const t=Ly(),i=l.length,a=new Array(i);for(let h=0;h<i;++h)a[h]=Qh(l[h],t);const r=Ny(),u=new Array(i);return function(h,d){if(r.properties=h.getPropertiesInternal(),r.resolution=d,t.featureId){const m=h.getId();m!==void 0?r.featureId=m:r.featureId=null}let g=0;for(let m=0;m<i;++m){const _=a[m](r);_&&(u[g]=_,g+=1)}return u.length=g,u}}function aT(l,t){const i=l.length,a=new Array(i);for(let r=0;r<i;++r){const u=l[r],h="filter"in u?Hn(u.filter,Se,t):iT;let d;if(Array.isArray(u.style)){const g=u.style.length;d=new Array(g);for(let m=0;m<g;++m)d[m]=Qh(u.style[m],t)}else d=[Qh(u.style,t)];a[r]={filter:h,styles:d}}return function(r){const u=[];let h=!1;for(let d=0;d<i;++d){const g=a[d].filter;if(g(r)&&!(l[d].else&&h)){h=!0;for(const m of a[d].styles){const _=m(r);_&&u.push(_)}}}return u}}function Qh(l,t){const i=Ml(l,"",t),a=Ol(l,"",t),r=lT(l,t),u=rT(l,t),h=Le(l,"z-index",t);if(!i&&!a&&!r&&!u&&!P_(l))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(l));const d=new Ki;return function(g){let m=!0;if(i){const _=i(g);_&&(m=!1),d.setFill(_)}if(a){const _=a(g);_&&(m=!1),d.setStroke(_)}if(r){const _=r(g);_&&(m=!1),d.setText(_)}if(u){const _=u(g);_&&(m=!1),d.setImage(_)}return h&&d.setZIndex(h(g)),m?null:d}}function Ml(l,t,i){let a;if(t+"fill-pattern-src"in l)a=hT(l,t+"fill-",i);else{if(l[t+"fill-color"]==="none")return u=>null;a=Of(l,t+"fill-color",i)}if(!a)return null;const r=new Gl;return function(u){const h=a(u);return h===Tf?null:(r.setColor(h),r)}}function Ol(l,t,i){const a=Le(l,t+"stroke-width",i),r=Of(l,t+"stroke-color",i);if(!a&&!r)return null;const u=In(l,t+"stroke-line-cap",i),h=In(l,t+"stroke-line-join",i),d=jy(l,t+"stroke-line-dash",i),g=Le(l,t+"stroke-line-dash-offset",i),m=Le(l,t+"stroke-miter-limit",i),_=new Po;return function(p){if(r){const E=r(p);if(E===Tf)return null;_.setColor(E)}if(a&&_.setWidth(a(p)),u){const E=u(p);if(E!=="butt"&&E!=="round"&&E!=="square")throw new Error("Expected butt, round, or square line cap");_.setLineCap(E)}if(h){const E=h(p);if(E!=="bevel"&&E!=="round"&&E!=="miter")throw new Error("Expected bevel, round, or miter line join");_.setLineJoin(E)}return d&&_.setLineDash(d(p)),g&&_.setLineDashOffset(g(p)),m&&_.setMiterLimit(m(p)),_}}function lT(l,t){const i="text-",a=In(l,i+"value",t);if(!a)return null;const r=Ml(l,i,t),u=Ml(l,i+"background-",t),h=Ol(l,i,t),d=Ol(l,i+"background-",t),g=In(l,i+"font",t),m=Le(l,i+"max-angle",t),_=Le(l,i+"offset-x",t),p=Le(l,i+"offset-y",t),E=Js(l,i+"overflow",t),R=In(l,i+"placement",t),x=Le(l,i+"repeat",t),D=Fo(l,i+"scale",t),O=Js(l,i+"rotate-with-view",t),I=Le(l,i+"rotation",t),B=In(l,i+"align",t),q=In(l,i+"justify",t),V=In(l,i+"baseline",t),z=Js(l,i+"keep-upright",t),J=jy(l,i+"padding",t),tt=ko(l,i+"declutter-mode"),Z=new Mf({declutterMode:tt});return function(W){if(Z.setText(a(W)),r&&Z.setFill(r(W)),u&&Z.setBackgroundFill(u(W)),h&&Z.setStroke(h(W)),d&&Z.setBackgroundStroke(d(W)),g&&Z.setFont(g(W)),m&&Z.setMaxAngle(m(W)),_&&Z.setOffsetX(_(W)),p&&Z.setOffsetY(p(W)),E&&Z.setOverflow(E(W)),R){const nt=R(W);if(nt!=="point"&&nt!=="line")throw new Error("Expected point or line for text-placement");Z.setPlacement(nt)}if(x&&Z.setRepeat(x(W)),D&&Z.setScale(D(W)),O&&Z.setRotateWithView(O(W)),I&&Z.setRotation(I(W)),B){const nt=B(W);if(nt!=="left"&&nt!=="center"&&nt!=="right"&&nt!=="end"&&nt!=="start")throw new Error("Expected left, right, center, start, or end for text-align");Z.setTextAlign(nt)}if(q){const nt=q(W);if(nt!=="left"&&nt!=="right"&&nt!=="center")throw new Error("Expected left, right, or center for text-justify");Z.setJustify(nt)}if(V){const nt=V(W);if(nt!=="bottom"&&nt!=="top"&&nt!=="middle"&&nt!=="alphabetic"&&nt!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");Z.setTextBaseline(nt)}return J&&Z.setPadding(J(W)),z&&Z.setKeepUpright(z(W)),Z}}function rT(l,t){return"icon-src"in l?oT(l,t):"shape-points"in l?uT(l,t):"circle-radius"in l?cT(l,t):null}function oT(l,t){const i="icon-",a=i+"src",r=Gy(l[a],a),u=To(l,i+"anchor",t),h=Fo(l,i+"scale",t),d=Le(l,i+"opacity",t),g=To(l,i+"displacement",t),m=Le(l,i+"rotation",t),_=Js(l,i+"rotate-with-view",t),p=x_(l,i+"anchor-origin"),E=w_(l,i+"anchor-x-units"),R=w_(l,i+"anchor-y-units"),x=mT(l,i+"color"),D=dT(l,i+"cross-origin"),O=gT(l,i+"offset"),I=x_(l,i+"offset-origin"),B=Ro(l,i+"width"),q=Ro(l,i+"height"),V=fT(l,i+"size"),z=ko(l,i+"declutter-mode"),J=new Cf({src:r,anchorOrigin:p,anchorXUnits:E,anchorYUnits:R,color:x,crossOrigin:D,offset:O,offsetOrigin:I,height:q,width:B,size:V,declutterMode:z});return function(tt){return d&&J.setOpacity(d(tt)),g&&J.setDisplacement(g(tt)),m&&J.setRotation(m(tt)),_&&J.setRotateWithView(_(tt)),h&&J.setScale(h(tt)),u&&J.setAnchor(u(tt)),J}}function uT(l,t){const i="shape-",a=i+"points",r=i+"radius",u=Wh(l[a],a),h=Wh(l[r],r),d=Ml(l,i,t),g=Ol(l,i,t),m=Fo(l,i+"scale",t),_=To(l,i+"displacement",t),p=Le(l,i+"rotation",t),E=Js(l,i+"rotate-with-view",t),R=Ro(l,i+"radius2"),x=Ro(l,i+"angle"),D=ko(l,i+"declutter-mode"),O=new qo({points:u,radius:h,radius2:R,angle:x,declutterMode:D});return function(I){return d&&O.setFill(d(I)),g&&O.setStroke(g(I)),_&&O.setDisplacement(_(I)),p&&O.setRotation(p(I)),E&&O.setRotateWithView(E(I)),m&&O.setScale(m(I)),O}}function cT(l,t){const i="circle-",a=Ml(l,i,t),r=Ol(l,i,t),u=Le(l,i+"radius",t),h=Fo(l,i+"scale",t),d=To(l,i+"displacement",t),g=Le(l,i+"rotation",t),m=Js(l,i+"rotate-with-view",t),_=ko(l,i+"declutter-mode"),p=new Ko({radius:5,declutterMode:_});return function(E){return u&&p.setRadius(u(E)),a&&p.setFill(a(E)),r&&p.setStroke(r(E)),d&&p.setDisplacement(d(E)),g&&p.setRotation(g(E)),m&&p.setRotateWithView(m(E)),h&&p.setScale(h(E)),p}}function Le(l,t,i){if(!(t in l))return;const a=Hn(l[t],bt,i);return function(r){return Wh(a(r),t)}}function In(l,t,i){if(!(t in l))return null;const a=Hn(l[t],Oe,i);return function(r){return Gy(a(r),t)}}function hT(l,t,i){const a=In(l,t+"pattern-src",i),r=R_(l,t+"pattern-offset",i),u=R_(l,t+"pattern-size",i),h=Of(l,t+"color",i);return function(d){return{src:a(d),offset:r&&r(d),size:u&&u(d),color:h&&h(d)}}}function Js(l,t,i){if(!(t in l))return null;const a=Hn(l[t],Se,i);return function(r){const u=a(r);if(typeof u!="boolean")throw new Error(`Expected a boolean for ${t}`);return u}}function Of(l,t,i){if(!(t in l))return null;const a=Hn(l[t],un,i);return function(r){return Iy(a(r),t)}}function jy(l,t,i){if(!(t in l))return null;const a=Hn(l[t],Fi,i);return function(r){return Il(a(r),t)}}function To(l,t,i){if(!(t in l))return null;const a=Hn(l[t],Fi,i);return function(r){const u=Il(a(r),t);if(u.length!==2)throw new Error(`Expected two numbers for ${t}`);return u}}function R_(l,t,i){if(!(t in l))return null;const a=Hn(l[t],Fi,i);return function(r){return Xy(a(r),t)}}function Fo(l,t,i){if(!(t in l))return null;const a=Hn(l[t],Fi|bt,i);return function(r){return _T(a(r),t)}}function Ro(l,t){const i=l[t];if(i!==void 0){if(typeof i!="number")throw new Error(`Expected a number for ${t}`);return i}}function fT(l,t){const i=l[t];if(i!==void 0){if(typeof i=="number")return De(i);if(!Array.isArray(i))throw new Error(`Expected a number or size array for ${t}`);if(i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return i}}function dT(l,t){const i=l[t];if(i!==void 0){if(typeof i!="string")throw new Error(`Expected a string for ${t}`);return i}}function x_(l,t){const i=l[t];if(i!==void 0){if(i!=="bottom-left"&&i!=="bottom-right"&&i!=="top-left"&&i!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return i}}function w_(l,t){const i=l[t];if(i!==void 0){if(i!=="pixels"&&i!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return i}}function gT(l,t){const i=l[t];if(i!==void 0)return Il(i,t)}function ko(l,t){const i=l[t];if(i!==void 0){if(typeof i!="string")throw new Error(`Expected a string for ${t}`);if(i!=="declutter"&&i!=="obstacle"&&i!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return i}}function mT(l,t){const i=l[t];if(i!==void 0)return Iy(i,t)}function Il(l,t){if(!Array.isArray(l))throw new Error(`Expected an array for ${t}`);const i=l.length;for(let a=0;a<i;++a)if(typeof l[a]!="number")throw new Error(`Expected an array of numbers for ${t}`);return l}function Gy(l,t){if(typeof l!="string")throw new Error(`Expected a string for ${t}`);return l}function Wh(l,t){if(typeof l!="number")throw new Error(`Expected a number for ${t}`);return l}function Iy(l,t){if(typeof l=="string")return l;const i=Il(l,t),a=i.length;if(a<3||a>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return i}function Xy(l,t){const i=Il(l,t);if(i.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return i}function _T(l,t){return typeof l=="number"?l:Xy(l,t)}const A_={RENDER_ORDER:"renderOrder"};class yT extends Vo{constructor(t){t=t||{};const i=Object.assign({},t);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,super(i),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(A_.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,i){const a=this.getDeclutter();a in t.declutter||(t.declutter[a]=new lS(9)),this.getRenderer().renderDeclutter(t,i)}setRenderOrder(t){this.set(A_.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?Uy:t;const i=pT(t);this.styleFunction_=t===null?void 0:eT(i),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function pT(l){if(l===void 0)return Uy;if(!l)return null;if(typeof l=="function"||l instanceof Ki)return l;if(!Array.isArray(l))return T_([l]);if(l.length===0)return[];const t=l.length,i=l[0];if(i instanceof Ki){const r=new Array(t);for(let u=0;u<t;++u){const h=l[u];if(!(h instanceof Ki))throw new Error("Expected a list of style instances");r[u]=h}return r}if("style"in i){const r=new Array(t);for(let u=0;u<t;++u){const h=l[u];if(!("style"in h))throw new Error("Expected a list of rules with a style property");r[u]=h}return sT(r)}return T_(l)}class Yy extends pi{constructor(t,i,a,r){super(t),this.inversePixelTransform=i,this.frameState=a,this.context=r}}class vT extends wo{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,i){At()}calculateMatrices2D(t){const i=t.viewState,a=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;wl(a,t.size[0]/2,t.size[1]/2,1/i.resolution,-1/i.resolution,-i.rotation,-i.center[0],-i.center[1]),fy(r,a)}forEachFeatureAtCoordinate(t,i,a,r,u,h,d,g){let m;const _=i.viewState;function p(V,z,J,tt){return u.call(h,z,V?J:null,tt)}const E=_.projection,R=iy(t.slice(),E),x=[[0,0]];if(E.canWrapX()&&r){const V=E.getExtent(),z=Bt(V);x.push([-z,0],[z,0])}const D=i.layerStatesArray,O=D.length,I=[],B=[];for(let V=0;V<x.length;V++)for(let z=O-1;z>=0;--z){const J=D[z],tt=J.layer;if(tt.hasRenderer()&&Sf(J,_)&&d.call(g,tt)){const Z=tt.getRenderer(),W=tt.getSource();if(Z&&W){const nt=W.getWrapX()?R:t,Mt=p.bind(null,J.managed);B[0]=nt[0]+x[V][0],B[1]=nt[1]+x[V][1],m=Z.forEachFeatureAtCoordinate(B,i,a,Mt,I)}if(m)return m}}if(I.length===0)return;const q=1/I.length;return I.forEach((V,z)=>V.distanceSq+=z*q),I.sort((V,z)=>V.distanceSq-z.distanceSq),I.some(V=>m=V.callback(V.feature,V.layer,V.geometry)),m}hasFeatureAtCoordinate(t,i,a,r,u,h){return this.forEachFeatureAtCoordinate(t,i,a,r,ho,this,u,h)!==void 0}getMap(){return this.map_}renderFrame(t){At()}scheduleExpireIconCache(t){nn.canExpireCache()&&t.postRenderFunctions.push(ET)}}function ET(l,t){nn.expire()}class bT extends vT{constructor(t){super(t),this.fontChangeListenerKey_=Ct(tT,Tl.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const i=this.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",this.element_.className=la+" ol-layers";const a=t.getViewport();a.insertBefore(this.element_,a.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,i){const a=this.getMap();if(a.hasListener(t)){const r=new Yy(t,void 0,i);a.dispatchEvent(r)}}disposeInternal(){kt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(vn.PRECOMPOSE,t);const i=t.layerStatesArray.sort((d,g)=>d.zIndex-g.zIndex);i.some(d=>d.layer instanceof yT&&d.layer.getDeclutter())&&(t.declutter={});const r=t.viewState;this.children_.length=0;const u=[];let h=null;for(let d=0,g=i.length;d<g;++d){const m=i[d];t.layerIndex=d;const _=m.layer,p=_.getSourceState();if(!Sf(m,r)||p!="ready"&&p!="undefined"){_.unrender();continue}const E=_.render(t,h);E&&(E!==h&&(this.children_.push(E),h=E),u.push(m))}this.declutter(t,u),jb(this.element_,this.children_),this.dispatchRenderEvent(vn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,i){if(t.declutter){for(let a=i.length-1;a>=0;--a){const r=i[a],u=r.layer;u.getDeclutter()&&u.renderDeclutter(t,r)}i.forEach(a=>a.layer.renderDeferred(t))}}}function Hy(l){if(l instanceof Vo){l.setMapInternal(null);return}l instanceof oa&&l.getLayers().forEach(Hy)}function By(l,t){if(l instanceof Vo){l.setMapInternal(t);return}if(l instanceof oa){const i=l.getLayers().getArray();for(let a=0,r=i.length;a<r;++a)By(i[a],t)}}let ST=class extends Yn{constructor(t){super(),t=t||{},this.on,this.once,this.un;const i=TT(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:F1,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=$s(),this.pixelToCoordinateTransform_=$s(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=i.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=i.controls||Ty(),this.interactions=i.interactions||sS({onFocusOnly:!0}),this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new $1(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(oe.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(oe.VIEW,this.handleViewChanged_),this.addChangeListener(oe.SIZE,this.handleSizeChanged_),this.addChangeListener(oe.TARGET,this.handleTargetChanged_),this.setProperties(i.values);const a=this;t.view&&!(t.view instanceof pn)&&t.view.then(function(r){a.setView(new pn(r))}),this.controls.addEventListener(en.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(en.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(en.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(en.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(en.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(en.REMOVE,r=>{const u=r.element.getId();u!==void 0&&delete this.overlayIdIndex_[u.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){By(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const i=t.getId();i!==void 0&&(this.overlayIdIndex_[i.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,i,a){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t);a=a!==void 0?a:{};const u=a.hitTolerance!==void 0?a.hitTolerance:0,h=a.layerFilter!==void 0?a.layerFilter:ho,d=a.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,u,d,i,null,h,null)}getFeaturesAtPixel(t,i){const a=[];return this.forEachFeatureAtPixel(t,function(r){a.push(r)},i),a}getAllLayers(){const t=[];function i(a){a.forEach(function(r){r instanceof oa?i(r.getLayers()):t.push(r)})}return i(this.getLayers()),t}hasFeatureAtPixel(t,i){if(!this.frameState_||!this.renderer_)return!1;const a=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};const r=i.layerFilter!==void 0?i.layerFilter:ho,u=i.hitTolerance!==void 0?i.hitTolerance:0,h=i.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(a,this.frameState_,u,h,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const a=this.viewport_.getBoundingClientRect(),r=this.getSize(),u=a.width/r[0],h=a.height/r[1],d="changedTouches"in t?t.changedTouches[0]:t;return[(d.clientX-a.left)/u,(d.clientY-a.top)/h]}getTarget(){return this.get(oe.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return Fh(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const i=this.frameState_;return i?Ve(i.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const i=this.overlayIdIndex_[t.toString()];return i!==void 0?i:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(oe.LAYERGROUP)}setLayers(t){const i=this.getLayerGroup();if(t instanceof Xn){i.setLayers(t);return}const a=i.getLayers();a.clear(),a.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let i=0,a=t.length;i<a;++i){const r=t[i];if(!r.visible)continue;const u=r.layer.getRenderer();if(u&&!u.ready)return!0;const h=r.layer.getSource();if(h&&h.loading)return!0}return!1}getPixelFromCoordinate(t){const i=Gn(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(i)}getPixelFromCoordinateInternal(t){const i=this.frameState_;return i?Ve(i.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(oe.SIZE)}getView(){return this.get(oe.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,i,a,r){return J1(this.frameState_,t,i,a,r)}handleBrowserEvent(t,i){i=i||t.type;const a=new gi(i,this,t);this.handleMapBrowserEvent(a)}handleMapBrowserEvent(t){if(!this.frameState_)return;const i=t.originalEvent,a=i.type;if(a===Rl.POINTERDOWN||a===dt.WHEEL||a===dt.KEYDOWN){const r=this.getOwnerDocument(),u=this.viewport_.getRootNode?this.viewport_.getRootNode():r,h=i.target,d=u instanceof ShadowRoot?u.host===h?u.host.ownerDocument:u:u===r?r.documentElement:u;if(this.overlayContainerStopEvent_.contains(h)||!d.contains(h))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const r=this.getInteractions().getArray().slice();for(let u=r.length-1;u>=0;u--){const h=r[u];if(h.getMap()!==this||!h.getActive()||!this.getTargetElement())continue;if(!h.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,i=this.tileQueue_;if(!i.isEmpty()){let r=this.maxTilesLoading_,u=r;if(t){const h=t.viewHints;if(h[tn.ANIMATING]||h[tn.INTERACTING]){const d=Date.now()-t.time>8;r=d?0:8,u=d?0:2}}i.getTilesLoading()<r&&(i.reprioritize(),i.loadMoreTiles(r,u))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(vn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(vn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Ks(mi.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Ks(mi.LOADSTART,this,t))));const a=this.postRenderFunctions_;if(t)for(let r=0,u=a.length;r<u;++r)a[r](this,t);a.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let a=0,r=this.targetChangeHandlerKeys_.length;a<r;++a)kt(this.targetChangeHandlerKeys_[a]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(dt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(dt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const a=this.targetElement_.getRootNode();a instanceof ShadowRoot&&this.resizeObserver_.unobserve(a.host),this.setSize(void 0)}const t=this.getTarget(),i=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=i,!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=new bT(this)),this.mapBrowserEventHandler_=new Q1(this,this.moveTolerance_);for(const u in Ft)this.mapBrowserEventHandler_.addEventListener(Ft[u],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(dt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(dt.WHEEL,this.boundHandleBrowserEvent_,Q_?{passive:!1}:!1);let a;if(this.keyboardEventTarget_)a=this.keyboardEventTarget_;else{const u=i.getRootNode();a=u instanceof ShadowRoot?u.host:i}this.targetChangeHandlerKeys_=[Ct(a,dt.KEYDOWN,this.handleBrowserEvent,this),Ct(a,dt.KEYPRESS,this.handleBrowserEvent,this)];const r=i.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(i)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(kt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(kt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Ct(t,Tl.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ct(t,dt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(kt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new _i("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Ct(t,Tl.PROPERTYCHANGE,this.render,this),Ct(t,dt.CHANGE,this.render,this),Ct(t,"addlayer",this.handleLayerAdd_,this),Ct(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let i=0,a=t.length;i<a;++i){const r=t[i].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){Hy(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const i=this.getSize(),a=this.getView(),r=this.frameState_;let u=null;if(i!==void 0&&d_(i)&&a&&a.isDef()){const h=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),d=a.getState();if(u={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Zh(d.center,d.resolution,d.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:d,viewHints:h,wantedTiles:{},mapId:pe(this),renderTargets:{}},d.nextCenter&&d.nextResolution){const g=isNaN(d.nextRotation)?d.rotation:d.nextRotation;u.nextExtent=Zh(d.nextCenter,d.nextResolution,g,i)}}this.frameState_=u,this.renderer_.renderFrame(u),u&&(u.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,u.postRenderFunctions),r&&(!this.previousExtent_||!Go(this.previousExtent_)&&!Bh(u.extent,this.previousExtent_))&&(this.dispatchEvent(new Ks(mi.MOVESTART,this,r)),this.previousExtent_=No(this.previousExtent_)),this.previousExtent_&&!u.viewHints[tn.ANIMATING]&&!u.viewHints[tn.INTERACTING]&&!Bh(u.extent,this.previousExtent_)&&(this.dispatchEvent(new Ks(mi.MOVEEND,this,u)),sE(u.extent,this.previousExtent_))),this.dispatchEvent(new Ks(mi.POSTRENDER,this,u)),this.renderComplete_=(this.hasListener(mi.LOADSTART)||this.hasListener(mi.LOADEND)||this.hasListener(vn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const i=this.getLayerGroup();i&&this.handleLayerRemove_(new _i("removelayer",i)),this.set(oe.LAYERGROUP,t)}setSize(t){this.set(oe.SIZE,t)}setTarget(t){this.set(oe.TARGET,t)}setView(t){if(!t||t instanceof pn){this.set(oe.VIEW,t);return}this.set(oe.VIEW,new pn);const i=this;t.then(function(a){i.setView(new pn(a))})}updateSize(){const t=this.getTargetElement();let i;if(t){const r=getComputedStyle(t),u=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),h=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(u)&&!isNaN(h)&&(i=[Math.max(0,u),Math.max(0,h)],!d_(i)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&ay("No map visible because the map container's width or height are 0."))}const a=this.getSize();i&&(!a||!Co(i,a))&&(this.setSize(i),this.updateViewportSize_(i))}updateViewportSize_(t){const i=this.getView();i&&i.setViewportSize(t)}};function TT(l){let t=null;l.keyboardEventTarget!==void 0&&(t=typeof l.keyboardEventTarget=="string"?document.getElementById(l.keyboardEventTarget):l.keyboardEventTarget);const i={},a=l.layers&&typeof l.layers.getLayers=="function"?l.layers:new oa({layers:l.layers});i[oe.LAYERGROUP]=a,i[oe.TARGET]=l.target,i[oe.VIEW]=l.view instanceof pn?l.view:new pn;let r;l.controls!==void 0&&(Array.isArray(l.controls)?r=new Xn(l.controls.slice()):(Ht(typeof l.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=l.controls));let u;l.interactions!==void 0&&(Array.isArray(l.interactions)?u=new Xn(l.interactions.slice()):(Ht(typeof l.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),u=l.interactions));let h;return l.overlays!==void 0?Array.isArray(l.overlays)?h=new Xn(l.overlays.slice()):(Ht(typeof l.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),h=l.overlays):h=new Xn,{controls:r,interactions:u,keyboardEventTarget:t,overlays:h,values:i}}const C_=["fullscreenchange","webkitfullscreenchange"],M_={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"};class RT extends ra{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target}),this.on,this.once,this.un,this.keys_=t.keys!==void 0?t.keys:!1,this.source_=t.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=t.className!==void 0?t.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=t.activeClassName!==void 0?t.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=t.inactiveClassName!==void 0?t.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const i=t.label!==void 0?t.label:"";this.labelNode_=typeof i=="string"?document.createTextNode(i):i;const a=t.labelActive!==void 0?t.labelActive:"";this.labelActiveNode_=typeof a=="string"?document.createTextNode(a):a;const r=t.tipLabel?t.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=r,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(dt.CLICK,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${la} ${Bo}`,this.element.appendChild(this.button_)}handleClick_(t){t.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const t=this.getMap();if(!t)return;const i=t.getOwnerDocument();if(O_(i))if(L_(i))wT(i);else{let a;this.source_?a=typeof this.source_=="string"?i.getElementById(this.source_):this.source_:a=t.getTargetElement(),this.keys_?xT(a):Vy(a)}}handleFullScreenChange_(){const t=this.getMap();if(!t)return;const i=this.isInFullscreen_;this.isInFullscreen_=L_(t.getOwnerDocument()),i!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(So(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(M_.ENTERFULLSCREEN)):(So(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(M_.LEAVEFULLSCREEN)),t.updateSize())}setClassName_(t,i){i?(t.classList.remove(...this.inactiveClassName_),t.classList.add(...this.activeClassName_)):(t.classList.remove(...this.activeClassName_),t.classList.add(...this.inactiveClassName_))}setMap(t){const i=this.getMap();i&&i.removeChangeListener(oe.TARGET,this.boundHandleMapTargetChange_),super.setMap(t),this.handleMapTargetChange_(),t&&t.addChangeListener(oe.TARGET,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const t=this.documentListeners_;for(let a=0,r=t.length;a<r;++a)kt(t[a]);t.length=0;const i=this.getMap();if(i){const a=i.getOwnerDocument();O_(a)?this.element.classList.remove(o_):this.element.classList.add(o_);for(let r=0,u=C_.length;r<u;++r)t.push(Ct(a,C_[r],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}function O_(l){const t=l.body;return!!(t.webkitRequestFullscreen||t.requestFullscreen&&l.fullscreenEnabled)}function L_(l){return!!(l.webkitIsFullScreen||l.fullscreenElement)}function Vy(l){l.requestFullscreen?l.requestFullscreen():l.webkitRequestFullscreen&&l.webkitRequestFullscreen()}function xT(l){l.webkitRequestFullscreen?l.webkitRequestFullscreen():Vy(l)}function wT(l){l.exitFullscreen?l.exitFullscreen():l.webkitExitFullscreen&&l.webkitExitFullscreen()}const zh="projection",D_="coordinateFormat";class AT extends ra{constructor(t){t=t||{};const i=document.createElement("div");i.className=t.className!==void 0?t.className:"ol-mouse-position",super({element:i,render:t.render,target:t.target}),this.on,this.once,this.un,this.addChangeListener(zh,this.handleProjectionChanged_),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),this.renderOnMouseOut_=t.placeholder!==void 0,this.placeholder_=this.renderOnMouseOut_?t.placeholder:"&#160;",this.renderedHTML_=i.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=t.wrapX!==!1}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(D_)}getProjection(){return this.get(zh)}handleMouseMove(t){const i=this.getMap();this.updateHTML_(i.getEventPixel(t))}handleMouseOut(t){this.updateHTML_(null)}setMap(t){if(super.setMap(t),t){const i=t.getViewport();this.listenerKeys.push(Ct(i,Rl.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Ct(i,Rl.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(t){this.set(D_,t)}setProjection(t){this.set(zh,Te(t))}updateHTML_(t){let i=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){const u=this.getProjection();u?this.transform_=Yo(this.mapProjection_,u):this.transform_=PE}const r=this.getMap().getCoordinateFromPixelInternal(t);if(r){if(this.transform_(r,r),this.wrapX_){const h=this.getProjection()||this.mapProjection_;iy(r,h)}const u=this.getCoordinateFormat();u?i=u(r):i=r.toString()}}(!this.renderedHTML_||i!==this.renderedHTML_)&&(this.element.innerHTML=i,this.renderedHTML_=i)}render(t){const i=t.frameState;i?this.mapProjection_!=i.viewState.projection&&(this.mapProjection_=i.viewState.projection,this.transform_=null):this.mapProjection_=null}}const Uh="units",CT=[1,2,5],ml=25.4/.28;class MT extends ra{constructor(t){t=t||{};const i=document.createElement("div");i.style.pointerEvents="none",super({element:i,render:t.render,target:t.target}),this.on,this.once,this.un;const a=t.className!==void 0?t.className:t.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=a+"-inner",this.element.className=a+" "+la,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=t.minWidth!==void 0?t.minWidth:64,this.maxWidth_=t.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(Uh,this.handleUnitsChanged_),this.setUnits(t.units||"metric"),this.scaleBar_=t.bar||!1,this.scaleBarSteps_=t.steps||4,this.scaleBarText_=t.text||!1,this.dpi_=t.dpi||void 0}getUnits(){return this.get(Uh)}handleUnitsChanged_(){this.updateElement_()}setUnits(t){this.set(Uh,t)}setDpi(t){this.dpi_=t}updateElement_(){const t=this.viewState_;if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const i=t.center,a=t.projection,r=this.getUnits(),u=r=="degrees"?"degrees":"m";let h=vo(a,t.resolution,i,u);const d=this.minWidth_*(this.dpi_||ml)/ml,g=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||ml)/ml:void 0;let m=d*h,_="";if(r=="degrees"){const q=na.degrees;m*=q,m<q/60?(_="",h*=3600):m<q?(_="",h*=60):_=""}else if(r=="imperial")m<.9144?(_="in",h/=.0254):m<1609.344?(_="ft",h/=.3048):(_="mi",h/=1609.344);else if(r=="nautical")h/=1852,_="NM";else if(r=="metric")m<1e-6?(_="nm",h*=1e9):m<.001?(_="m",h*=1e6):m<1?(_="mm",h*=1e3):m<1e3?_="m":(_="km",h/=1e3);else if(r=="us")m<.9144?(_="in",h*=39.37):m<1609.344?(_="ft",h/=.30480061):(_="mi",h/=1609.3472);else throw new Error("Invalid units");let p=3*Math.floor(Math.log(d*h)/Math.log(10)),E,R,x,D=0,O,I;for(;;){x=Math.floor(p/3);const q=Math.pow(10,x);if(E=CT[(p%3+3)%3]*q,R=Math.round(E/h),isNaN(R)){this.element.style.display="none",this.renderedVisible_=!1;return}if(g!==void 0&&R>=g){E=D,R=O,x=I;break}else if(R>=d)break;D=E,O=R,I=x,++p}const B=this.scaleBar_?this.createScaleBar(R,E,_):E.toFixed(x<0?-x:0)+" "+_;this.renderedHTML_!=B&&(this.innerElement_.innerHTML=B,this.renderedHTML_=B),this.renderedWidth_!=R&&(this.innerElement_.style.width=R+"px",this.renderedWidth_=R),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(t,i,a){const r=this.getScaleForResolution(),u=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),h=this.scaleBarSteps_,d=t/h,g=[this.createMarker("absolute")];for(let _=0;_<h;++_){const p=_%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";g.push(`<div><div class="ol-scale-singlebar ${p}" style="width: ${d}px;"></div>`+this.createMarker("relative")+(_%2===0||h===2?this.createStepText(_,t,!1,i,a):"")+"</div>")}return g.push(this.createStepText(h,t,!0,i,a)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${t}px;">`+u+"</div>":"")+g.join("")}createMarker(t){return`<div class="ol-scale-step-marker" style="position: ${t}; top: ${t==="absolute"?3:-10}px;"></div>`}createStepText(t,i,a,r,u){const d=(t===0?0:Math.round(r/this.scaleBarSteps_*t*100)/100)+(t===0?"":" "+u),g=t===0?-3:i/this.scaleBarSteps_*-1,m=t===0?0:i/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${g}px;text-align: ${t===0?"left":"center"};min-width: ${m}px;left: ${a?i+"px":"unset"};">`+d+"</div>"}getScaleForResolution(){const t=vo(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),i=this.dpi_||ml,a=1e3/25.4;return t*a*i}render(t){const i=t.frameState;i?this.viewState_=i.viewState:this.viewState_=null,this.updateElement_()}}const N_=l=>{let t;const i=new Set,a=(m,_)=>{const p=typeof m=="function"?m(t):m;if(!Object.is(p,t)){const E=t;t=_??(typeof p!="object"||p===null)?p:Object.assign({},t,p),i.forEach(R=>R(t,E))}},r=()=>t,d={setState:a,getState:r,getInitialState:()=>g,subscribe:m=>(i.add(m),()=>i.delete(m))},g=t=l(a,r,d);return d},OT=l=>l?N_(l):N_,LT=l=>l;function DT(l,t=LT){const i=O0.useSyncExternalStore(l.subscribe,()=>t(l.getState()),()=>t(l.getInitialState()));return O0.useDebugValue(i),i}const z_=l=>{const t=OT(l),i=a=>DT(t,a);return Object.assign(i,t),i},Zy=l=>l?z_(l):z_,NT={center:{latitude:-40,longitude:-59},zoom:{initial:4,min:3,max:21}},zT={description:"Visor de mapas desarrollado por el Instituto Geogrfico Nacional",image:"/src/styles/images/argenmap.png",title:"IGN - Argenmap"},UT="IGN - Argenmap",jT="https://www.ign.gob.ar/",GT={title:"Instituto Geogrfico Nacional",link:"https://www.ign.gob.ar/",src:"https://static.ign.gob.ar/img/logo/Logo-MinDef-IGN-Visores.svg"},IT={},XT=[{titulo:"Argenmap",nombre:"argenmap",servicio:"tms",version:"1.0.0",attribution:"<a href='https://www.ign.gob.ar/AreaServicios/Argenmap/Introduccion' target='_blank'>Instituto Geogrfico Nacional</a> + <a href='https://www.osm.org/copyright' target='_blank'>OpenStreetMap</a>",host:"https://wms.ign.gob.ar/geoserver/gwc/service/tms/1.0.0/capabaseargenmap@EPSG%3A3857@png/{z}/{x}/{-y}.png",legendImg:"https://wms.ign.gob.ar/geoserver/gwc/service/tms/1.0.0/capabaseargenmap@EPSG%3A3857@png/2/1/1.png",legend:"src/config/styles/images/legends/argenmap.jpg",peso:10,selected:!0,zoom:{min:3,max:19}},{titulo:"Argenmap gris",nombre:"argenmap_gris",servicio:"tms",version:"1.0.0",attribution:"<a href='https://www.ign.gob.ar/AreaServicios/Argenmap/Introduccion' target='_blank'>Instituto Geogrfico Nacional</a> + <a href='https://www.osm.org/copyright' target='_blank'>OpenStreetMap</a>",host:"https://wms.ign.gob.ar/geoserver/gwc/service/tms/1.0.0/mapabase_gris@EPSG%3A3857@png/{z}/{x}/{-y}.png",legendImg:"https://wms.ign.gob.ar/geoserver/gwc/service/tms/1.0.0/mapabase_gris@EPSG%3A3857@png/2/1/1.png",legend:"src/config/styles/images/legends/argenmap-gris.jpg",peso:20,zoom:{min:3,max:19}},{titulo:"Argenmap oscuro",nombre:"argenmap_oscuro",servicio:"tms",version:"1.0.0",attribution:"<a href='https://www.ign.gob.ar/AreaServicios/Argenmap/Introduccion' target='_blank'>Instituto Geogrfico Nacional</a> + <a href='https://www.osm.org/copyright' target='_blank'>OpenStreetMap</a>",host:"https://wms.ign.gob.ar/geoserver/gwc/service/tms/1.0.0/argenmap_oscuro@EPSG%3A3857@png/{z}/{x}/{-y}.png",legendImg:"https://wms.ign.gob.ar/geoserver/gwc/service/tms/1.0.0/argenmap_oscuro@EPSG%3A3857@png/2/1/1.png",legend:"src/config/styles/images/legends/argenmap-oscuro.jpg",peso:25,zoom:{min:3,max:19}},{titulo:"Argenmap topogrfico",nombre:"argenmap-topo",servicio:"tms",version:"1.0.0",attribution:"<a href='https://www.ign.gob.ar/AreaServicios/Argenmap/IntroduccionV2' target='_blank'>Instituto Geogrfico Nacional</a> + <a href='https://www.osm.org/copyright' target='_blank'>OpenStreetMap</a>",host:"https://wms.ign.gob.ar/geoserver/gwc/service/tms/1.0.0/mapabase_topo@EPSG%3A3857@png/{z}/{x}/{-y}.png",legendImg:"https://wms.ign.gob.ar/geoserver/gwc/service/tms/1.0.0/mapabase_topo@EPSG%3A3857@png/2/1/1.png",legend:"",peso:27,selected:!0,zoom:{min:3,max:13}},{titulo:"Imgenes satelitales Esri",nombre:"esri_imagery",servicio:"tms",version:"1.0.0",attribution:"Imgenes satelitales  Esri",host:"https://server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",legendImg:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/0/0/0",peso:30,zoom:{min:3,max:19}},{titulo:"Mapa topogrfico Esri",nombre:"esri_imagery_t",servicio:"tms",version:"1.0.0",attribution:"Mapa topogrfico  Esri",host:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",legendImg:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/0/0/0",peso:35,zoom:{min:3,max:8}},{titulo:"Mapa Esri Fondo Ocenico",nombre:"esri_imagery-o",servicio:"tms",version:"1.0.0",attribution:"Tiles &copy; Esri &mdash; Fuente: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, y Esri",host:"https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",legendImg:"https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/0/0/0",peso:37,zoom:{min:3,max:10}}],YT=[{type:"wms",peso:20,nombre:"IDECatamarca",short_abstract:"Infraestructura de Datos Espaciales de la Provincia de Catamarca",host:"https://nodoide.catamarca.gob.ar/geoserver/fme/wms"},{type:"wms",peso:30,nombre:"Vialidad",short_abstract:"Ministerio de Transporte de la Nacin Argentina",host:"https://sigvial.vialidad.gob.ar/geoserver/dnv/wms"}],U_={mapConfig:NT,metaTags:zT,title:UT,website:jT,logo:GT,plugins:IT,basemap:XT,layers:YT};function qy(l,t){if(!oo(l)||!oo(t))return t;const i={...l};for(const a in t)if(t.hasOwnProperty(a)){const r=t[a],u=i[a];Array.isArray(r)?i[a]=[...r]:oo(r)&&oo(u)?i[a]=qy(u,r):i[a]=r}return i}function oo(l){return l!==null&&typeof l=="object"&&!Array.isArray(l)&&!(l instanceof Date)&&!(l instanceof RegExp)}function $h(l,t){if(l===t)return!0;if(l==null||t==null)return l===t;if(typeof l!=typeof t)return!1;if(Array.isArray(l)){if(!Array.isArray(t)||l.length!==t.length)return!1;for(let i=0;i<l.length;i++)if(!$h(l[i],t[i]))return!1;return!0}if(Array.isArray(t))return!1;if(l instanceof Date&&t instanceof Date)return l.getTime()===t.getTime();if(typeof l=="object"){const i=Object.keys(l),a=Object.keys(t);if(i.length!==a.length)return!1;for(const r of i)if(!a.includes(r)||!$h(l[r],t[r]))return!1;return!0}return!1}const HT={mapConfig:{type:"object",properties:{center:{type:"object",properties:{latitude:{type:"number",min:-90,max:90},longitude:{type:"number",min:-180,max:180}},required:["latitude","longitude"]},zoom:{type:"object",properties:{initial:{type:"number",min:0,max:28},min:{type:"number",min:0,max:28},max:{type:"number",min:0,max:28}}},projection:{type:"string"},extent:{type:"array",length:4,itemType:"number"}}},title:{type:"string"},website:{type:"string"},logo:{type:"string"},metaTags:{type:"object",properties:{title:{type:"string"},description:{type:"string"},keywords:{type:"string"}}},plugins:{type:"object",properties:{layerPanel:{type:"boolean"},fullscreen:{type:"boolean"},mousePosition:{type:"boolean"},scaleLine:{type:"boolean"}}},basemap:{type:"object",properties:{type:{type:"string",enum:["osm","xyz","wms"]},url:{type:"string"},attribution:{type:"string"},maxZoom:{type:"number",min:0,max:28}},required:["type"]},layers:{type:"array",itemType:"object",itemSchema:{type:"object",properties:{id:{type:"string"},name:{type:"string"},type:{type:"string",enum:["wms","wfs","xyz","vector"]},url:{type:"string"},visible:{type:"boolean"},opacity:{type:"number",min:0,max:1},layers:{type:"string"},format:{type:"string"},style:{type:"string"},attribution:{type:"string"}},required:["id","name","type","url"]}}};function Jh(l,t,i=""){const a=[];if(t.type){const r=Array.isArray(l)?"array":typeof l;if(r!==t.type)return a.push(`${i}: esperado tipo '${t.type}', recibido '${r}'`),{isValid:!1,errors:a}}return t.enum&&!t.enum.includes(l)&&a.push(`${i}: valor '${l}' no permitido. Valores vlidos: ${t.enum.join(", ")}`),t.type==="number"&&(t.min!==void 0&&l<t.min&&a.push(`${i}: valor ${l} menor que el mnimo permitido (${t.min})`),t.max!==void 0&&l>t.max&&a.push(`${i}: valor ${l} mayor que el mximo permitido (${t.max})`)),t.type==="array"&&(t.length!==void 0&&l.length!==t.length&&a.push(`${i}: array debe tener exactamente ${t.length} elementos, tiene ${l.length}`),(t.itemType||t.itemSchema)&&l.forEach((r,u)=>{const h=`${i}[${u}]`;if(t.itemType){const d=Array.isArray(r)?"array":typeof r;d!==t.itemType&&a.push(`${h}: esperado tipo '${t.itemType}', recibido '${d}'`)}if(t.itemSchema){const d=Jh(r,t.itemSchema,h);a.push(...d.errors)}})),t.type==="object"&&t.properties&&(t.required&&t.required.forEach(r=>{r in l||a.push(`${i}.${r}: propiedad requerida faltante`)}),Object.keys(l).forEach(r=>{const u=t.properties[r];if(u){const h=i?`${i}.${r}`:r,d=Jh(l[r],u,h);a.push(...d.errors)}})),{isValid:a.length===0,errors:a}}function Ky(l){if(!l||typeof l!="object")return{isValid:!1,errors:["La configuracin debe ser un objeto"],warnings:[]};const t=[],i=[];return Object.keys(l).forEach(a=>{const r=HT[a];if(r){const u=Jh(l[a],r,a);t.push(...u.errors)}else i.push(`Propiedad '${a}' no reconocida en el esquema de configuracin`)}),{isValid:t.length===0,errors:t,warnings:i}}function BT(l){return!l||typeof l!="object"?{isValid:!1,errors:["La configuracin parcial debe ser un objeto"],warnings:[]}:Ky(l)}function VT(l){var i;const t=[];if((i=l.mapConfig)!=null&&i.zoom){const{initial:a,min:r,max:u}=l.mapConfig.zoom;r!==void 0&&u!==void 0&&r>u&&t.push("mapConfig.zoom: el zoom mnimo no puede ser mayor que el mximo"),a!==void 0&&r!==void 0&&a<r&&t.push("mapConfig.zoom: el zoom inicial no puede ser menor que el mnimo"),a!==void 0&&u!==void 0&&a>u&&t.push("mapConfig.zoom: el zoom inicial no puede ser mayor que el mximo")}if(l.layers&&Array.isArray(l.layers)){const a=l.layers.map(u=>u.id).filter(Boolean),r=new Set(a);a.length!==r.size&&t.push("layers: los IDs de las capas deben ser nicos")}return{isValid:t.length===0,errors:t}}function Py(l,t=!1){const i=t?BT(l):Ky(l);if(!i.isValid)return i;if(!t){const a=VT(l);if(!a.isValid)return{isValid:!1,errors:[...i.errors,...a.errors],warnings:i.warnings}}return i}const En=Zy((l,t)=>({config:U_,isLoaded:!0,isLoading:!1,error:null,loadConfig:async()=>{if(t().isLoaded||t().isLoading){console.log("Configuracin ya cargada, ignorando solicitud de recarga");return}l({isLoading:!0});try{l({config:U_,isLoaded:!0,isLoading:!1,error:null}),console.log("Configuracin recargada correctamente")}catch(i){console.error("Error al cargar la configuracin:",i),l({error:i.message||"Error al cargar la configuracin",isLoading:!1})}},getConfigValue:(i,a=void 0)=>{const r=t().config;return r?i?i.split(".").reduce((u,h)=>u&&u[h]!==void 0?u[h]:a,r):r:a},updateConfig:(i,a)=>{l(r=>{if(!r.config)return r;const u=JSON.parse(JSON.stringify(r.config));if(!i)return{...r,config:a};const h=i.split("."),d=h.pop(),g=h.reduce((m,_)=>(m[_]||(m[_]={}),m[_]),u);return g[d]=a,{...r,config:u}})},setConfig:(i,a="external")=>{if(console.log(i),console.log("newConfig:",i),console.log("typeof newConfig:",typeof i),console.log("is null:",i===null),console.log("is undefined:",i===void 0),!i||typeof i!="object"){const r="setConfig: La nueva configuracin debe ser un objeto vlido";return console.error(r),{success:!1,message:r,hasChanges:!1}}return l({config:i,isLoaded:!0,isLoading:!1,error:null}),console.log("Configuracin actualizada exitosamente"),{success:!0,message:"Configuracin actualizada",hasChanges:!0}},applyPartialConfig:(i,a="external")=>{if(!i||typeof i!="object"){const h="applyPartialConfig: La configuracin parcial debe ser un objeto vlido";return console.error(h),{success:!1,message:h,hasChanges:!1}}const r=Py(i,!0);if(!r.isValid){const h=`Configuracin parcial invlida: ${r.errors.join(", ")}`;return console.error(h),l({error:h}),{success:!1,message:h,hasChanges:!1}}r.warnings.length>0&&console.warn("Advertencias en la configuracin parcial:",r.warnings);const u=t().config;if(!u){const h="applyPartialConfig: No hay configuracin actual disponible";return console.error(h),{success:!1,message:h,hasChanges:!1}}try{const h=qy(u,i);return $h(u,h)?(console.log("applyPartialConfig: No se detectaron cambios tras el merge"),{success:!0,message:"No hay cambios",hasChanges:!1}):(console.log(`Aplicando configuracin parcial desde: ${a}`,{partial:i,merged:h}),l({config:h,isLoaded:!0,isLoading:!1,error:null}),console.log("Configuracin parcial aplicada exitosamente"),{success:!0,message:"Configuracin parcial aplicada",hasChanges:!0})}catch(h){const d=`Error al fusionar configuraciones: ${h.message}`;return console.error("applyPartialConfig:",d),l({error:`Error al aplicar configuracin parcial: ${h.message}`}),{success:!1,message:d,hasChanges:!1}}}}));function ZT(l){const t=En(h=>h.config),i=_t.useRef(null),[a,r]=_t.useState(!1);_t.useEffect(()=>{if(!l||!l.current||!t||i.current)return;const{mapConfig:h}=t;return i.current=new ST({target:l.current,layers:[],view:new pn({center:WE([h.center.longitude,h.center.latitude]),zoom:h.zoom.initial,maxZoom:h.zoom.max,minZoom:h.zoom.min}),controls:Ty({zoom:!1}).extend([new MT,new RT,new Sy,new AT({coordinateFormat:mE(4),projection:"EPSG:4326",className:"ol-mouse-position custom-mouse-position",placeholder:"Coordenadas"})])}),r(!0),()=>{i.current&&(i.current.setTarget(null),i.current=null,r(!1))}},[l,t]);const u=h=>{if(!i.current)return;i.current.getView().animate({zoom:h,duration:100})};return{map:i.current,updateZoom:u,mapReady:a}}class Lf extends Lo{constructor(t,i,a){super(),a=a||{},this.tileCoord=t,this.state=i,this.key="",this.transition_=a.transition===void 0?250:a.transition,this.transitionStarts_={},this.interpolate=!!a.interpolate}changed(){this.dispatchEvent(dt.CHANGE)}release(){this.setState(st.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==st.EMPTY){if(this.state!==st.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){At()}getAlpha(t,i){if(!this.transition_)return 1;let a=this.transitionStarts_[t];if(!a)a=i,this.transitionStarts_[t]=a;else if(a===-1)return 1;const r=i-a+1e3/60;return r>=this.transition_?1:sy(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function tf(l){return l instanceof Image||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageBitmap?l:null}const qT=new Error("disposed"),KT=[256,256];class j_ extends Lf{constructor(t){const i=st.IDLE;super(t.tileCoord,i,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=tf(this.data_);return t?[t.width,t.height]:KT}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==st.IDLE&&this.state!==st.ERROR)return;this.state=st.LOADING,this.changed();const t=this;this.loader_().then(function(i){t.data_=i,t.state=st.LOADED,t.changed()}).catch(function(i){t.error_=i,t.state=st.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(qT),this.controller_=null),super.disposeInternal()}}class Fy extends Lf{constructor(t,i,a,r,u,h){super(t,i,h),this.crossOrigin_=r,this.src_=a,this.key=a,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=u}getImage(){return this.image_}setImage(t){this.image_=t,this.state=st.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=st.ERROR,this.unlistenImage_(),this.image_=PT(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=st.LOADED:this.state=st.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==st.ERROR&&(this.state=st.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==st.IDLE&&(this.state=st.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=KS(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function PT(){const l=Ne(1,1);return l.fillStyle="rgba(0,0,0,0)",l.fillRect(0,0,1,1),l.canvas}class Df{constructor(t,i,a,r){this.minX=t,this.maxX=i,this.minY=a,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,i){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Zs(l,t,i,a,r){return r!==void 0?(r.minX=l,r.maxX=t,r.minY=i,r.maxY=a,r):new Df(l,t,i,a)}let jh;const ta=[];function G_(l,t,i,a,r){l.beginPath(),l.moveTo(0,0),l.lineTo(t,i),l.lineTo(a,r),l.closePath(),l.save(),l.clip(),l.fillRect(0,0,Math.max(t,a)+1,Math.max(i,r)),l.restore()}function Gh(l,t){return Math.abs(l[t*4]-210)>2||Math.abs(l[t*4+3]-.75*255)>2}function FT(){if(jh===void 0){const l=Ne(6,6,ta);l.globalCompositeOperation="lighter",l.fillStyle="rgba(210, 0, 0, 0.75)",G_(l,4,5,4,0),G_(l,4,5,0,5);const t=l.getImageData(0,0,3,3).data;jh=Gh(t,0)||Gh(t,4)||Gh(t,8),vf(l),ta.push(l.canvas)}return jh}function ef(l,t,i,a){const r=Ho(i,t,l);let u=vo(t,a,i);const h=t.getMetersPerUnit();h!==void 0&&(u*=h);const d=l.getMetersPerUnit();d!==void 0&&(u/=d);const g=l.getExtent();if(!g||lf(g,r)){const m=vo(l,u,r)/u;isFinite(m)&&m>0&&(u/=m)}return u}function kT(l,t,i,a){const r=ea(i);let u=ef(l,t,r,a);return(!isFinite(u)||u<=0)&&ty(i,function(h){return u=ef(l,t,h,a),isFinite(u)&&u>0}),u}function QT(l,t,i,a,r,u,h,d,g,m,_,p,E,R){const x=Ne(Math.round(i*l),Math.round(i*t),ta);if(p||(x.imageSmoothingEnabled=!1),g.length===0)return x.canvas;x.scale(i,i);function D(z){return Math.round(z*i)/i}x.globalCompositeOperation="lighter";const O=vi();g.forEach(function(z,J,tt){rE(O,z.extent)});let I;const B=i/a,q=(p?1:1+Math.pow(2,-24))/B;I=Ne(Math.round(Bt(O)*B),Math.round(Ze(O)*B),ta),p||(I.imageSmoothingEnabled=!1),g.forEach(function(z,J,tt){if(z.image.width>0&&z.image.height>0){if(z.clipExtent){I.save();const Et=(z.clipExtent[0]-O[0])*B,gt=-(z.clipExtent[3]-O[3])*B,Zt=Bt(z.clipExtent)*B,Tt=Ze(z.clipExtent)*B;I.rect(p?Et:Math.round(Et),p?gt:Math.round(gt),p?Zt:Math.round(Et+Zt)-Math.round(Et),p?Tt:Math.round(gt+Tt)-Math.round(gt)),I.clip()}const Z=(z.extent[0]-O[0])*B,W=-(z.extent[3]-O[3])*B,nt=Bt(z.extent)*B,Mt=Ze(z.extent)*B;I.drawImage(z.image,m,m,z.image.width-2*m,z.image.height-2*m,p?Z:Math.round(Z),p?W:Math.round(W),p?nt:Math.round(Z+nt)-Math.round(Z),p?Mt:Math.round(W+Mt)-Math.round(W)),z.clipExtent&&I.restore()}});const V=ki(h);return d.getTriangles().forEach(function(z,J,tt){const Z=z.source,W=z.target;let nt=Z[0][0],Mt=Z[0][1],Et=Z[1][0],gt=Z[1][1],Zt=Z[2][0],Tt=Z[2][1];const N=D((W[0][0]-V[0])/u),P=D(-(W[0][1]-V[1])/u),k=D((W[1][0]-V[0])/u),rt=D(-(W[1][1]-V[1])/u),S=D((W[2][0]-V[0])/u),H=D(-(W[2][1]-V[1])/u),F=nt,K=Mt;nt=0,Mt=0,Et-=F,gt-=K,Zt-=F,Tt-=K;const $=[[Et,gt,0,0,k-N],[Zt,Tt,0,0,S-N],[0,0,Et,gt,rt-P],[0,0,Zt,Tt,H-P]],ct=eE($);if(!ct)return;if(x.save(),x.beginPath(),FT()||!p){x.moveTo(k,rt);const Ut=4,xt=N-k,ue=P-rt;for(let Re=0;Re<Ut;Re++)x.lineTo(k+D((Re+1)*xt/Ut),rt+D(Re*ue/(Ut-1))),Re!=Ut-1&&x.lineTo(k+D((Re+1)*xt/Ut),rt+D((Re+1)*ue/(Ut-1)));x.lineTo(S,H)}else x.moveTo(k,rt),x.lineTo(N,P),x.lineTo(S,H);x.clip(),x.transform(ct[0],ct[2],ct[1],ct[3],N,P),x.translate(O[0]-F,O[3]-K);let it;if(I)it=I.canvas,x.scale(q,-q);else{const Ut=g[0],xt=Ut.extent;it=Ut.image,x.scale(Bt(xt)/it.width,-Ze(xt)/it.height)}x.drawImage(it,0,0),x.restore()}),I&&(vf(I),ta.push(I.canvas)),_&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,d.getTriangles().forEach(function(z,J,tt){const Z=z.target,W=(Z[0][0]-V[0])/u,nt=-(Z[0][1]-V[1])/u,Mt=(Z[1][0]-V[0])/u,Et=-(Z[1][1]-V[1])/u,gt=(Z[2][0]-V[0])/u,Zt=-(Z[2][1]-V[1])/u;x.beginPath(),x.moveTo(Mt,Et),x.lineTo(W,nt),x.lineTo(gt,Zt),x.closePath(),x.stroke()}),x.restore()),x.canvas}const WT=10,I_=.25;class $T{constructor(t,i,a,r,u,h,d){this.sourceProj_=t,this.targetProj_=i;let g={};const m=d?QE(q=>Ve(d,Ho(q,this.targetProj_,this.sourceProj_))):Eo(this.targetProj_,this.sourceProj_);this.transformInv_=function(q){const V=q[0]+"/"+q[1];return g[V]||(g[V]=m(q)),g[V]},this.maxSourceExtent_=r,this.errorThresholdSquared_=u*u,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Bt(r)>=Bt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Bt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Bt(this.targetProj_.getExtent()):null;const _=ki(a),p=jo(a),E=Uo(a),R=zo(a),x=this.transformInv_(_),D=this.transformInv_(p),O=this.transformInv_(E),I=this.transformInv_(R),B=WT+(h?Math.max(0,Math.ceil(Math.log2(Vh(a)/(h*h*256*256)))):0);if(this.addQuad_(_,p,E,R,x,D,O,I,B),this.wrapsXInSource_){let q=1/0;this.triangles_.forEach(function(V,z,J){q=Math.min(q,V.source[0][0],V.source[1][0],V.source[2][0])}),this.triangles_.forEach(V=>{if(Math.max(V.source[0][0],V.source[1][0],V.source[2][0])-q>this.sourceWorldWidth_/2){const z=[[V.source[0][0],V.source[0][1]],[V.source[1][0],V.source[1][1]],[V.source[2][0],V.source[2][1]]];z[0][0]-q>this.sourceWorldWidth_/2&&(z[0][0]-=this.sourceWorldWidth_),z[1][0]-q>this.sourceWorldWidth_/2&&(z[1][0]-=this.sourceWorldWidth_),z[2][0]-q>this.sourceWorldWidth_/2&&(z[2][0]-=this.sourceWorldWidth_);const J=Math.min(z[0][0],z[1][0],z[2][0]);Math.max(z[0][0],z[1][0],z[2][0])-J<this.sourceWorldWidth_/2&&(V.source=z)}})}g={}}addTriangle_(t,i,a,r,u,h){this.triangles_.push({source:[r,u,h],target:[t,i,a]})}addQuad_(t,i,a,r,u,h,d,g,m){const _=B0([u,h,d,g]),p=this.sourceWorldWidth_?Bt(_)/this.sourceWorldWidth_:null,E=this.sourceWorldWidth_,R=this.sourceProj_.canWrapX()&&p>.5&&p<1;let x=!1;if(m>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const O=B0([t,i,a,r]);x=Bt(O)/this.targetWorldWidth_>I_||x}!R&&this.sourceProj_.isGlobal()&&p&&(x=p>I_||x)}if(!x&&this.maxSourceExtent_&&isFinite(_[0])&&isFinite(_[1])&&isFinite(_[2])&&isFinite(_[3])&&!Nl(_,this.maxSourceExtent_))return;let D=0;if(!x&&(!isFinite(u[0])||!isFinite(u[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(d[0])||!isFinite(d[1])||!isFinite(g[0])||!isFinite(g[1]))){if(m>0)x=!0;else if(D=(!isFinite(u[0])||!isFinite(u[1])?8:0)+(!isFinite(h[0])||!isFinite(h[1])?4:0)+(!isFinite(d[0])||!isFinite(d[1])?2:0)+(!isFinite(g[0])||!isFinite(g[1])?1:0),D!=1&&D!=2&&D!=4&&D!=8)return}if(m>0){if(!x){const O=[(t[0]+a[0])/2,(t[1]+a[1])/2],I=this.transformInv_(O);let B;R?B=(Zi(u[0],E)+Zi(d[0],E))/2-Zi(I[0],E):B=(u[0]+d[0])/2-I[0];const q=(u[1]+d[1])/2-I[1];x=B*B+q*q>this.errorThresholdSquared_}if(x){if(Math.abs(t[0]-a[0])<=Math.abs(t[1]-a[1])){const O=[(i[0]+a[0])/2,(i[1]+a[1])/2],I=this.transformInv_(O),B=[(r[0]+t[0])/2,(r[1]+t[1])/2],q=this.transformInv_(B);this.addQuad_(t,i,O,B,u,h,I,q,m-1),this.addQuad_(B,O,a,r,q,I,d,g,m-1)}else{const O=[(t[0]+i[0])/2,(t[1]+i[1])/2],I=this.transformInv_(O),B=[(a[0]+r[0])/2,(a[1]+r[1])/2],q=this.transformInv_(B);this.addQuad_(t,O,B,r,u,I,q,g,m-1),this.addQuad_(O,i,a,B,I,h,d,q,m-1)}return}}if(R){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(D&11)==0&&this.addTriangle_(t,a,r,u,d,g),(D&14)==0&&this.addTriangle_(t,a,i,u,d,h),D&&((D&13)==0&&this.addTriangle_(i,r,t,h,g,u),(D&7)==0&&this.addTriangle_(i,r,a,h,g,d))}calculateSourceExtent(){const t=vi();return this.triangles_.forEach(function(i,a,r){const u=i.source;co(t,u[0]),co(t,u[1]),co(t,u[2])}),t}getTriangles(){return this.triangles_}}const JT=.5;class ky extends Lf{constructor(t,i,a,r,u,h,d,g,m,_,p,E){super(u,st.IDLE,E),this.renderEdges_=p!==void 0?p:!1,this.pixelRatio_=d,this.gutter_=g,this.canvas_=null,this.sourceTileGrid_=i,this.targetTileGrid_=r,this.wrappedTileCoord_=h||u,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const R=r.getTileCoordExtent(this.wrappedTileCoord_),x=this.targetTileGrid_.getExtent();let D=this.sourceTileGrid_.getExtent();const O=x?qi(R,x):R;if(Vh(O)===0){this.state=st.EMPTY;return}const I=t.getExtent();I&&(D?D=qi(D,I):D=I);const B=r.getResolution(this.wrappedTileCoord_[0]),q=kT(t,a,O,B);if(!isFinite(q)||q<=0){this.state=st.EMPTY;return}const V=_!==void 0?_:JT;if(this.triangulation_=new $T(t,a,O,D,q*V,B),this.triangulation_.getTriangles().length===0){this.state=st.EMPTY;return}this.sourceZ_=i.getZForResolution(q);let z=this.triangulation_.calculateSourceExtent();if(D&&(t.canWrapX()?(z[1]=$t(z[1],D[1],D[3]),z[3]=$t(z[3],D[1],D[3])):z=qi(z,D)),!Vh(z))this.state=st.EMPTY;else{let J=0,tt=0;t.canWrapX()&&(J=Bt(I),tt=Math.floor((z[0]-I[0])/J)),dE(z.slice(),t).forEach(W=>{const nt=i.getTileRangeForExtentAndZ(W,this.sourceZ_);for(let Mt=nt.minX;Mt<=nt.maxX;Mt++)for(let Et=nt.minY;Et<=nt.maxY;Et++){const gt=m(this.sourceZ_,Mt,Et,d);if(gt){const Zt=tt*J;this.sourceTiles_.push({tile:gt,offset:Zt})}}++tt}),this.sourceTiles_.length===0&&(this.state=st.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(i=>{var r;const a=i.tile;if(a&&a.getState()==st.LOADED){const u=this.sourceTileGrid_.getTileCoordExtent(a.tileCoord);u[0]+=i.offset,u[2]+=i.offset;const h=(r=this.clipExtent_)==null?void 0:r.slice();h&&(h[0]+=i.offset,h[2]+=i.offset),t.push({extent:u,clipExtent:h,image:a.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=st.ERROR;else{const i=this.wrappedTileCoord_[0],a=this.targetTileGrid_.getTileSize(i),r=typeof a=="number"?a:a[0],u=typeof a=="number"?a:a[1],h=this.targetTileGrid_.getResolution(i),d=this.sourceTileGrid_.getResolution(this.sourceZ_),g=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=QT(r,u,this.pixelRatio_,d,this.sourceTileGrid_.getExtent(),h,g,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=st.LOADED}this.changed()}load(){if(this.state==st.IDLE){this.state=st.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:i})=>{const a=i.getState();if(a==st.IDLE||a==st.LOADING){t++;const r=Ct(i,dt.CHANGE,u=>{const h=i.getState();(h==st.LOADED||h==st.ERROR||h==st.EMPTY)&&(kt(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:i},a,r){i.getState()==st.IDLE&&i.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(kt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(vf(this.canvas_.getContext("2d")),ta.push(this.canvas_),this.canvas_=null),super.release()}}class tR{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof wo&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let i=this.oldest_;for(;i;)t(i.value_,i.key_,this),i=i.newer}get(t,i){const a=this.entries_[t];return Ht(a!==void 0,"Tried to get a value for a key that does not exist in the cache"),a===this.newest_||(a===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(a.newer.older=a.older,a.older.newer=a.newer),a.newer=null,a.older=this.newest_,this.newest_.newer=a,this.newest_=a),a.value_}remove(t){const i=this.entries_[t];return Ht(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_?(this.newest_=i.older,this.newest_&&(this.newest_.newer=null)):i===this.oldest_?(this.oldest_=i.newer,this.oldest_&&(this.oldest_.older=null)):(i.newer.older=i.older,i.older.newer=i.newer),delete this.entries_[t],--this.count_,i.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let i=0,a;for(a=this.newest_;a;a=a.older)t[i++]=a.key_;return t}getValues(){const t=new Array(this.count_);let i=0,a;for(a=this.newest_;a;a=a.older)t[i++]=a.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var i;return(i=this.entries_[t])==null?void 0:i.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,i){this.get(t),this.entries_[t].value_=i}set(t,i){Ht(!(t in this.entries_),"Tried to set a value for a key that is used already");const a={key_:t,newer:null,older:this.newest_,value_:i};this.newest_?this.newest_.newer=a:this.oldest_=a,this.newest_=a,this.entries_[t]=a,++this.count_}setSize(t){this.highWaterMark=t}}function xo(l,t,i,a){return a!==void 0?(a[0]=l,a[1]=t,a[2]=i,a):[l,t,i]}function eR(l,t,i){return l+"/"+t+"/"+i}function Qy(l){return nR(l[0],l[1],l[2])}function nR(l,t,i){return(t<<l)+i}function iR(l,t){const i=l[0],a=l[1],r=l[2];if(t.getMinZoom()>i||i>t.getMaxZoom())return!1;const u=t.getFullTileRange(i);return u?u.containsXY(a,r):!0}class sR{constructor(){x0(this,"pushMethodArgs_",(...t)=>(this.push_(t),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(bo(),{get:(t,i)=>{if(typeof bo()[i]=="function")return this.push_(i),this.pushMethodArgs_},set:(t,i,a)=>(this.push_(i,a),!0)})}push_(...t){const i=this.instructions_,a=this.zIndex+this.offset_;i[a]||(i[a]=[]),i[a].push(...t)}pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(i=>{for(let a=0,r=i.length;a<r;++a){const u=i[a];if(typeof u=="function"){u(t);continue}const h=i[++a];if(typeof t[u]=="function")t[u](...h);else{if(typeof h=="function"){t[u]=h(t);continue}t[u]=h}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const aR=5;class lR extends Ll{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=aR}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return At()}getData(t){return null}prepareFrame(t){return At()}renderFrame(t,i){return At()}forEachFeatureAtCoordinate(t,i,a,r,u){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const i=t.target;(i.getState()===St.LOADED||i.getState()===St.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let i=t.getState();return i!=St.LOADED&&i!=St.ERROR&&t.addEventListener(dt.CHANGE,this.boundHandleImageChange_),i==St.IDLE&&(t.load(),i=t.getState()),i==St.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}let Fs=null;function rR(){Fs=Ne(1,1,void 0,{willReadFrequently:!0})}class oR extends lR{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=$s(),this.pixelTransform=$s(),this.inversePixelTransform=$s(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,i,a){Fs||rR(),Fs.clearRect(0,0,1,1);let r;try{Fs.drawImage(t,i,a,1,1,0,0,1,1),r=Fs.getImageData(0,0,1,1).data}catch{return Fs=null,null}return r}getBackground(t){let a=this.getLayer().getBackground();return typeof a=="function"&&(a=a(t.viewState.resolution)),a||void 0}useContainer(t,i,a){const r=this.getLayer().getClassName();let u,h;if(t&&t.className===r&&(!a||t&&t.style.backgroundColor&&Co(sa(t.style.backgroundColor),sa(a)))){const d=t.firstElementChild;d instanceof HTMLCanvasElement&&(h=d.getContext("2d"))}if(h&&ib(h.canvas.style.transform,i)?(this.container=t,this.context=h,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){u=document.createElement("div"),u.className=r;let d=u.style;d.position="absolute",d.width="100%",d.height="100%",h=Ne();const g=h.canvas;u.appendChild(g),d=g.style,d.position="absolute",d.left="0",d.transformOrigin="top left",this.container=u,this.context=h}!this.containerReused&&a&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=a)}clipUnrotated(t,i,a){const r=ki(a),u=jo(a),h=Uo(a),d=zo(a);Ve(i.coordinateToPixelTransform,r),Ve(i.coordinateToPixelTransform,u),Ve(i.coordinateToPixelTransform,h),Ve(i.coordinateToPixelTransform,d);const g=this.inversePixelTransform;Ve(g,r),Ve(g,u),Ve(g,h),Ve(g,d),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(u[0]),Math.round(u[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.lineTo(Math.round(d[0]),Math.round(d[1])),t.clip()}prepareContainer(t,i){const a=t.extent,r=t.viewState.resolution,u=t.viewState.rotation,h=t.pixelRatio,d=Math.round(Bt(a)/r*h),g=Math.round(Ze(a)/r*h);wl(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/h,1/h,u,-d/2,-g/2),fy(this.inversePixelTransform,this.pixelTransform);const m=nb(this.pixelTransform);if(this.useContainer(i,m,this.getBackground(t)),!this.containerReused){const _=this.context.canvas;_.width!=d||_.height!=g?(_.width=d,_.height=g):this.context.clearRect(0,0,d,g),m!==_.style.transform&&(_.style.transform=m)}}dispatchRenderEvent_(t,i,a){const r=this.getLayer();if(r.hasListener(t)){const u=new Yy(t,this.inversePixelTransform,a,i);r.dispatchEvent(u)}}preRender(t,i){this.frameState=i,!i.declutter&&this.dispatchRenderEvent_(vn.PRERENDER,t,i)}postRender(t,i){i.declutter||this.dispatchRenderEvent_(vn.POSTRENDER,t,i)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new sR),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(vn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(vn.POSTRENDER,this.context,t))}getRenderTransform(t,i,a,r,u,h,d){const g=u/2,m=h/2,_=r/i,p=-_,E=-t[0]+d,R=-t[1];return wl(this.tempTransform,g,m,_,p,-a,E,R)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function Ih(l,t,i,a){return`${l},${eR(t,i,a)}`}function Xh(l,t,i){if(!(i in l))return l[i]=new Set([t]),!0;const a=l[i],r=a.has(t);return r||a.add(t),!r}function uR(l,t,i){const a=l[i];return a?a.delete(t):!1}function X_(l,t){const i=l.layerStatesArray[l.layerIndex];i.extent&&(t=qi(t,Bi(i.extent,l.viewState.projection)));const a=i.layer.getRenderSource();if(!a.getWrapX()){const r=a.getTileGridForProjection(l.viewState.projection).getExtent();r&&(t=qi(t,r))}return t}class cR extends oR{constructor(t,i){super(t),i=i||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=vi(),this.tempTileRange_=new Df(0,0,0,0),this.tempTileCoord_=xo(0,0,0);const a=i.cacheSize!==void 0?i.cacheSize:512;this.tileCache_=new tR(a),this.maxStaleKeys=a*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,i,a,r){const u=this.tileCache_,d=this.getLayer().getSource(),g=Ih(d.getKey(),t,i,a);let m;if(u.containsKey(g))m=u.get(g);else{if(m=d.getTile(t,i,a,r.pixelRatio,r.viewState.projection),!m)return null;u.set(g,m)}return m}getTile(t,i,a,r){const u=this.getOrCreateTile(t,i,a,r);return u||null}getData(t){const i=this.frameState;if(!i)return null;const a=this.getLayer(),r=Ve(i.pixelToCoordinateTransform,t.slice()),u=a.getExtent();if(u&&!lf(u,r))return null;const h=i.viewState,d=a.getRenderSource(),g=d.getTileGridForProjection(h.projection),m=d.getTilePixelRatio(i.pixelRatio);for(let _=g.getZForResolution(h.resolution);_>=g.getMinZoom();--_){const p=g.getTileCoordForCoordAndZ(r,_),E=this.getTile(_,p[1],p[2],i);if(!E||E.getState()!==st.LOADED)continue;const R=g.getOrigin(_),x=De(g.getTileSize(_)),D=g.getResolution(_);let O;if(E instanceof Fy||E instanceof ky)O=E.getImage();else if(E instanceof j_){if(O=tf(E.getData()),!O)continue}else continue;const I=Math.floor(m*((r[0]-R[0])/D-p[1]*x[0])),B=Math.floor(m*((R[1]-r[1])/D-p[2]*x[1])),q=Math.round(m*d.getGutterForProjection(h.projection));return this.getImageData(O,I+q,B+q)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const i=this.getLayer().getSource();if(!i)return!1;const a=i.getRevision();return this.renderedRevision_?this.renderedRevision_!==a&&(this.renderedRevision_=a,this.renderedSourceKey_===i.getKey()&&this.tileCache_.clear()):this.renderedRevision_=a,!0}enqueueTiles(t,i,a,r,u){const h=t.viewState,d=this.getLayer(),g=d.getRenderSource(),m=g.getTileGridForProjection(h.projection),_=pe(g);_ in t.wantedTiles||(t.wantedTiles[_]={});const p=t.wantedTiles[_],E=d.getMapInternal(),R=Math.max(a-u,m.getMinZoom(),m.getZForResolution(Math.min(d.getMaxResolution(),E?E.getView().getResolutionForZoom(Math.max(d.getMinZoom(),0)):m.getResolution(0)),g.zDirection)),x=h.rotation,D=x?ey(h.center,h.resolution,x,t.size):void 0;for(let O=a;O>=R;--O){const I=m.getTileRangeForExtentAndZ(i,O,this.tempTileRange_),B=m.getResolution(O);for(let q=I.minX;q<=I.maxX;++q)for(let V=I.minY;V<=I.maxY;++V){if(x&&!m.tileCoordIntersectsViewport([O,q,V],D))continue;const z=this.getTile(O,q,V,t);if(!z||!Xh(r,z,O))continue;const tt=z.getKey();if(p[tt]=!0,z.getState()===st.IDLE&&!t.tileQueue.isKeyQueued(tt)){const Z=xo(O,q,V,this.tempTileCoord_);t.tileQueue.enqueue([z,_,m.getTileCoordCenter(Z),B])}}}}findStaleTile_(t,i){const a=this.tileCache_,r=t[0],u=t[1],h=t[2],d=this.getStaleKeys();for(let g=0;g<d.length;++g){const m=Ih(d[g],r,u,h);if(a.containsKey(m)){const _=a.peek(m);if(_.getState()===st.LOADED)return _.endTransition(pe(this)),Xh(i,_,r),!0}}return!1}findAltTiles_(t,i,a,r){const u=t.getTileRangeForTileCoordAndZ(i,a,this.tempTileRange_);if(!u)return!1;let h=!0;const d=this.tileCache_,m=this.getLayer().getRenderSource().getKey();for(let _=u.minX;_<=u.maxX;++_)for(let p=u.minY;p<=u.maxY;++p){const E=Ih(m,a,_,p);let R=!1;if(d.containsKey(E)){const x=d.peek(E);x.getState()===st.LOADED&&(Xh(r,x,a),R=!0)}R||(h=!1)}return h}renderFrame(t,i){this.renderComplete=!0;const a=t.layerStatesArray[t.layerIndex],r=t.viewState,u=r.projection,h=r.resolution,d=r.center,g=t.pixelRatio,m=this.getLayer(),_=m.getSource(),p=_.getTileGridForProjection(u),E=p.getZForResolution(h,_.zDirection),R=p.getResolution(E),x=_.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==x&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=x):this.renderedSourceKey_=x;let D=t.extent;const O=_.getTilePixelRatio(g);this.prepareContainer(t,i);const I=this.context.canvas.width,B=this.context.canvas.height,q=a.extent&&Bi(a.extent);q&&(D=qi(D,Bi(a.extent)));const V=R*I/2/O,z=R*B/2/O,J=[d[0]-V,d[1]-z,d[0]+V,d[1]+z],tt={};this.renderedTiles.length=0;const Z=m.getPreload();if(t.nextExtent){const k=p.getZForResolution(r.nextResolution,_.zDirection),rt=X_(t,t.nextExtent);this.enqueueTiles(t,rt,k,tt,Z)}const W=X_(t,D);if(this.enqueueTiles(t,W,E,tt,0),Z>0&&setTimeout(()=>{this.enqueueTiles(t,W,E-1,tt,Z-1)},0),!(E in tt))return this.container;const nt=pe(this),Mt=t.time;for(const k of tt[E]){const rt=k.getState();if(rt===st.EMPTY)continue;const S=k.tileCoord;if(rt===st.LOADED&&k.getAlpha(nt,Mt)===1){k.endTransition(nt);continue}if(rt!==st.ERROR&&(this.renderComplete=!1),this.findStaleTile_(S,tt)){uR(tt,k,E),t.animate=!0;continue}if(this.findAltTiles_(p,S,E+1,tt))continue;const K=p.getMinZoom();for(let $=E-1;$>=K&&!this.findAltTiles_(p,S,$,tt);--$);}const Et=R/h*g/O,gt=this.getRenderContext(t);wl(this.tempTransform,I/2,B/2,Et,Et,0,-I/2,-B/2),a.extent&&this.clipUnrotated(gt,t,q),_.getInterpolate()||(gt.imageSmoothingEnabled=!1),this.preRender(gt,t);const Zt=Object.keys(tt).map(Number);Zt.sort(Ao);let Tt;const N=[],P=[];for(let k=Zt.length-1;k>=0;--k){const rt=Zt[k],S=_.getTilePixelSize(rt,g,u),F=p.getResolution(rt)/R,K=S[0]*F*Et,$=S[1]*F*Et,ct=p.getTileCoordForCoordAndZ(ki(J),rt),it=p.getTileCoordExtent(ct),Ut=Ve(this.tempTransform,[O*(it[0]-J[0])/R,O*(J[3]-it[3])/R]),xt=O*_.getGutterForProjection(u);for(const ue of tt[rt]){if(ue.getState()!==st.LOADED)continue;const Re=ue.tileCoord,Ei=ct[1]-Re[1],ua=Math.round(Ut[0]-(Ei-1)*K),Wi=ct[2]-Re[2],ca=Math.round(Ut[1]-(Wi-1)*$),hn=Math.round(Ut[0]-Ei*K),fn=Math.round(Ut[1]-Wi*$),ve=ua-hn,$i=ca-fn,ha=Zt.length===1;let Ji=!1;Tt=[hn,fn,hn+ve,fn,hn+ve,fn+$i,hn,fn+$i];for(let bn=0,Wo=N.length;bn<Wo;++bn)if(!ha&&rt<P[bn]){const Ee=N[bn];Nl([hn,fn,hn+ve,fn+$i],[Ee[0],Ee[3],Ee[4],Ee[7]])&&(Ji||(gt.save(),Ji=!0),gt.beginPath(),gt.moveTo(Tt[0],Tt[1]),gt.lineTo(Tt[2],Tt[3]),gt.lineTo(Tt[4],Tt[5]),gt.lineTo(Tt[6],Tt[7]),gt.moveTo(Ee[6],Ee[7]),gt.lineTo(Ee[4],Ee[5]),gt.lineTo(Ee[2],Ee[3]),gt.lineTo(Ee[0],Ee[1]),gt.clip())}N.push(Tt),P.push(rt),this.drawTile(ue,t,hn,fn,ve,$i,xt,ha),Ji&&gt.restore(),this.renderedTiles.unshift(ue),this.updateUsedTiles(t.usedTiles,_,ue)}}if(this.renderedResolution=R,this.extentChanged=!this.renderedExtent_||!Bh(this.renderedExtent_,J),this.renderedExtent_=J,this.renderedPixelRatio=g,this.postRender(this.context,t),a.extent&&gt.restore(),gt.imageSmoothingEnabled=!0,this.renderComplete){const k=(rt,S)=>{const H=pe(_),F=S.wantedTiles[H],K=F?Object.keys(F).length:0;this.updateCacheSize(K),this.tileCache_.expireCache()};t.postRenderFunctions.push(k)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,i,a,r,u,h,d,g){let m;if(t instanceof j_){if(m=tf(t.getData()),!m)throw new Error("Rendering array data is not yet supported")}else m=this.getTileImage(t);if(!m)return;const _=this.getRenderContext(i),p=pe(this),E=i.layerStatesArray[i.layerIndex],R=E.opacity*(g?t.getAlpha(p,i.time):1),x=R!==_.globalAlpha;x&&(_.save(),_.globalAlpha=R),_.drawImage(m,d,d,m.width-2*d,m.height-2*d,a,r,u,h),x&&_.restore(),R!==E.opacity?i.animate=!0:g&&t.endTransition(p)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,i,a){const r=pe(i);r in t||(t[r]={}),t[r][a.getKey()]=!0}}const uo={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class hR extends Vo{constructor(t){t=t||{};const i=Object.assign({},t),a=t.cacheSize;delete t.cacheSize,delete i.preload,delete i.useInterimTilesOnError,super(i),this.on,this.once,this.un,this.cacheSize_=a,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(uo.PRELOAD)}setPreload(t){this.set(uo.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(uo.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(uo.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class Nf extends hR{constructor(t){super(t)}createRenderer(){return new cR(this,{cacheSize:this.getCacheSize()})}}const qs=[0,0,0],di=5;class Wy{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,Ht(H1(this.resolutions_,(r,u)=>u-r),"`resolutions` must be sorted in descending order");let i;if(!t.origins){for(let r=0,u=this.resolutions_.length-1;r<u;++r)if(!i)i=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==i){i=void 0;break}}this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,Ht(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const a=t.extent;a!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=ki(a)),Ht(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,Ht(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:pf,Ht(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=a!==void 0?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,u)=>{const h=new Df(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(a){const d=this.getTileRangeForExtentAndZ(a,u);h.minX=Math.max(d.minX,h.minX),h.maxX=Math.min(d.maxX,h.maxX),h.minY=Math.max(d.minY,h.minY),h.maxY=Math.min(d.maxY,h.maxY)}return h}):a&&this.calculateTileRanges_(a)}forEachTileCoord(t,i,a){const r=this.getTileRangeForExtentAndZ(t,i);for(let u=r.minX,h=r.maxX;u<=h;++u)for(let d=r.minY,g=r.maxY;d<=g;++d)a([i,u,d])}forEachTileCoordParentTileRange(t,i,a,r){let u,h,d,g=null,m=t[0]-1;for(this.zoomFactor_===2?(h=t[1],d=t[2]):g=this.getTileCoordExtent(t,r);m>=this.minZoom;){if(h!==void 0&&d!==void 0?(h=Math.floor(h/2),d=Math.floor(d/2),u=Zs(h,h,d,d,a)):u=this.getTileRangeForExtentAndZ(g,m,a),i(m,u))return!0;--m}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,i,a){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const u=t[1]*2,h=t[2]*2;return Zs(u,u+1,h,h+1,i)}const r=this.getTileCoordExtent(t,a||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,i)}return null}getTileRangeForTileCoordAndZ(t,i,a){if(i>this.maxZoom||i<this.minZoom)return null;const r=t[0],u=t[1],h=t[2];if(i===r)return Zs(u,h,u,h,a);if(this.zoomFactor_){const g=Math.pow(this.zoomFactor_,i-r),m=Math.floor(u*g),_=Math.floor(h*g);if(i<r)return Zs(m,m,_,_,a);const p=Math.floor(g*(u+1))-1,E=Math.floor(g*(h+1))-1;return Zs(m,p,_,E,a)}const d=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(d,i,a)}getTileRangeForExtentAndZ(t,i,a){this.getTileCoordForXYAndZ_(t[0],t[3],i,!1,qs);const r=qs[1],u=qs[2];this.getTileCoordForXYAndZ_(t[2],t[1],i,!0,qs);const h=qs[1],d=qs[2];return Zs(r,h,u,d,a)}getTileCoordCenter(t){const i=this.getOrigin(t[0]),a=this.getResolution(t[0]),r=De(this.getTileSize(t[0]),this.tmpSize_);return[i[0]+(t[1]+.5)*r[0]*a,i[1]-(t[2]+.5)*r[1]*a]}getTileCoordExtent(t,i){const a=this.getOrigin(t[0]),r=this.getResolution(t[0]),u=De(this.getTileSize(t[0]),this.tmpSize_),h=a[0]+t[1]*u[0]*r,d=a[1]-(t[2]+1)*u[1]*r,g=h+u[0]*r,m=d+u[1]*r;return Dl(h,d,g,m,i)}getTileCoordForCoordAndResolution(t,i,a){return this.getTileCoordForXYAndResolution_(t[0],t[1],i,!1,a)}getTileCoordForXYAndResolution_(t,i,a,r,u){const h=this.getZForResolution(a),d=a/this.getResolution(h),g=this.getOrigin(h),m=De(this.getTileSize(h),this.tmpSize_);let _=d*(t-g[0])/a/m[0],p=d*(g[1]-i)/a/m[1];return r?(_=to(_,di)-1,p=to(p,di)-1):(_=Jr(_,di),p=Jr(p,di)),xo(h,_,p,u)}getTileCoordForXYAndZ_(t,i,a,r,u){const h=this.getOrigin(a),d=this.getResolution(a),g=De(this.getTileSize(a),this.tmpSize_);let m=(t-h[0])/d/g[0],_=(h[1]-i)/d/g[1];return r?(m=to(m,di)-1,_=to(_,di)-1):(m=Jr(m,di),_=Jr(_,di)),xo(a,m,_,u)}getTileCoordForCoordAndZ(t,i,a){return this.getTileCoordForXYAndZ_(t[0],t[1],i,!1,a)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,i){const a=af(this.resolutions_,t,i||0);return $t(a,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,i){return Ey(i,0,i.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const i=this.resolutions_.length,a=new Array(i);for(let r=this.minZoom;r<i;++r)a[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=a}}function $y(l){let t=l.getDefaultTileGrid();return t||(t=mR(l),l.setDefaultTileGrid(t)),t}function fR(l,t,i){const a=t[0],r=l.getTileCoordCenter(t),u=zf(i);if(!lf(u,r)){const h=Bt(u),d=Math.ceil((u[0]-r[0])/h);return r[0]+=h*d,l.getTileCoordForCoordAndZ(r,a)}return t}function dR(l,t,i,a){a=a!==void 0?a:"top-left";const r=Jy(l,t,i);return new Wy({extent:l,origin:uE(l,a),resolutions:r,tileSize:i})}function gR(l){const t=l||{},i=t.extent||Te("EPSG:3857").getExtent(),a={extent:i,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Jy(i,t.maxZoom,t.tileSize,t.maxResolution)};return new Wy(a)}function Jy(l,t,i,a){t=t!==void 0?t:Ob,i=De(i!==void 0?i:pf);const r=Ze(l),u=Bt(l);a=a>0?a:Math.max(u/i[0],r/i[1]);const h=t+1,d=new Array(h);for(let g=0;g<h;++g)d[g]=a/Math.pow(2,g);return d}function mR(l,t,i,a){const r=zf(l);return dR(r,t,i,a)}function zf(l){l=Te(l);let t=l.getExtent();if(!t){const i=180*na.degrees/l.getMetersPerUnit();t=Dl(-i,-i,i,i)}return t}function tp(l,t){const i=[];Object.keys(t).forEach(function(r){t[r]!==null&&t[r]!==void 0&&i.push(r+"="+encodeURIComponent(t[r]))});const a=i.join("&");return l=l.replace(/[?&]$/,""),l+=l.includes("?")?"&":"?",l+a}const _R=/\{z\}/g,yR=/\{x\}/g,pR=/\{y\}/g,vR=/\{-y\}/g;function ER(l,t,i,a,r){return l.replace(_R,t.toString()).replace(yR,i.toString()).replace(pR,a.toString()).replace(vR,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-a).toString()})}function bR(l){const t=[];let i=/\{([a-z])-([a-z])\}/.exec(l);if(i){const a=i[1].charCodeAt(0),r=i[2].charCodeAt(0);let u;for(u=a;u<=r;++u)t.push(l.replace(i[0],String.fromCharCode(u)));return t}if(i=/\{(\d+)-(\d+)\}/.exec(l),i){const a=parseInt(i[2],10);for(let r=parseInt(i[1],10);r<=a;r++)t.push(l.replace(i[0],r.toString()));return t}return t.push(l),t}function SR(l,t){return function(i,a,r){if(!i)return;let u;const h=i[0];if(t){const d=t.getFullTileRange(h);d&&(u=d.getHeight()-1)}return ER(l,h,i[1],i[2],u)}}function TR(l,t){const i=l.length,a=new Array(i);for(let r=0;r<i;++r)a[r]=SR(l[r],t);return RR(a)}function RR(l){return l.length===1?l[0]:function(t,i,a){if(!t)return;const r=Qy(t),u=Zi(r,l.length);return l[u](t,i,a)}}class xR extends Yn{constructor(t){super(),this.projection=Te(t.projection),this.attributions_=Y_(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const i=this;this.viewPromise_=new Promise(function(a,r){i.viewResolver=a,i.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=Y_(t),this.changed()}setState(t){this.state_=t,this.changed()}}function Y_(l){return l?typeof l=="function"?l:(Array.isArray(l)||(l=[l]),t=>l):null}class wR extends xR{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const i=[256,256];this.tileGrid&&De(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),i),this.tmpSize=[0,0],this.key_=t.key||pe(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const i=t?this.getTileGridForProjection(t):this.tileGrid;return i?i.getResolutions():null}getTile(t,i,a,r,u){return At()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:$y(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,i,a){const r=this.getTileGridForProjection(a),u=this.getTilePixelRatio(i),h=De(r.getTileSize(t),this.tmpSize);return u==1?h:bS(h,u,this.tmpSize)}getTileCoordForTileUrlFunction(t,i){const a=i!==void 0?i:this.getProjection(),r=i!==void 0?this.getTileGridForProjection(a):this.tileGrid||this.getTileGridForProjection(a);return this.getWrapX()&&a.isGlobal()&&(t=fR(r,t,a)),iR(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class AR extends pi{constructor(t,i){super(t),this.tile=i}}const Yh={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Uf extends wR{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Uf.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const i=t.target,a=pe(i),r=i.getState();let u;r==st.LOADING?(this.tileLoadingKeys_[a]=!0,u=Yh.TILELOADSTART):a in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[a],u=r==st.ERROR?Yh.TILELOADERROR:r==st.LOADED?Yh.TILELOADEND:void 0),u!=null&&this.dispatchEvent(new AR(u,i))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,i){this.tileUrlFunction=t,typeof i<"u"?this.setKey(i):this.changed()}setUrl(t){const i=bR(t);this.urls=i,this.setUrls(i)}setUrls(t){this.urls=t;const i=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(TR(t,this.tileGrid),i):this.setKey(i)}tileUrlFunction(t,i,a){}}class ep extends Uf{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:CR,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:Fy,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!_h(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const i=this.getProjection();if(this.tileGrid&&(!i||_h(i,t)))return this.tileGrid;const a=pe(t);return a in this.tileGridForProjection||(this.tileGridForProjection[a]=$y(t)),this.tileGridForProjection[a]}createTile_(t,i,a,r,u,h){const d=[t,i,a],g=this.getTileCoordForTileUrlFunction(d,u),m=g?this.tileUrlFunction(g,r,u):void 0,_=new this.tileClass(d,m!==void 0?st.IDLE:st.EMPTY,m!==void 0?m:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return _.key=h,_.addEventListener(dt.CHANGE,this.handleTileChange.bind(this)),_}getTile(t,i,a,r,u){const h=this.getProjection();if(!h||!u||_h(h,u))return this.getTileInternal(t,i,a,r,h||u);const d=[t,i,a],g=this.getKey(),m=this.getTileGridForProjection(h),_=this.getTileGridForProjection(u),p=this.getTileCoordForTileUrlFunction(d,u),E=new ky(h,m,u,_,d,p,this.getTilePixelRatio(r),this.getGutter(),(R,x,D,O)=>this.getTileInternal(R,x,D,O,h),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return E.key=g,E}getTileInternal(t,i,a,r,u){const h=this.getKey();return this.createTile_(t,i,a,r,u,h)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,i){const a=Te(t);if(a){const r=pe(a);r in this.tileGridForProjection||(this.tileGridForProjection[r]=i)}}}function CR(l,t){l.getImage().src=t}class np extends ep{constructor(t){t=t||{};const i=t.projection!==void 0?t.projection:"EPSG:3857",a=t.tileGrid!==void 0?t.tileGrid:gR({extent:zf(i),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:i,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const MR='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class OR extends np{constructor(t){t=t||{};let i;t.attributions!==void 0?i=t.attributions:i=[MR];const a=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:i,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:a,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}}const H_=4,nf="1.3.0";function LR(l,t,i,a,r){r.WIDTH=i[0],r.HEIGHT=i[1];const u=a.getAxisOrientation(),h=ny(r.VERSION,"1.3")>=0;r[h?"CRS":"SRS"]=a.getCode();const d=h&&u.startsWith("ne")?[t[1],t[0],t[3],t[2]]:t;return r.BBOX=d.join(","),tp(l,r)}function DR(l,t,i,a,r,u,h){u=Object.assign({REQUEST:"GetMap"},u);const d=t/i,g=[Y0(Bt(l)/d,H_),Y0(Ze(l)/d,H_)];if(i!=1)switch(h){case"geoserver":const _=90*i+.5|0;"FORMAT_OPTIONS"in u?u.FORMAT_OPTIONS+=";dpi:"+_:u.FORMAT_OPTIONS="dpi:"+_;break;case"mapserver":u.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":u.DPI=90*i;break;default:throw new Error("Unknown `serverType` configured")}return LR(r,l,g,a,u)}function B_(l,t){return Object.assign({REQUEST:t,SERVICE:"WMS",VERSION:nf,FORMAT:"image/png",STYLES:"",TRANSPARENT:"TRUE"},l)}class NR extends ep{constructor(t){t=t||{};const i=Object.assign({},t.params);super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0,this.params_=i,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=t.hidpi!==void 0?t.hidpi:!0,this.tmpExtent_=vi(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(t,i,a,r){const u=Te(a),h=this.getProjection()||u;let d=this.getTileGrid();d||(d=this.getTileGridForProjection(h));const g=Ho(t,u,h),m=ef(h,u,t,i),_=d.getZForResolution(m,this.zDirection),p=d.getResolution(_),E=d.getTileCoordForCoordAndZ(g,_);if(d.getResolutions().length<=E[0])return;let R=d.getTileCoordExtent(E,this.tmpExtent_);const x=this.gutter_;x!==0&&(R=V0(R,p*x,R));const D={QUERY_LAYERS:this.params_.LAYERS};Object.assign(D,B_(this.params_,"GetFeatureInfo"),r);const O=Math.floor((g[0]-R[0])/p),I=Math.floor((R[3]-g[1])/p);return D[this.v13_?"I":"X"]=O,D[this.v13_?"J":"Y"]=I,this.getRequestUrl_(E,R,1,h||u,D)}getLegendUrl(t,i){if(this.urls[0]===void 0)return;const a={SERVICE:"WMS",VERSION:nf,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(i===void 0||i.LAYER===void 0){const r=this.params_.LAYERS;if(!(!Array.isArray(r)||r.length===1))return;a.LAYER=r}if(t!==void 0){const r=this.getProjection()?this.getProjection().getMetersPerUnit():1,u=28e-5;a.SCALE=t*r/u}return Object.assign(a,i),tp(this.urls[0],a)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(t,i,a,r,u){const h=this.urls;if(!h)return;let d;if(h.length==1)d=h[0];else{const g=Zi(Qy(t),h.length);d=h[g]}return DR(i,(this.tileGrid||this.getTileGridForProjection(r)).getResolution(t[0]),a,r,d,u,this.serverType_)}getTilePixelRatio(t){return!this.hidpi_||this.serverType_===void 0?1:t}getKeyForParams_(){let t=0;const i=[];for(const a in this.params_)i[t++]=a+"-"+this.params_[a];return i.join("/")}setParams_(t){this.params_=t,this.updateV13_(),this.setKey(this.getKeyForParams_())}setParams(t){this.setParams_(Object.assign({},t))}updateParams(t){this.setParams_(Object.assign(this.params_,t))}updateV13_(){const t=this.params_.VERSION||nf;this.v13_=ny(t,"1.3")>=0}tileUrlFunction(t,i,a){let r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(a)),r.getResolutions().length<=t[0])return;i!=1&&(!this.hidpi_||this.serverType_===void 0)&&(i=1);const u=r.getResolution(t[0]);let h=r.getTileCoordExtent(t,this.tmpExtent_);const d=this.gutter_;d!==0&&(h=V0(h,u*d,h));const g=Object.assign({},B_(this.params_,"GetMap"));return this.getRequestUrl_(t,h,i,a,g)}}function V_({url:l,layerName:t,params:i={},options:a={}}){const r=l.includes("?")?l.split("?")[0]:l,u=new NR({url:r,params:{LAYERS:t,TILED:!0,FORMAT:"image/png",TRANSPARENT:!0,VERSION:"1.3.0",...i},serverType:"geoserver",crossOrigin:"anonymous",...a.source}),h=new Nf({source:u,visible:!0,preload:1/0,opacity:1,zIndex:1e3,...a.layer});return h.set("isDynamicWMS",!0),h.set("name",t),h.set("host",r),h}function zR({url:l,options:t={}}){const i=new np({url:l,crossOrigin:"anonymous",...t.source}),a=new Nf({source:i,visible:!0,preload:1/0,opacity:1,zIndex:900,...t.layer});return a.set("isDynamicXYZ",!0),a.set("name",l),a}function UR(l){const t=En(d=>d.config),[i,a]=_t.useState(""),[r,u]=_t.useState({});_t.useEffect(()=>{if(!l||!t)return;const d={};let g=null,m=1/0;return t.basemap.forEach(_=>{g===null&&(g=_.nombre),_.peso!==void 0&&_.peso<m&&(m=_.peso,g=_.nombre)}),t.basemap.forEach(_=>{var E;let p;_.servicio==="osm"?p=new Nf({source:new OR({attributions:_.attribution}),title:_.titulo,visible:_.nombre===g,properties:{name:_.nombre}}):p=zR({url:_.host,options:{source:{maxZoom:(E=_.zoom)==null?void 0:E.max,attributions:_.attribution},layer:{title:_.titulo,visible:_.nombre===g,properties:{name:_.nombre}}}}),d[_.nombre]=p,l.addLayer(p)}),a(g),u(d),()=>{Object.values(d).forEach(_=>{l.removeLayer(_)})}},[l,t]),_t.useEffect(()=>{!l||!i||Object.keys(r).length===0||Object.entries(r).forEach(([d,g])=>{g.setVisible(d===i)})},[i,r,l]);const h=(t==null?void 0:t.basemap)||[];return{selectedBaseMap:i,setSelectedBaseMap:a,baseLayers:h}}function jR({baseLayers:l,selectedBaseMap:t,onSelect:i}){const a=[...l].sort((r,u)=>r.peso-u.peso);return Y.jsx("div",{className:"bg-white rounded shadow-lg p-2 flex flex-row gap-2 overflow-x-auto max-h-[400px]",children:Y.jsx("div",{className:"flex flex-row flex-wrap gap-2 max-w-[300px]",children:a.map(r=>Y.jsx("button",{className:`flex flex-col items-center rounded transition-all ${t===r.nombre?"ring-2 ring-blue-500":"hover:ring-1 hover:ring-gray-300"}`,onClick:()=>i(r.nombre),children:Y.jsxs("div",{className:"w-[50px] h-[50px] bg-gray-200 rounded overflow-hidden shadow-sm relative",children:[Y.jsx("img",{src:r.legendImg||"",alt:r.titulo,className:"w-full h-full object-cover",onError:u=>{u.target.src="",u.target.classList.add("bg-gray-300")}}),Y.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-[2px] truncate text-center",children:r.titulo})]})},r.nombre))})})}function ip(l,t=null){let i;if(typeof l=="string"?i=new window.DOMParser().parseFromString(l,"text/xml"):i=l,i.getElementsByTagName("parsererror").length>0)throw new Error("Error al parsear XML");const a=i.documentElement.getAttribute("version")||"1.3.0",r=i.querySelector("Capability");if(!r)throw new Error("No se encontr el nodo Capability en el XML");const u=r.querySelector("Layer");if(!u)throw new Error("No se encontr el nodo Layer en el XML");return sp(u,a,"",t)}function sp(l,t,i="",a=null){if(!l)return[];const r=[];return l.querySelectorAll(":scope > Layer").forEach(h=>{var R,x;const d=((R=h.querySelector("Name"))==null?void 0:R.textContent)||"",g=((x=h.querySelector("Title"))==null?void 0:x.textContent)||"",m="WMS";let _=null,p=null;t.startsWith("1.3")?p=h.querySelector("BoundingBox[CRS='EPSG:3857']")||h.querySelector("BoundingBox[CRS='EPSG:900913']")||h.querySelector("BoundingBox"):p=h.querySelector("BoundingBox[SRS='EPSG:3857']")||h.querySelector("BoundingBox[SRS='EPSG:900913']")||h.querySelector("BoundingBox"),p&&(_={minx:parseFloat(p.getAttribute("minx")),miny:parseFloat(p.getAttribute("miny")),maxx:parseFloat(p.getAttribute("maxx")),maxy:parseFloat(p.getAttribute("maxy")),crs:p.getAttribute("CRS")||p.getAttribute("SRS")}),d&&r.push({id:i?`${i}:${d}`:d,name:d,title:g,type:m,bounds:_,wmsUrl:a});const E=sp(h,t,d,a);r.push(...E)}),r}const GR=[{value:"WMS",label:"WMS"},{value:"WMTS",label:"WMTS"},{value:"WFS",label:"WFS"},{value:"XYZ",label:"XYZ"}];function IR(l){return/^https?:\/\/.+\..+/.test(l)}async function XR(l,t=6e3){const i=new AbortController,a=setTimeout(()=>i.abort(),t);try{const r=await fetch(l,{method:"GET",signal:i.signal});return clearTimeout(a),r.ok}catch{return clearTimeout(a),!1}}function YR({isOpen:l,onClose:t,onAddLayers:i}){const[a,r]=_t.useState(""),[u,h]=_t.useState("WMS"),[d,g]=_t.useState(!1),[m,_]=_t.useState(""),[p,E]=_t.useState(!1),[R,x]=_t.useState([]),[D,O]=_t.useState([]),[I,B]=_t.useState(!1),q=IR(a),V=async()=>{g(!0),_(""),E(!1),x([]),O([]),B(!1);let Z=!1;try{Z=await XR(a)}catch{_("No se pudo conectar con el servicio o la URL es incorrecta."),g(!1);return}if(!Z){g(!1),_("No se pudo conectar con el servicio o la URL es incorrecta.");return}if(u==="WMS")try{const nt=await(await fetch(a)).text(),Mt=ip(nt,a);x(Mt),E(!0)}catch{_("No se pudieron obtener las capas del servicio: Error desconocido.")}else _("Solo se soporta WMS en esta demo.");g(!1)},z=Z=>{O(W=>W.includes(Z)?W.filter(nt=>nt!==Z):[...W,Z])},J=()=>{I?(O([]),B(!1)):(O(R.map(Z=>Z.id)),B(!0))},tt=()=>{const Z=R.filter(W=>D.includes(W.id));i(Z,a),t()};return l?Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[Y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Agregar nuevas capas"}),Y.jsx("label",{className:"block mb-2 text-sm font-medium",children:"URL del recurso"}),Y.jsx("input",{type:"text",className:`w-full border ${a&&!q?"border-red-400":"border-gray-300"} rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-400`,placeholder:"https://servidor.com/servicio?",value:a,onChange:Z=>{r(Z.target.value),_(""),E(!1),x([]),O([]),B(!1)}}),a&&!q&&Y.jsx("div",{className:"text-red-500 text-xs mb-2",children:"URL invlida"}),Y.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Tipo"}),Y.jsx("select",{className:"w-full border border-gray-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-400",value:u,onChange:Z=>h(Z.target.value),children:GR.map(Z=>Y.jsx("option",{value:Z.value,children:Z.label},Z.value))}),Y.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[Y.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50 flex items-center min-w-[110px] justify-center",disabled:!q||d,onClick:V,children:[d?Y.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}):null,"Conectar"]}),Y.jsx("button",{className:"bg-gray-200 text-gray-700 px-4 py-2 rounded",onClick:t,disabled:d,children:"Cancelar"})]}),m&&Y.jsx("div",{className:"text-red-600 text-sm mt-4",children:m}),p&&R.length>0&&Y.jsxs("div",{className:"mt-6",children:[Y.jsx("h3",{className:"font-semibold text-base mb-2",children:"Capas disponibles"}),Y.jsxs("div",{className:"mb-2 flex items-center",children:[Y.jsx("input",{type:"checkbox",id:"selectAll",checked:I,onChange:J,className:"mr-2"}),Y.jsx("label",{htmlFor:"selectAll",className:"text-sm",children:"Seleccionar todas"})]}),Y.jsxs("div",{className:"max-h-40 overflow-y-auto border rounded p-2 bg-gray-50",children:[R.map(Z=>Y.jsxs("div",{className:"flex items-center mb-1",children:[Y.jsx("input",{type:"checkbox",id:Z.id,checked:D.includes(Z.id),onChange:()=>z(Z.id),className:"mr-2"}),Y.jsxs("label",{htmlFor:Z.id,className:"text-sm cursor-pointer",children:[Y.jsx("span",{className:"font-medium",children:Z.title||Z.name}),Y.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["[",Z.type,"]"]})]})]},Z.id)),R.length===0&&Y.jsx("div",{className:"text-gray-500 text-sm",children:"No se encontraron capas."})]}),Y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[Y.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50",disabled:D.length===0,onClick:tt,children:"Agregar"}),Y.jsx("button",{className:"bg-gray-200 text-gray-700 px-4 py-2 rounded",onClick:t,children:"Cancelar"})]})]}),p&&R.length===0&&Y.jsx("div",{className:"text-gray-500 text-sm mt-4",children:"No se encontraron capas en el servicio."})]})}):null}function HR(l){const[t,i]=_t.useState([]),[a,r]=_t.useState(null),[u,h]=_t.useState(!0);return _t.useEffect(()=>{if(!l)return;let d=0;const g=async()=>{try{h(!0),r(null);const _=`${l.includes("?")?l.split("?")[0]:l}?service=WMS&version=1.3.0&request=GetCapabilities`,p=await fetch(_);if(!p.ok)throw new Error("Error al obtener el XML");const E=await p.text(),R=ip(E);i(R),h(!1)}catch(m){d<2?(d++,setTimeout(g,1e3)):(r(`No se pudo cargar el servicio WMS: ${m.message}`),h(!1))}};g()},[l]),{layers:t,error:a,loading:u}}const Qo=Zy((l,t)=>({visibleLayers:[],addLayer:i=>l(a=>a.visibleLayers.includes(i)?(console.log(`La capa ${i} ya est visible`),a):(console.log(`Agregando capa: ${i}`),{visibleLayers:[...a.visibleLayers,i]})),removeLayer:i=>l(a=>(console.log(`Removiendo capa: ${i}`),{visibleLayers:a.visibleLayers.filter(r=>r!==i)})),isLayerVisible:i=>t().visibleLayers.includes(i),setLayers:i=>{console.log("Estableciendo capas:",i),l({visibleLayers:i})},getDebugInfo:()=>({visibleLayers:t().visibleLayers,count:t().visibleLayers.length})}));function ap(l,t={}){return{service:"WMS",request:"GetLegendGraphic",format:"image/png",version:"1.1.1",layer:l,transparent:"true",scale:"1",LEGEND_OPTIONS:["fontAntiAliasing:true","dpi:111","fontName:verdana","hideEmptyRules:false","labelMargin:5",`forceTitles:${t.forceTitles??"off"}`,`forceLabels:${t.forceLabels??"off"}`].join(";")}}function Z_(l,t,i={}){let a=l;const r=ap(t,i),u=Object.entries(r).map(([d,g])=>`${encodeURIComponent(d)}=${encodeURIComponent(g)}`).join("&"),h=a.includes("?")?"&":"?";return a.endsWith("/")&&h==="?"&&(a=a.slice(0,-1)),`${a}${h}${u}`}function lp(l,t,i={}){let a;try{a=new URL(l)}catch{if(typeof window<"u"&&window.location)try{a=new URL(l,window.location.origin)}catch{return Z_(l,t,i)}else return Z_(l,t,i)}let{pathname:r,search:u,origin:h}=a;u=u.toLowerCase();const d=h==="null"||h===""?"":h;let g=r;if(["/wms","/ows","/geoserver/wms","/geoserver/ows","/wms/","/ows/","/geoserver/wms/","/geoserver/ows/"].includes(r.toLowerCase())){if(u.includes("request=getcapabilities")){const O=r.match(/(\/geoserver\/(ows|wms))/i),I=r.match(/(\/ows|\/wms)/i);O&&O[1]?g=O[1].toLowerCase().startsWith("/geoserver/ows")?"/geoserver/wms":O[1]:I&&I[1]?g=I[1].toLowerCase().startsWith("/ows")?"/wms":I[1]:g=r.toLowerCase().includes("/geoserver/")?"/geoserver/wms":"/wms"}else r.toLowerCase().startsWith("/geoserver/")?g="/geoserver/wms":r.toLowerCase().startsWith("/ows")||r.toLowerCase().startsWith("/wms")||r==="/"||r===""?g="/wms":r.includes(".")||(g=r.endsWith("/")?`${r}wms`:`${r}/wms`);g.startsWith("/")||(g="/"+g),g.endsWith("/wms/")&&(g=g.slice(0,-1)),!g.endsWith("/wms")&&(g==="/geoserver"||g==="/geoserver/")?g="/geoserver/wms":!g.endsWith("/wms")&&g!=="/wms"&&(g.toLowerCase().includes("/wms")||(g=g.replace(/\/*$/,"")+"/wms"))}let p=(d+g).replace(new RegExp("(?<!:)(\\/)+","g"),"$1");!d&&p.startsWith("//")&&(p=p.substring(1));const E=ap(t,i),R=Object.entries(E).map(([O,I])=>`${encodeURIComponent(O)}=${encodeURIComponent(I)}`).join("&"),x=p.includes("?")?"&":p.endsWith("/")?"":"?";let D=`${p}${x}${R}`;return D=D.replace("/wms/?","/wms?"),console.log(D),D}function BR({groupTitle:l,groupDescription:t,wmsUrl:i,layers:a,wmsBaseUrl:r}){return Y.jsx("div",{className:"mb-2",children:Y.jsx(rp,{title:l,groupDescription:t,children:a.map(u=>Y.jsx(op,{layer:u,wmsBaseUrl:r,parentWmsUrl:i},u.name))})})}function rp({title:l,groupDescription:t,children:i}){const[a,r]=_t.useState(!1);return Y.jsxs("div",{children:[Y.jsxs("button",{className:"w-full text-left font-bold bg-blue-300 text-grey px-4 py-2 rounded-t",onClick:()=>r(u=>!u),"aria-expanded":a,children:[l,Y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:t})]}),a&&Y.jsx("div",{className:"bg-white border border-t-0 rounded-b",children:i})]})}function op({layer:l,wmsBaseUrl:t,parentWmsUrl:i,level:a=0}){const{visibleLayers:r,addLayer:u,removeLayer:h,isLayerVisible:d}=Qo(),g=`${t}|${l.name}`,[m,_]=_t.useState(d(g));_t.useEffect(()=>{_(d(g))},[r,g,d]);const p=()=>{console.log(`Toggle capa: ${g}, actualmente visible: ${m}`),m?(h(g),console.log(`Capa removida: ${g}`)):(u(g),console.log(`Capa agregada: ${g}`))};return Y.jsxs("div",{className:`flex flex-col ${a>0?"ml-4":""}`,style:{position:"relative",overflow:"visible"},children:[Y.jsxs("div",{className:`flex items-center px-4 py-2 hover:bg-gray-100 group ${m?"bg-green-200":"bg-white"} cursor-pointer`,style:{position:"relative",overflow:"visible"},onClick:p,children:[Y.jsx("img",{src:lp(t,l.name),alt:`Leyenda de ${l.title}`,className:"ml-2 w-6 h-6 object-contain"}),Y.jsx("span",{className:"font-medium relative text-black transition-colors px-2 py-1 rounded",tabIndex:0,"aria-describedby":`desc-${g}`,onKeyDown:E=>{(E.key==="Enter"||E.key===" ")&&p()},title:`${l.title}`,style:{display:"inline-block",position:"relative",zIndex:20},role:"checkbox","aria-checked":m,children:l.title})]}),l.subLayers&&l.subLayers.length>0&&Y.jsx(rp,{title:"Subcapas",children:l.subLayers.map(E=>Y.jsx(op,{layer:E,wmsBaseUrl:t,parentWmsUrl:i,level:a+1},`${t}|${E.name}`))})]})}function VR(){const{visibleLayers:l,setLayers:t}=Qo();_t.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("layers");a&&t(a.split(","))},[t]),_t.useEffect(()=>{const i=new URLSearchParams(window.location.search);l.length>0?i.set("layers",l.join(",")):i.delete("layers"),window.history.replaceState({},"",`${window.location.pathname}?${i}`)},[l])}function ZR({importedLayers:l,onRemoveLayer:t}){const{addLayer:i,removeLayer:a,isLayerVisible:r}=Qo(),[u,h]=_t.useState(l.length>0);if(_t.useEffect(()=>{l.length>0&&h(!0)},[l.length]),!l.length)return null;const d=g=>{const m=g.wmsUrl?`${g.wmsUrl}|${g.name}`:g.id;r(m)?a(m):i(m)};return Y.jsxs("div",{className:"mb-4",children:[Y.jsx("button",{className:"w-full text-left font-bold bg-blue-300 text-grey px-4 py-2 rounded-t",onClick:()=>h(g=>!g),"aria-expanded":u,children:"Capas importadas"}),u&&Y.jsx("div",{className:"bg-white border border-t-0 rounded-b",children:l.map(g=>{const m=g.wmsUrl?`${g.wmsUrl}|${g.name}`:g.id,_=r(m);return Y.jsxs("div",{className:`flex items-center px-4 py-2 hover:bg-gray-100 group ${_?"bg-green-200":"bg-white"} cursor-pointer justify-between`,onClick:()=>d(g),style:{position:"relative",overflow:"visible"},children:[Y.jsxs("div",{className:"flex items-center",children:[g.type==="WMS"&&g.wmsUrl&&Y.jsx("img",{src:lp(g.wmsUrl,g.name),alt:`Leyenda de ${g.title}`,className:"ml-2 w-6 h-6 object-contain"}),Y.jsx("span",{className:"font-medium relative text-black transition-colors px-2 py-1 rounded",tabIndex:0,"aria-checked":_,role:"checkbox",children:g.title||g.name}),Y.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["[",g.type,"]"]})]}),Y.jsx("button",{className:"text-red-500 hover:text-red-700 text-xs ml-2",onClick:p=>{p.stopPropagation(),t(g.id)},title:"Eliminar capa",children:"Eliminar"})]},g.id)})})]})}function qR({importedLayers:l=[],onRemoveImportedLayer:t}){const i=En(r=>r.config);if(VR(),!i)return null;const a=i.layers.filter(r=>r.type==="wms");return Y.jsxs("aside",{className:"w-80 bg-white shadow-lg p-4 h-auto rounded-lg",children:[Y.jsx("h1",{className:"font-bold text-xl mb-4 text-blue-800 border-b pb-2",children:"Capas"}),Y.jsx(ZR,{importedLayers:l,onRemoveLayer:t}),a.map(r=>Y.jsx(KR,{group:r},r.nombre))]})}function KR({group:l}){const{layers:t,error:i,loading:a}=HR(l.host);return Y.jsxs("div",{className:"mb-4",children:[a&&Y.jsx("div",{children:"Cargando capas..."}),i&&Y.jsx("div",{className:"text-red-600",children:i}),t.length>0&&Y.jsx(BR,{groupTitle:l.nombre,groupDescription:l.short_abstract,wmsUrl:l.host,layers:t,wmsBaseUrl:l.host})]})}function PR({mapRef:l}){const t=En(a=>a.config),{visibleLayers:i}=Qo();return _t.useEffect(()=>{if(console.log("LayerManager: visibleLayers actualizadas",i),!l||!l.current||!t){console.log("LayerManager: No hay mapa disponible o config",{mapRef:l,config:t});return}const a=l.current.getMap?l.current.getMap():l.current;if(!a){console.log("LayerManager: No se pudo obtener la instancia del mapa");return}if(window.debugMap=window.debugMap||{},window.debugMap.currentMap=a,a.getLayers().getArray().filter(r=>r.get("isDynamicWMS")).forEach(r=>a.removeLayer(r)),i.length===0){console.log("No hay capas visibles para agregar");return}i.forEach(r=>{let u=r,h=null;if(r.includes("|")){const g=r.split("|");h=g[0],u=g[1];const m=V_({url:h,layerName:u,params:{TILED:!0,FORMAT:"image/png",TRANSPARENT:!0,VERSION:"1.3.0"},options:{layer:{visible:!0,preload:1/0,opacity:1,zIndex:1e3}}});a.addLayer(m);return}const d=t.layers.filter(g=>g.type==="wms"&&g.host&&(h?g.host===h:!0));if(d.length===0){console.error("No se encontraron configuraciones de WMS en config");return}for(const g of d){const m=g.host;console.log("Intentando crear capa con host:",m);const _=V_({url:m,layerName:u,params:{TILED:!0,FORMAT:"image/png",TRANSPARENT:!0,VERSION:"1.3.0"},options:{layer:{visible:!0,preload:1/0,opacity:1,zIndex:1e3}}});a.addLayer(_);break}}),a.updateSize(),a.render()},[i,l,t]),null}const FR=({mapInstance:l,mapReady:t})=>Y.jsxs("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 flex flex-col gap-2 z-30",children:[Y.jsx("button",{onClick:()=>(l==null?void 0:l.map)&&l.map.getView().animate({zoom:l.map.getView().getZoom()+1}),className:"bg-white p-2 rounded shadow hover:bg-gray-100",disabled:!t,"aria-label":"Acercar",children:Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Y.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})})}),Y.jsx("button",{onClick:()=>(l==null?void 0:l.map)&&l.map.getView().animate({zoom:l.map.getView().getZoom()-1}),className:"bg-white p-2 rounded shadow hover:bg-gray-100",disabled:!t,"aria-label":"Alejar",children:Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Y.jsx("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})})})]});function kR(){const l=_t.useRef(null),t=ZT(l),{selectedBaseMap:i,setSelectedBaseMap:a,baseLayers:r}=UR(t.map),[u,h]=_t.useState(!1),[d,g]=_t.useState(!0),[m,_]=_t.useState(!1),[p,E]=_t.useState([]),R=(O,I)=>{E(B=>{const q=new Set(B.map(z=>z.id));return[...O.filter(z=>!q.has(z.id)).map(z=>({...z,wmsUrl:I})),...B]})},x=O=>{E(I=>I.filter(B=>B.id!==O))},D=!!t.map;return Y.jsxs("div",{className:"h-full w-full relative",children:[Y.jsxs("div",{ref:l,className:"h-full w-full",children:[d&&Y.jsx("div",{className:"absolute top-15 left-15 z-20 max-h-[80vh] overflow-y-auto overflow-x-hidden",children:Y.jsx(qR,{importedLayers:p,onRemoveImportedLayer:x})}),Y.jsx("div",{className:"absolute left-4 top-20 transform -translate-y-1/2 z-20",children:Y.jsx("button",{onClick:()=>g(!d),className:`bg-white p-2 rounded-md shadow hover:bg-gray-100 transition-all ${d?"bg-blue-50":""}`,"aria-label":d?"Ocultar panel de capas":"Mostrar panel de capas",children:Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${d?"text-blue-600":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:d?"M15 19l-7-7 7-7":"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})}),Y.jsx("button",{className:"fixed top-6 right-6 z-50 bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 transition",onClick:()=>_(!0),children:"Agregar capas"}),Y.jsx(YR,{isOpen:m,onClose:()=>_(!1),onAddLayers:R}),Y.jsx(FR,{mapInstance:t,mapReady:D}),Y.jsx("div",{className:"absolute bottom-10 left-4 z-30",children:Y.jsxs("div",{className:"flex flex-row items-center",children:[Y.jsxs("button",{onClick:()=>h(!u),className:"bg-white rounded-md w-[50px] h-[50px] shadow hover:bg-gray-100 p-0 overflow-hidden relative",children:[i!=null&&i.thumbnail?Y.jsx("img",{src:i.thumbnail,alt:i.name,className:"w-full h-full object-cover"}):Y.jsx("div",{className:"flex items-center justify-center h-full",children:Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),Y.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-[2px] truncate text-center",children:(i==null?void 0:i.name)||"Base"})]}),u&&Y.jsx("div",{className:"ml-2",children:Y.jsx(jR,{baseLayers:r,selectedBaseMap:i,onSelect:O=>{a(O),h(!1)}})})]})})]}),Y.jsx(PR,{mapRef:{current:t.map}})]})}const q_=_t.createContext("production");function QR({children:l,environment:t="production"}){const[i,a]=_t.useState(null),r=En(g=>g.isLoaded),u=En(g=>g.error),h=En(g=>g.setConfig),d=En(g=>g.applyPartialConfig);return _t.useEffect(()=>{if(i){const g=setTimeout(()=>a(null),5e3);return()=>clearTimeout(g)}},[i]),_t.useEffect(()=>{const g=m=>{var _,p;if(((_=m.data)==null?void 0:_.type)==="UPDATE_CONFIG"&&((p=m.data)!=null&&p.config)){let E={success:!1,message:"",hasChanges:!1};try{const R=Py(m.data.config,m.data.partial===!0);if(R.isValid)m.data.partial===!0?E=d(m.data.config,"postMessage"):E=h(m.data.config,"postMessage"),E.success||a(`Error en configuracin: ${E.message}`);else{const x=`Configuracin invlida: ${R.errors.join(", ")}`;a(x),console.error(`[CONFIG] Error de validacin: ${x}`),E={success:!1,message:x,hasChanges:!1}}}catch(R){const x=`Error inesperado: ${R.message}`;a(x),console.error(`[CONFIG] ${x}`),E={success:!1,message:x,hasChanges:!1}}m.source&&typeof m.source.postMessage=="function"&&m.source.postMessage({type:"CONFIG_UPDATED",success:E.success,message:E.message,hasChanges:E.hasChanges,timestamp:new Date().toISOString(),partial:m.data.partial===!0},m.origin)}};return window.addEventListener("message",g),()=>{window.removeEventListener("message",g),typeof window<"u"&&(delete window.updateMapConfig,delete window.updateMapConfigPartial,delete window.getCurrentMapConfig)}},[h,d]),u?Y.jsxs("div",{className:"config-error",style:{position:"fixed",top:"20px",right:"20px",background:"#ff4444",color:"white",padding:"10px",borderRadius:"4px",zIndex:1e4,maxWidth:"300px",fontSize:"14px"},children:[Y.jsx("strong",{children:"Error de configuracin:"}),Y.jsx("br",{}),u]}):i?Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"config-error-temporary",style:{position:"fixed",top:"20px",right:"20px",background:"#ff8800",color:"white",padding:"10px",borderRadius:"4px",zIndex:1e4,maxWidth:"300px",fontSize:"14px"},children:i}),Y.jsx(q_.Provider,{value:t,children:l})]}):r?Y.jsx(q_.Provider,{value:t,children:l}):Y.jsx("div",{className:"config-loading",children:"Cargando configuracin..."})}const WR={data:{sectionIcon:"fa-solid fa-table",layerOptions:{isActive:!1,zoomAt:!0,download:!0,metadata:!0,tableView:!0,opacity:!0,tooltip:!0,legend:!0},backgrounds:{argenmap:{name:"argenmap",attribution:"bla'>Esri</a>",url:"https:///{z}/{y}/{x}.png"}},sources:{source_a:{maxzoom:6,tileSize:256,tiles:{0:"https://algo/{z}/{x}/{y}.png"},type:"raster"},source_b:{maxzoom:6,tileSize:256,tiles:{0:"https://algo/{z}/{x}/{y}.png"},type:"raster"}},layers:{0:{name:"hillshade",attribution:"sombra de montaa <a target='_blank' href='https://www.arcgis.com/home/item.html?id=1b243539f4514b6ba35e7d995890db1d'>Esri</a>",url:"https://services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer/tile/{z}/{y}/{x}.png",addTo:{0:"argenmap"},icon:"src/styles/images/mountains.svg",switchLabel:"Agregar sombra de montaa Esri"},1:{name:"folder_b",title:"Content B",source:"source_b"},2:{name:"sub_a",title:"Sub Content A",parent:"folder_a",source:"source_a"},3:{name:"sub_b",title:"Sub Content B",parent:"folder_a",source:"source_b"}},overlays:{hillshade:{name:"hillshade",attribution:"sombra de montaa <a target='_blank' href='https://www.arcgis.com/home/item.html?id=1b243539f4514b6ba35e7d995890db1d'>Esri</a>",url:"https://services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer/tile/{z}/{y}/{x}.png",addTo:{0:"argenmap"},icon:"src/styles/images/mountains.svg",switchLabel:"Agregar sombra de montaa Esri"},timeZones:{},tropicPolarLines:{color:"#000000",width:1}}}};function K_(){return{layerConfig:WR}}typeof window<"u"&&(window.getLayerConfig=K_,window.addEventListener("message",l=>{var i;const{tipo:t}=l.data||{};t==="PEDIR_CONFIG"&&((i=l.source)==null||i.postMessage({tipo:"CONFIG_ACTUAL",payload:K_()},l.origin||"*"))}));function $R(){const l="production",t=En(i=>i.setConfig);return _t.useEffect(()=>{const i=document.getElementById("external-config");if(i){const a=JSON.parse(i.textContent);t(a)}},[]),Y.jsx(QR,{environment:l,children:Y.jsx("div",{className:"app-container",children:Y.jsx(kR,{})})})}window.debugMap={showConfig:()=>{const l=l.getState();return console.log("--- Configuracin ---"),console.log("Estado de carga:",{isLoaded:l.isLoaded,isLoading:l.isLoading,error:l.error}),console.log("Configuracin:",l.config),l.config},getConfigValue:(l,t)=>En.getState().getConfigValue(l,t),showActiveLayers:l=>{if(!l){console.error("No se proporcion un mapa vlido");return}const t=l.getLayers().getArray();console.log(`--- Capas en el mapa (${t.length} capas) ---`),t.forEach((i,a)=>{const r=i.get("name")||"Sin nombre",u=i.get("isDynamicWMS")||!1,h=i.getVisible(),d=i.getSource(),g=d.constructor.name;if(console.log(`${a+1}. ${r} - Tipo: ${g} - Visible: ${h} - Dinmica: ${u}`),g==="TileWMS"){const m=d.getUrls()?d.getUrls()[0]:d.getUrl(),_=d.getParams();console.log(`   URL: ${m}`),console.log("   Parmetros:",_)}})},showLayerStore:l=>{if(!l){console.error("No se proporcion un store de capas vlido");return}const{visibleLayers:t}=l.getState();console.log("--- Estado del store de capas ---"),console.log(`Capas visibles (${t.length}):`,t)},addLayerToStore:(l,t)=>{if(!l||!t){console.error("Faltan parmetros");return}l.getState().addLayer(t),console.log(`Se agreg la capa '${t}' al store`)},showWmsLayer:(l,t,i)=>{var d,g,m,_;if(!l||!t||!i){console.error("Faltan parmetros");return}const a=(g=(d=window.ol)==null?void 0:d.layer)==null?void 0:g.Tile,r=(_=(m=window.ol)==null?void 0:m.source)==null?void 0:_.TileWMS;if(!a||!r){console.error("No se encontraron las clases de OpenLayers");return}const u=new r({url:t,params:{LAYERS:i,TILED:!0,FORMAT:"image/png",TRANSPARENT:!0,VERSION:"1.3.0"},serverType:"geoserver",crossOrigin:"anonymous"});u.on("tileloaderror",function(p){console.error("Error cargando tile:",p)});const h=new a({source:u,visible:!0,opacity:1,zIndex:1e3});return l.addLayer(h),console.log(`Se agreg la capa '${i}' al mapa desde ${t}`),h}};console.log(`
Herramientas de depuracin disponibles en window.debugMap:
- showConfig() - Muestra la configuracin global actual
- getConfigValue(path, defaultValue) - Obtiene un valor especfico de la configuracin
- showActiveLayers(map) - Muestra todas las capas activas en el mapa
- showLayerStore(layerStore) - Muestra el estado actual del store de capas
- addLayerToStore(layerStore, layerName) - Agrega una capa al store manualmente
- showWmsLayer(map, wmsUrl, layerName) - Muestra una capa WMS especfica
`);X1.createRoot(document.getElementById("root")).render(Y.jsx(_t.StrictMode,{children:Y.jsx($R,{})}));
